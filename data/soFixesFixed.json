[
  {
    "PostId": "2222004",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "157269508",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var sys  = require('sys'),\n        http = require('http');\n    \n    var number = 0;\n    \n    http.createServer(function (req, res) {\n    \n            res.sendHeader(200, {'Content-Type': 'text/html'});\n            res.sendBody('<h1>Number is: ' + number + '</h1>');\n            res.finish();\n    \n            number++;\n    \n    }).listen(8000);\n    \n    sys.puts('Server running at http://127.0.0.1:8000/');",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8518518518518519,
        "Content": "    var sys  = require('sys'),\n        http = require('http');\n    \n    var number = 0;\n    \n    http.createServer(function (req, res) {\n            console.log(req.method, req.url);\n    \n            res.writeHead(200, {'Content-Type': 'text/html'});\n            res.write('<h1>Number is: ' + number + '</h1>');\n            res.end();\n    \n            number++;\n    \n    }).listen(8000);\n    \n    sys.puts('Server running at http://127.0.0.1:8000/');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "2497040",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "160946399",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs.writeFile(\"/tmp/test\", \"Hey there!\", function(err) {\n        if(err) {\n            sys.puts(err);\n        } else {\n            sys.puts(\"The file was saved!\");\n        }\n    }); ",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9,
        "Content": "    const fs = require('fs');\n    fs.writeFile(\"/tmp/test\", \"Hey there!\", function(err) {\n        if(err) {\n            return console.log(err);\n        }\n        console.log(\"The file was saved!\");\n    }); \n    // Or\n    fs.writeFileSync('/tmp/test-sync', 'Hey there!');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "2563459",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "161810369",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var sys = require('sys'),\n    http = require('http');\n    http.createServer(function (req, res) {\n        res.writeHead(200, {'Content-Type': 'text/html'});\n        var currentTime = new Date();\n        sys.puts('Starting sending time');\n        setInterval(function(){\n            res.write(\n                currentTime.getHours()\n                + ':' +\n                currentTime.getMinutes()\n                + ':' +\n                currentTime.getSeconds() + \"\\n\"\n            );\n            setTimeout(function() {\n                res.close();\n            }, 10000);\n        },1000);\n    }).listen(8090, '192.168.175.128');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9696969696969697,
        "Content": "    var sys = require('sys'),\n    http = require('http');\n    http.createServer(function (req, res) {\n        res.writeHead(200, {'Content-Type': 'text/html'});\n        var currentTime = new Date();\n        sys.puts('Starting sending time');\n        setInterval(function(){\n            res.write(\n                currentTime.getHours()\n                + ':' +\n                currentTime.getMinutes()\n                + ':' +\n                currentTime.getSeconds() + \"\\n\"\n            );\n            setTimeout(function() {\n                res.end();\n            }, 10000);\n        },1000);\n    }).listen(8090, '192.168.175.128');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "4109789",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "182204327",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var contact    = require('contact'),\n        createName = require('contact').createName;\n    \n    person = contact.create({\n        'name': createName()\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.125,
        "Content": "    exports.normal = function() {\n    \tconsole.log(\"Exporting is normal\");\n    };\n    \n    GLOBAL.superior = function() {\n    \tconsole.log(\"Global is superior\");\n    };\n    \n    var privateInferior = function() {\n    \tconsole.log(\"Private is inferior\")\n    }\n    \n    var i_am_a_variable = 5;\n  \n    var i_m_an_array = [1, 2, 3, 4, 5];",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "4335725",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "185212389",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var models = require('./model);\n    models.users.create(); // some function exported in model/users.js\n    models.posts.list(); // this was exported in model/posts.js",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    var models = require('./model');\n    models.users.create(); // some function exported in model/users.js\n    models.posts.list(); // this was exported in model/posts.js",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "4506306",
    "RootLocalId": "16",
    "RootPostBlockVersionId": "187466039",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var spawn = require('child_process').spawn;\n    var commands = [\n        {cmd: 'ls', args: ['-lh', '/etc' ]},\n        {cmd: 'ls', args: ['-lh', '/usr' ]},\n        {cmd: 'ls', args: ['-lh', '/home']}\n    ];\n    var index, command, child;\n    for (index = 0; index < processes.length; ++index) {\n        command = commands[index];\n        child = spawn(command.cmd, command.args);\n        child.on('exit', makeExitCallback(index));\n    }\n    function makeExitCallback(i) {\n        return function() {\n            console.log(\"Process index \" + i + \" exited\");\n        };\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.972972972972973,
        "Content": "    var spawn = require('child_process').spawn;\n    var commands = [\n        {cmd: 'ls', args: ['-lh', '/etc' ]},\n        {cmd: 'ls', args: ['-lh', '/usr' ]},\n        {cmd: 'ls', args: ['-lh', '/home']}\n    ];\n    var index, command, child;\n    for (index = 0; index < commands.length; ++index) {\n        command = commands[index];\n        child = spawn(command.cmd, command.args);\n        child.on('exit', makeExitCallback(index));\n    }\n    function makeExitCallback(i) {\n        return function() {\n            console.log(\"Process index \" + i + \" exited\");\n        };\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "4571377",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "188317302",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs'),\n        util = require('util');\n    var is = fs.createReadStream('source_file')\n    var os = fs.createWriteStream('destination_file');\n    util.pump(is, os, function() {\n        fs.unlinkSync('source_file');\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9811320754716981,
        "Content": "    var fs = require('fs');\n    //var util = require('util');\n    var is = fs.createReadStream('source_file');\n    var os = fs.createWriteStream('destination_file');\n    is.pipe(os);\n    is.on('end',function() {\n        fs.unlinkSync('source_file');\n    });\n    /* node.js 0.6 and earlier you can use util.pump:\n    util.pump(is, os, function() {\n        fs.unlinkSync('source_file');\n    });\n    */",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "4782762",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "191178182",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    client.connect('127.0.0.1:11300', function(err, conn) {\n        var job_data = {\"data\": {\"name\": \"node-beanstalk-client\"}};\n        var priority = 0;\n        var delay = 5;\n        var timeToRun = 1;\n        conn.put(priority, delay, timeToRun, JSON.stringify(job_data), function(err, job_id) {\n            console.log('put job: ' + job_id);\n            process.exit();\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.96,
        "Content": "    var client = require('beanstalk_client').Client;\n    client.connect('127.0.0.1:11300', function(err, conn) {\n        var job_data = {\"data\": {\"name\": \"node-beanstalk-client\"}};\n        var priority = 0;\n        var delay = 5;\n        var timeToRun = 1;\n        conn.put(priority, delay, timeToRun, JSON.stringify(job_data), function(err, job_id) {\n            console.log('put job: ' + job_id);\n            process.exit();\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5197219",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "196719625",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (function () {\n        // Establish the root object, `window` in the browser, or `global` on the server.\n        var root = this; \n        // Create a refeence to this\n        var _ = new Object();\n        // Export the Underscore object for **CommonJS**, with backwards-compatibility\n        // for the old `require()` API. If we're not in CommonJS, add `_` to the\n        // global object.\n        if (typeof module !== 'undefined' && module.exports) {\n                module.exports = W;\n                root.W = W;\n        } else {\n                root.W = W;\n        }\n    })();",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    (function () {\n        // Establish the root object, `window` in the browser, or `global` on the server.\n        var root = this; \n        // Create a reference to this\n        var _ = new Object();\n        var isNode = false;\n        // Export the Underscore object for **CommonJS**, with backwards-compatibility\n        // for the old `require()` API. If we're not in CommonJS, add `_` to the\n        // global object.\n        if (typeof module !== 'undefined' && module.exports) {\n                module.exports = _;\n                root._ = _;\n                isNode = true;\n        } else {\n                root._ = _;\n        }\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5286304",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "197899826",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    connect.createServer(\n      connect.cookieDecoder(),\n      // 5 minutes\n      connect.session({ store: new RedisStore })\n    );",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.72,
        "Content": "        var connect = require('connect') , RedisStore = require('connect-redis');\n            \n        connect.createServer(\n          connect.cookieParser(),\n          // 5 minutes\n          connect.session({ store: new RedisStore })\n        );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5499140",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "200748296",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    require('node.io').scrape(function() {\n        this.get('http://finance.yahoo.com/d/quotes.csv?s=XOM=sn1yr', function(err, data) {\n            var lines = data.split('\\n');\n            for (var line, i = 0, l = lines.length; i < l) {\n                line = this.parseValues(lines[i]);\n                console.log(line); //['XOM, '4:00pm - <b>83.25`</b>`', '2.11', '13.42']\n                //Do something with your data..\n            }\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.967741935483871,
        "Content": "    require('node.io').scrape(function() {\n        this.get('http://finance.yahoo.com/d/quotes.csv?s=XOM=sn1yr', function(err, data) {\n            var lines = data.split('\\n');\n            for (var line, i = 0, l = lines.length; i < l; i++) {\n                line = this.parseValues(lines[i]);\n                console.log(line); //['XOM, '4:00pm - <b>83.25`</b>`', '2.11', '13.42']\n                //Do something with your data..\n            }\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5690167",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "203290991",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mod = require('modulename');\n    var somePerson = new Person('Will');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var mod = require('modulename');\n    var somePerson = new mod.Person('Will');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5732087",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "203848072",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    arr = [{x:1},{x:2},{x:4}]\n    arr.reduce(function(a,b){return {x: a.x + b.x};})",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var arr = [{x:1},{x:2},{x:4}];\n    arr.reduce(function (a, b) {\n      return {x: a.x + b.x}; // returns object with property x\n    })\n    // ES6\n    arr.reduce((a, b) => ({x: a.x + b.x}));\n    // -> {x: 7}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5766183",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "204308396",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    socket.on('connection', function(client) {\n        // We declare that the first message contains the SID.\n        // This is where we handle the first message.\n        client.once('message', function(sid) {\n          store.get(sid, function(err, session) {\n            if (err || !data) {\n              // Do some error handling, bail.\n              return;\n            }\n            // Any messages following are your chat messages.\n            client.on('message', function(message) {\n              if (message.email == session.email) {\n                socket.broadcast(message.text);\n              }\n            });\n          });\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var io      = require('socket.io'),\n        express = require('express');\n    var app    = express.createServer(),\n        socket = io.listen(app),\n        store  = new express.session.MemoryStore;\n    app.use(express.cookieParser());\n    app.use(express.session({ secret: 'something', store: store }));\n    app.get('/', function(req, res) {\n      var old = req.session.email;\n      req.session.email = req.param('email');\n      res.header('Content-Type', 'text/plain');\n      res.send(\"Email was '\" + old + \"', now is '\" + req.session.email + \"'.\");\n    });\n    socket.on('connection', function(client) {\n      // We declare that the first message contains the SID.\n      // This is where we handle the first message.\n      client.once('message', function(sid) {\n        store.get(sid, function(err, session) {\n          if (err || !session) {\n            // Do some error handling, bail.\n            return;\n          }\n          // Any messages following are your chat messages.\n          client.on('message', function(message) {\n            if (message.email === session.email) {\n              socket.broadcast(message.text);\n            }\n          });\n        });\n      });\n    });\n    app.listen(4000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5941728",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "206625401",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    _.isArray = nativeIsArray || function(obj) {\n        return toString.call(obj) === '[object Array]';\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var toString = Object.prototype.toString,\n        nativeIsArray = Array.isArray;\n    _.isArray = nativeIsArray || function(obj) {\n        return toString.call(obj) === '[object Array]';\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "5998090",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "207375898",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var io = require('socket.io');\n    var app = module.exports = express.createServer();\n    app.configure( function () {\n      app.set('views', __dirname + '/views');\n      app.set('view engine', 'jade');\n      app.use(express.methodOverride());\n      app.use(app.router);\n      app.use(express.static(__dirname + '/public'));\n    });\n    app.configure('development', function () {\n      app.use(express.errorHandler({ dumpExceptions: true, showStack: true })); \n    });\n    app.configure('production', function () {\n      app.use(express.errorHandler()); \n    });\n    app.get('/', function (req, res, next) {\n      res.render('index', {\n        title: 'socket.io test'\n      });\n    });\n    app.listen( 8080 );\n    console.log(\"Express server listening on port %d\", app.address().port);\n    socket.on('connection', function(client){ \n      client.send({ data: [1,2,3] });\n       client.on('message', function (msg){\n         console.log( msg );\n       }); \n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // expressjs.com, a web framework\n    var express = require('express');\n    // socket.io, real time communications\n    var io = require('socket.io');\n    \n    //create web server\n    var app = module.exports = express.createServer();\n \n    //configure web server\n    app.configure( function () {\n      app.set('views', __dirname);\n      app.set('view engine', 'jade');\n      app.use(app.router);\n    });\n    //handle requests for /\n    app.get('/', function (req, res, next) {\n      res.render('index', {\n        title: 'socket.io test'\n      });\n    });\n    // listen on port 8080\n    app.listen( 8080 );\n    console.log(\"Express server listening on port %d\", app.address().port);\n    \n    // attach socket.io to the web server\n    var socket = io.listen( app ); \n    // when a client connects\n    socket.on('connection', function(client){ \n      //send the client some data\n      client.send({ data: [1,2,3] });\n      // when the client sends back data\n      client.on('message', function (msg){\n        // log the data\n        console.log( msg );\n      }); \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6012543",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207570433",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http'),\n          fs = require('fs'),\n         url = requre('url'),\n     choices = [\"hello world\", \"goodbye world\"];\n    http.createServer(function(request, response){\n        var path = url.parse(request.url).pathname;\n        if(path==\"/getstring\"){\n            console.log(\"request recieved\");\n            var string = choices[Math.floor(Math.random()*choices.length)];\n            console.log(\"string '\" + string + \"' chosen\");\n            response.sendHeader(200, {\"Content-Type\": \"text/plain\"});\n            response.end(string);\n            console.log(\"string sent\");\n        }else{\n            fs.readFile('./index.html', function(err, file) {  \n                if(err) {  \n                    // write an error response or nothing here  \n                    return;  \n                }  \n                response.sendHeader(200, { 'Content-Type': 'text/html' });  \n                response.end(file, \"utf-8\");  \n            });\n        }\n    }).listen(8001);\n    console.log(\"server initialized\");",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9814814814814815,
        "Content": "    var http = require('http'),\n          fs = require('fs'),\n         url = require('url'),\n     choices = [\"hello world\", \"goodbye world\"];\n    http.createServer(function(request, response){\n        var path = url.parse(request.url).pathname;\n        if(path==\"/getstring\"){\n            console.log(\"request recieved\");\n            var string = choices[Math.floor(Math.random()*choices.length)];\n            console.log(\"string '\" + string + \"' chosen\");\n            response.writeHead(200, {\"Content-Type\": \"text/plain\"});\n            response.end(string);\n            console.log(\"string sent\");\n        }else{\n            fs.readFile('./index.html', function(err, file) {  \n                if(err) {  \n                    // write an error response or nothing here  \n                    return;  \n                }  \n                response.writeHead(200, { 'Content-Type': 'text/html' });  \n                response.end(file, \"utf-8\");  \n            });\n        }\n    }).listen(8001);\n    console.log(\"server initialized\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6158966",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209519270",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // We need this to build our post string\n    var querystring = require('querystring');\n    \n    var code =\"// ADD YOUR CODE HERE\\n\" +\n    \"function hello(name) {\\n\" +\n    \" alert('Hello, ' + name);\\n\" +\n    \"}\\n\" +\n    \"hello('New user');\\n\";\n    \n    // Build the post string from an object\n    var post_data = querystring.stringify({  \n        'compilation_level' : 'ADVANCED_OPTIMIZATIONS',  \n        'output_format': 'json',\n        'output_info': 'compiled_code',\n          'warning_level' : 'QUIET',\n          'js_code' : code\n    });\n    \n    // An object of options to indicate where to post to\n    var post_options = {  \n        host: 'closure-compiler.appspot.com',  \n        port: '80',  \n        path: '/compile',  \n        method: 'POST',  \n        headers: {  \n            'Content-Type': 'application/x-www-form-urlencoded',  \n            'Content-Length': post_data.length  \n        }  \n    }; \n    \n    // Set up the request\n    var post_req = http.request(post_options, function(res) {  \n        res.setEncoding('utf8');  \n        res.on('data', function (chunk) {  \n            console.log('Response: ' + chunk);  \n        });  \n    });\n    \n    // post the data\n    post_req.write(post_data);  \n    post_req.end();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9920634920634921,
        "Content": "    // We need this to build our post string\n    var querystring = require('querystring');\n    var http = require('http');\n    var fs = require('fs');\n    \n    function PostCode(codestring) {\n      // Build the post string from an object\n      var post_data = querystring.stringify({\n          'compilation_level' : 'ADVANCED_OPTIMIZATIONS',\n          'output_format': 'json',\n          'output_info': 'compiled_code',\n            'warning_level' : 'QUIET',\n            'js_code' : codestring\n      });\n    \n      // An object of options to indicate where to post to\n      var post_options = {\n          host: 'closure-compiler.appspot.com',\n          port: '80',\n          path: '/compile',\n          method: 'POST',\n          headers: {\n              'Content-Type': 'application/x-www-form-urlencoded',\n              'Content-Length': Buffer.byteLength(post_data)\n          }\n      };\n    \n      // Set up the request\n      var post_req = http.request(post_options, function(res) {\n          res.setEncoding('utf8');\n          res.on('data', function (chunk) {\n              console.log('Response: ' + chunk);\n          });\n      });\n    \n      // post the data\n      post_req.write(post_data);\n      post_req.end();\n    \n    }\n    \n    // This is an async file read\n    fs.readFile('LinkedList.js', 'utf-8', function (err, data) {\n      if (err) {\n        // If this were just a small part of the application, you would\n        // want to handle this differently, maybe throwing an exception\n        // for the caller to handle. Since the file is absolutely essential\n        // to the program's functionality, we're going to exit with a fatal\n        // error instead.\n        console.log(\"FATAL An error occurred trying to read in the file: \" + err);\n        process.exit(-2);\n      }\n      // Make sure there's data before we post it\n      if(data) {\n        PostCode(data);\n      }\n      else {\n        console.log(\"No data to post\");\n        process.exit(-1);\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6278618",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "211134113",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.on('uncaughtException', function (err) {\n      console.log('Oh shit recover somehow\");\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.875,
        "Content": "    process.on('uncaughtException', function (err) {\n      console.log('Oh shit recover somehow');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6287949",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "211263813",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs.readdir('./myfiles/',function(err,files){\n        if(err) throw err;\n        files.forEach(function(file){\n            // do something with each file HERE!\n        });\n     });\n     // because trying to do something with files here won't work because\n     // the callback hasn't fired yet.",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9259259259259259,
        "Content": "    var fs = require('fs');\n    fs.readdir('./myfiles/',function(err,files){\n        if(err) throw err;\n        files.forEach(function(file){\n            // do something with each file HERE!\n        });\n     });\n     // because trying to do something with files here won't work because\n     // the callback hasn't fired yet.",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6305313",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "211490300",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var redis = require('redis'),\n    db = redis.createClient();\n    db.select(1, function(err,res){\n      if(err) return callback(err);\n      db.set('key', 'string'); // this will be posted to database 1 rather than db 0\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var redis = require('redis'),\n    db = redis.createClient();\n    db.select(1, function(err,res){\n      // you'll want to check that the select was successful here\n      // if(err) return err;\n      db.set('key', 'string'); // this will be posted to database 1 rather than db 0\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6388976",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "212615227",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    \n    var http = require('http');\n    var server = http.createServer(function (req, res) {\n      res.writeHead(200, {'Content-Type': 'text/plain'});\n      res.end('Hello ' + req.connection.remoteAddress + '!';\n    });\n    server.on('connection', function(sock) {\n      console.log('Client connected from ' + sock.remoteAddress);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9565217391304348,
        "Content": "    \n    var http = require('http');\n    var server = http.createServer(function (req, res) {\n      res.writeHead(200, {'Content-Type': 'text/plain'});\n      res.end('Hello ' + req.connection.remoteAddress + '!');\n      // Client address in request -----^\n    });\n    server.on('connection', function(sock) {\n      console.log('Client connected from ' + sock.remoteAddress);\n      // Client address at time of connection ----^\n    });\n    server.listen(9797);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6401299",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "212778947",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    function get_line(filename, line_no, callback) {\n        var data = fs.readFileSync(filename, 'utf8');\n        var lines = data.split(\"\\n\");\n    \n        if(+line_no > lines.length){\n          throw new Error('File end reached without finding line');\n        }\n    \n        callback(null, lines.slice(+line_no-1, +line_no));\n    }\n    get_line('./file.txt', 9, function(err, line){\n      console.log('The line: ' + data);\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs');\n    function get_line(filename, line_no, callback) {\n        var data = fs.readFileSync(filename, 'utf8');\n        var lines = data.split(\"\\n\");\n    \n        if(+line_no > lines.length){\n          throw new Error('File end reached without finding line');\n        }\n    \n        callback(null, lines[+line_no]);\n    }\n    get_line('./file.txt', 9, function(err, line){\n      console.log('The line: ' + line);\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6402016",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "212788935",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = new Function() {}",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    module.exports = function() {}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6402016",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "212788937",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports.someFunc = new Function(){}",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    module.exports.someFunc = function(){}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6525407",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214422597",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var forever = require('forever');\n    var child = new (forever.Monitor)('your-filename.js', {\n      max: 3,\n      silent: true,\n      options: []\n    });\n    child.on('exit', this.callback);\n    child.start();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    var forever = require('forever-monitor');\n    \n      var child = new (forever.Monitor)('your-filename.js', {\n        max: 3,\n        silent: true,\n        options: []\n      });\n    \n      child.on('exit', function () {\n        console.log('your-filename.js has exited after 3 restarts');\n      });\n    \n      child.start();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6702513",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "216763686",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.debug = function(x) {\n      process.binding('stdio').writeError('DEBUG: ' + x + '\\n');\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    exports.debug = function(x) {\n      process.stderr.write('DEBUG: ' + x + '\\n');\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6817971",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "218281407",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    net = require(\"net\");\n    \n    // Node.js \n    \n    var Policy = net.createServer(function(socket)\n    {\n    \tsocket.setEncoding('utf8');\n    \tsocket.on('connect',function(){\n    \t\tconsole.log(\"Policy Request\");\n    \t\tsocket.end(\"<?xml version=\\\"1.0\\\"?><!DOCTYPE cross-domain-policy SYSTEM \\\"/xml/dtds/cross-domain-policy.dtd\\\"><cross-domain-policy><allow-access-from domain=\\\"*\\\" to-ports=\\\"*\\\" secure=\\\"false\\\"/></cross-domain-policy>\");\n    \t});\n    });\n    \n    Policy.listen(843); ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var net = require(\"net\");\n    \n    // Node.js \n    \n    var Policy = net.createServer(function(socket)\n    {\n    \tsocket.setEncoding('utf8');\n    \tsocket.on('connect',function(){\n    \t\tconsole.log(\"Policy Request\");\n    \t\tsocket.end(\"<?xml version=\\\"1.0\\\"?><!DOCTYPE cross-domain-policy SYSTEM \\\"/xml/dtds/cross-domain-policy.dtd\\\"><cross-domain-policy><allow-access-from domain=\\\"*\\\" to-ports=\\\"*\\\" secure=\\\"false\\\"/></cross-domain-policy>\");\n    \t});\n    });\n    \n    Policy.listen(843); ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6820165",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "218310380",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var ReadableStream = Object.getPrototypeOf(process.stdin);\n    \n    ReadableStream.read = function(cb) {\n        this.on('data', function(buf) {\n            cb(null, buf);\n        });\n        \n        this.on('error', function(err) {\n            cb(err, null);    \n        });\n        \n        this.on('end', function() {\n            cb(null, null);\n        });\n        \n        this.on('close', function() {\n            cb(new Error(\"Stream closed\", null);\n        }):\n    };",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var ReadableStream = Object.getPrototypeOf(process.stdin);\n    \n    ReadableStream.read = function(cb) {\n        this.on('data', function(buf) {\n            cb(null, buf);\n        });\n        \n        this.on('error', function(err) {\n            cb(err, null);    \n        });\n        \n        this.on('end', function() {\n            cb(null, null);\n        });\n        \n        this.on('close', function() {\n            cb(new Error(\"Stream closed\"), null);\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "6960795",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "220164684",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tvar fs = require('fs');\n\tfs.readdir('/path/to/html/files', function(err, files) {\n\t\tfiles.filter(function(file) { return file.substr(-5) == '.html'); })\n\t\t\t .forEach(function(file) { fs.readFile(file, 'utf-8', function(err, contents) { inspectFile(contents); }); });\n\t});\n\tfunction inspectFile(contents) {\n\t\tif (contents.indexOf('data-template=\"home\"') != -1) {\n\t\t\t// do something\n\t\t}\n\t}",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9433962264150944,
        "Content": "\tvar fs = require('fs');\n\tfs.readdir('/path/to/html/files', function(err, files) {\n\t\tfiles\n             .filter(function(file) { return file.substr(-5) === '.html'; })\n\t\t\t .forEach(function(file) { fs.readFile(file, 'utf-8', function(err, contents) { inspectFile(contents); }); });\n\t});\n\tfunction inspectFile(contents) {\n\t\tif (contents.indexOf('data-template=\"home\"') != -1) {\n\t\t\t// do something\n\t\t}\n\t}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7087222",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "221845501",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    if (process.stdout.isTTY)) {\n      console.log('not redirected');\n    }\n    else {\n      console.log('redirected');\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    if (process.stdout.isTTY) {\n      console.log('not redirected');\n    }\n    else {\n      console.log('redirected');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7285496",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224487099",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    doc.begin('root')\n      .ele('xmlbuilder')\n        .att('for', 'node-js')\n        .ele('repo')\n          .att('type', 'git')\n          .txt('git://github.com/oozcitak/xmlbuilder-js.git') \n        .up()\n      .up()\n      .ele('test')\n        .txt('complete');\n    console.log(doc.toString({ pretty: true }));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8780487804878049,
        "Content": "    var builder = require('xmlbuilder');\n    var doc = builder.create('root');\n    doc.ele('xmlbuilder')\n        .att('for', 'node-js')\n        .ele('repo')\n          .att('type', 'git')\n          .txt('git://github.com/oozcitak/xmlbuilder-js.git') \n        .up()\n      .up()\n      .ele('test')\n        .txt('complete');\n    console.log(doc.toString({ pretty: true }));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7294279",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224604641",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var jade = require('jade');\n    var fs = require('fs');\n    var jadefile = fs.readFileSync('code.jade');\n    var jadetemple = jade.compile(jadefile);\n    var html = jadetemplate({\n      users: {\n        tj: { age: 23, email: 'tj@vision-media.ca', isA: 'human' },\n        tobi: { age: 1, email: 'tobi@is-amazing.com', isA: 'ferret' }\n      }\n    });\n    console.log(html);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var jade = require('jade');\n    var fs = require('fs');\n    var jadetemplate = jade.compile(fs.readFileSync('code.jade', 'utf8'));\n    var html = jadetemplate({\n      users: {\n        tj: { age: 23, email: 'tj@vision-media.ca', isA: 'human' },\n        tobi: { age: 1, email: 'tobi@is-amazing.com', isA: 'ferret' }\n      }\n    });\n    console.log(html);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7313005",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "224847423",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "\t\tvar d = require('domain').create();\n\t\td.on('error', function(err){\n\t\t\t// handle the error safely\n\t\t\tconsole.log(err);\n\t\t\tprocess.exit();\n\t\t}\n\t\t// catch the uncaught errors in this asynchronous or synchronous code block\n\t\td.run(function(){\n\t\t\t// the asynchronous or synchronous code that we want to catch thrown errors on\n\t\t\tvar err = new Error('example');\n\t\t\tthrow err;\n\t});",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "\t\tvar d = require('domain').create()\n\t\td.on('error', function(err){\n\t\t\t// handle the error safely\n\t\t\tconsole.log(err)\n\t\t})\n\t\t// catch the uncaught errors in this asynchronous or synchronous code block\n\t\td.run(function(){\n\t\t\t// the asynchronous or synchronous code that we want to catch thrown errors on\n\t\t\tvar err = new Error('example')\n\t\t\tthrow err\n\t\t})",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7313005",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "224847405",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\t\tvar divideSync = function(x,y,callback) {\n\t\t\tif ( y === 0 ) {\n\t\t\t\treturn callback(new Error(\"Can't divide by zero\"));\n\t\t\t}\n\t\t\treturn callback(false,x/y)\n\t\t}\n\t\tvar result = divideSync(4,2);\n\t\tif ( result instanceof Error ) {\n\t\t\t// handle the error\n\t\t\tconsole.log(result);\n\t\t\tprocess.exit();\n\t\t});\n\t\tconsole.log('4/2='+result);\n\t\tresult = divideSync(4,0);\n\t\tif ( result instanceof Error ) {\n\t\t\t// handle the error\n\t\t\tconsole.log(result);\n\t\t\tprocess.exit();\n\t\t});\n\t\tconsole.log('4/0='+result);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "\t\t// Define divider as a syncrhonous function\n\t\tvar divideSync = function(x,y) {\n\t\t\t// if error condition?\n\t\t\tif ( y === 0 ) {\n\t\t\t\t// \"throw\" the error safely by returning it\n\t\t\t\treturn new Error(\"Can't divide by zero\")\n\t\t\t}\n\t\t\telse {\n\t\t\t\t// no error occured, continue on\n\t\t\t\treturn x/y\n\t\t\t}\n\t\t}\n\t\t// Divide 4/2\n\t\tvar result = divideSync(4,2)\n\t\t// did an error occur?\n\t\tif ( result instanceof Error ) {\n\t\t\t// handle the error safely\n\t\t\tconsole.log('4/2=err', result)\n\t\t}\n\t\telse {\n\t\t\t// no error occured, continue on\n\t\t\tconsole.log('4/2='+result)\n\t\t}\n\t\t// Divide 4/0\n\t\tresult = divideSync(4,0)\n\t\t// did an error occur?\n\t\tif ( result instanceof Error ) {\n\t\t\t// handle the error safely\n\t\t\tconsole.log('4/0=err', result)\n\t\t}\n\t\telse {\n\t\t\t// no error occured, continue on\n\t\t\tconsole.log('4/0='+result)\n\t\t}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7550430",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227940534",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function readSizeRecursive(item, cb) {\n      fs.lstat(item, function(err, stats) {\n        var total = stats.size;\n        if (!err && stats.isDirectory()) {\n          fs.readdir(item, function(err, list) {\n            async.forEach(\n              list,\n              function(diritem, callback) {\n                readSizeRecursive(path.join(item, diritem), function(err, size) {\n                  total += size;\n                  callback(err);\n                }); \n              },  \n              function(err) {\n                cb(err, total);\n              }   \n            );  \n          }); \n        }   \n        else {\n          cb(err, total);\n        }   \n      }); \n    }   ",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs'),\n        path = require('path'),\n        async = require('async');\n    function readSizeRecursive(item, cb) {\n      fs.lstat(item, function(err, stats) {\n        if (!err && stats.isDirectory()) {\n          var total = stats.size;\n          fs.readdir(item, function(err, list) {\n            if (err) return cb(err);\n            async.forEach(\n              list,\n              function(diritem, callback) {\n                readSizeRecursive(path.join(item, diritem), function(err, size) {\n                  total += size;\n                  callback(err);\n                }); \n              },  \n              function(err) {\n                cb(err, total);\n              }   \n            );  \n          }); \n        }   \n        else {\n          cb(err);\n        }   \n      }); \n    }   ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7612052",
    "RootLocalId": "14",
    "RootPostBlockVersionId": "228737784",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // there are two ways of importing. \n    // If you need access to a non-default export, then \n    // you use { nameOfExportedVariable } \n    import { variableName } from './sourceFile'\n    console.log(variableName) // 'variableValue'\n    // Otherwise, you simply provide a local variable name \n    // for what was exported as default.\n    import sourceFile from './sourceFile'\n    console.log(source.variableName) // 'variableValue'",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    // There are three ways of importing. \n    // If you need access to a non-default export, then \n    // you use { nameOfExportedVariable } \n    import { variableName } from './sourceFile'\n    console.log(variableName) // 'variableValue'\n    // Otherwise, you simply provide a local variable name \n    // for what was exported as default.\n    import sourceFile from './sourceFile'\n    console.log(sourceFile.variableName) // 'variableValue'",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7782049",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "230942057",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs'), \n    \tjsdom = require('jsdom');\n    \n    app.get('/', function(req, res) {\n    \n    \tjsdom.env('./test.html', ['./jquery.js', './weld.js'], function(errors, window) {\n    \t\tvar data = [{\n    \t\t\tname : 'hij1nx',\n    \t\t\ttitle : 'code slayer'\n    \t\t}, {\n    \t\t\tname : 'tmpvar',\n    \t\t\ttitle : 'code pimp'\n    \t\t}];\n    \t\twindow.weld(window.$('.contact')[0], data);\n    \t\tres.send(window.document.innerHTML);\n    \t});\n    \t\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9662921348314607,
        "Content": "    var fs = require('fs'), \n    \tjsdom = require('jsdom'),\n        app = require('express').createServer();\n    \n    app.get('/', function(req, res) {\n    \n    \tjsdom.env('./test.html', ['./jquery.js', './weld.js'], function(errors, window) {\n    \t\tvar data = [{\n    \t\t\tname : 'hij1nx',\n    \t\t\ttitle : 'code slayer'\n    \t\t}, {\n    \t\t\tname : 'tmpvar',\n    \t\t\ttitle : 'code pimp'\n    \t\t}];\n    \t\twindow.weld(window.$('.contact')[0], data);\n    \t\tres.send(window.document.innerHTML); //after the welding part we just send the innerHTML\n            window.close();  // to prevent memory leaks of JSDOM\n    \t});\n    \t\n    });\n    app.listen(3001);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7810354",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231303092",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    http.get({host: 'example.com', port: 80, path: '/hello.js'}, function(res) {\n      res.setEncoding('utf8');\n      res.on('data' function(chunk){\n        vm.runInThisContext(chunk, 'remote_modules/hello.js');\n      }\n    })",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5084745762711864,
        "Content": "    var http = require('http')\n      , vm = require('vm')\n      , concat = require('concat-stream'); // this is just a helper to receive the\n                                           // http payload in a single callback\n                                           // see https://www.npmjs.com/package/concat-stream\n    http.get({\n        host: 'example.com', \n        port: 80, \n        path: '/hello.js'\n      }, \n      function(res) {\n        res.setEncoding('utf8');\n        res.pipe(concat({ encoding: 'string' }, function(remoteSrc) {\n          vm.runInThisContext(remoteSrc, 'remote_modules/hello.js');\n        }));\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7875451",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "232152126",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    //using bind\n    setTimeout(foo.doSomething.bind(foo),  1000);\n    //without bind we need a wrapper:\n    settimeout(function(){ return foo.doSomething(); }, 1000);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4,
        "Content": "    setTimeout(this.someMethod.bind(this), 500);\n \n    var that = this;\n    setTimeout(function(){ that.doSomething() }, 500);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "7956012",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "233217735",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Enemy = {\n      constructor: function(name, health) {\n        this.health = 100;\n        this.name = name;\n      },\n      shootThing: function (thing) { },\n      move: function (x,y) { },\n      hideBehindCover: function () {}\n      toJSON: function () { \n        return {\n          name: this.name,\n          health: this.health\n        };\n      },\n      fromJSON: function (json) {\n        var data = JSON.parse(json);\n        var e = Object.create(Enemy);\n        e.health = data.health;\n        e.name = data.name;\n        return e;\n      }\n    }\n    \n    var e = Object.create(Enemy);\n    e.constructor(\"bob\");\n    var json = JSON.stringify(e);\n    var e2 = Enemy.from(json);\n    console.log(e.name === e2.name);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.961038961038961,
        "Content": "    var Enemy = {\n      constructor: function(name, health) {\n        this.health = health || 100;\n        this.name = name;\n      },\n      shootThing: function (thing) { },\n      move: function (x,y) { },\n      hideBehindCover: function () {},\n      toJSON: function () { \n        return {\n          name: this.name,\n          health: this.health\n        };\n      },\n      fromJSON: function (json) {\n        var data = JSON.parse(json);\n        var e = Object.create(Enemy);\n        e.health = data.health;\n        e.name = data.name;\n        return e;\n      }\n    }\n    \n    var e = Object.create(Enemy);\n    e.constructor(\"bob\");\n    var json = JSON.stringify(e);\n    var e2 = Enemy.fromJSON(json);\n    console.log(e.name === e2.name);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "8428281",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "239432461",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var model = \"../models/users.js\";\n    \n    module.exports = function (app) {\n    \n      app.get('/', function (req, res, next) {\n        model.get_recent(function (err, results) {\n          // do stuff with your results\n          res.render('index');\n        });\n      });\n    \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var model = require(\"../models/users.js\");\n    \n    module.exports = function (app) {\n    \n      app.get('/', function (req, res, next) {\n        model.get_recent(function (err, results) {\n          // do stuff with your results\n          res.render('index');\n        });\n      });\n    \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "8590367",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241593150",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http');\n    var url = require('url');\n    \n    // Configure our HTTP server to respond with Hello World to all requests.\n    var server = http.createServer(function (request, response) {\n      var queryData = url.parse(request.url, true).query;\n      response.writeHead(200, {\"Content-Type\": \"text/plain\"});\n      if (queryData.name) {\n        response.end('Hello ' + queryData.name + '\\n'};\n      } else {\n        response.end(\"Hello World\\n\");\n      }\n    });\n    // Listen on port 8000, IP defaults to 127.0.0.1\n    server.listen(8000);",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var http = require('http');\n    var url = require('url');\n    \n    // Configure our HTTP server to respond with Hello World to all requests.\n    var server = http.createServer(function (request, response) {\n      var queryData = url.parse(request.url, true).query;\n      response.writeHead(200, {\"Content-Type\": \"text/plain\"});\n      if (queryData.name) {\n        // user told us their name in the GET request, ex: http://host:8000/?name=Tom\n        response.end('Hello ' + queryData.name + '\\n');\n      } else {\n        response.end(\"Hello World\\n\");\n      }\n    });\n    // Listen on port 8000, IP defaults to 127.0.0.1\n    server.listen(8000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "8686279",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "242861601",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var request = require('request'),\n    function getPage (someUri, callback) {\n      request({uri: someUri, headers:{'User-Agent': 'Mozilla/5.0'}}, function (error, response, body) {\n        console.log(\"Fetched \" +someUri+ \" OK!\");\n        callback(body);\n      });\n    }\n    getPage('http://www.bestbuy.com/', function(body) {\n\t   console.log(body)\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9583333333333334,
        "Content": "    var request = require('request'),\n    getPage = function(someUri, callback) {\n      request({uri: someUri, headers:{'User-Agent': 'Mozilla/5.0'}}, function (error, response, body) {\n        console.log(\"Fetched \" +someUri+ \" OK!\");\n        callback(body);\n      });\n    }\n    getPage('http://www.bestbuy.com/', function(body) {\n\t   console.log(body)\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "8694294",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "242969739",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var net = require('net');\n    \n    function HttpServer(port){\n        this.port=port;\n    }\n    \n    HttpServer.prototype.start = function (){\n        console.log(\"starting the server\");\n        var that = this;\n        this.server = net.createServer(function (socket,server) {\n            console.log(\"my port is: \"+server.port)\n            socket.on('data',function(dat){  });\n                                                     },that);       \n    \n        this.server.listen(this.port);\n    \n    }\n    \n    \n    var httpserver= new HttpServer(4444);\n    httpserver.start();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.28,
        "Content": "    var net = require('net');\n    \n    function HttpServer(port){\n        this.port=port;\n    }\n    \n    HttpServer.prototype.start = function (){\n        console.log(\"starting the server\");\n        var that = this;    //Store this to that variable\n        this.server = net.createServer(function (socket, server) {\n            console.log('Server port is: ' + that.port); // Use that in an anonymous function\n            socket.on('data',function(dat){  });\n        });\n        this.server.listen(this.port);\n    \n    }\n    \n    \n    var httpserver= new HttpServer(4444);\n    httpserver.start();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "8920913",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "246001999",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    funtion splitBuffer(buf, char) {\n      var arr = []\n        , p = 0\n    \n      for (var i = 0, l = buf.length; i < l; i++) {\n        if (buf[i] !== \\xb8) continue;\n        if (i === 0 || i === l) continue; // skip if it's at the start/end of buffer\n        arr.push(buf.slice(p, i));\n        p = i + 1;\n      }\n    \n      return arr;\n    }",
        "MostRecentVersion": "0",
        "Errors": 13,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function splitBuffer(buf, delimiter) {\n      var arr = [], p = 0;\n    \n      for (var i = 0, l = buf.length; i < l; i++) {\n        if (buf[i] !== delimiter) continue;\n        if (i === 0) {\n          p = 1;\n          continue; // skip if it's at the start of buffer\n        }\n        arr.push(buf.slice(p, i));\n        p = i + 1;\n      }\n      // add final part\n      if (p < l) {\n        arr.push(buf.slice(p, l));\n      }\n    \n      return arr;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9028008",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "247419613",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function(app, fns){\n        app.get('/some/route', function(req, res){\n            var fooBar = fns.foo(),\n                fooBar2 = fns.foo2();\n    \n            res.end(fooBar + fooBar2);\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    module.exports = function(app, fns){\n        app.get('/some/route', function(req, res){\n            var fooBar = fns.foo(),\n                fooBar2 = fns.foo2();\n    \n            res.end(fooBar + fooBar2);\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9028008",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "247419617",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function(app){\n        var fns = require('../app.js');\n        app.get('/some/route', function(req, res){\n            var fooBar = fns.foo(),\n                fooBar2 = fns.foo2();\n    \n            res.end(fooBar + fooBar2);\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    module.exports = function(app){\n        var fns = require('../app.js');\n        app.get('/some/route', function(req, res){\n            var fooBar = fns.foo(),\n                fooBar2 = fns.foo2();\n    \n            res.end(fooBar + fooBar2);\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9321309",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "129968030",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Project.findAll({where: [\"title like ?\", '%' + 'awe' + '%']}).success(function(projects) {\n        for (var i=0; i<projects.length; i++) {\n            console.log(projects[i].title + \" \" + projects[i].description);\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.48,
        "Content": "    where: [\"title like ?\", '%' + 'awe' + '%']",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9399907",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "130969003",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    jQuery.extend = jQuery.fn.extend = function() {\n    \tvar options, name, src, copy, copyIsArray, clone,\n    \t\ttarget = arguments[0] || {},\n    \t\ti = 1,\n    \t\tlength = arguments.length,\n    \t\tdeep = false;\n    \n    \t// Handle a deep copy situation\n    \tif ( typeof target === \"boolean\" ) {\n    \t\tdeep = target;\n    \t\ttarget = arguments[1] || {};\n    \t\t// skip the boolean and the target\n    \t\ti = 2;\n    \t}\n    \n    \t// Handle case when target is a string or something (possible in deep copy)\n    \tif ( typeof target !== \"object\" && !jQuery.isFunction(target) ) {\n    \t\ttarget = {};\n    \t}\n    \n    \t// extend jQuery itself if only one argument is passed\n    \tif ( length === i ) {\n    \t\ttarget = this;\n    \t\t--i;\n    \t}\n    \n    \tfor ( ; i < length; i++ ) {\n    \t\t// Only deal with non-null/undefined values\n    \t\tif ( (options = arguments[ i ]) != null ) {\n    \t\t\t// Extend the base object\n    \t\t\tfor ( name in options ) {\n    \t\t\t\tsrc = target[ name ];\n    \t\t\t\tcopy = options[ name ];\n    \n    \t\t\t\t// Prevent never-ending loop\n    \t\t\t\tif ( target === copy ) {\n    \t\t\t\t\tcontinue;\n    \t\t\t\t}\n    \n    \t\t\t\t// Recurse if we're merging plain objects or arrays\n    \t\t\t\tif ( deep && copy && ( jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)) ) ) {\n    \t\t\t\t\tif ( copyIsArray ) {\n    \t\t\t\t\t\tcopyIsArray = false;\n    \t\t\t\t\t\tclone = src && jQuery.isArray(src) ? src : [];\n    \n    \t\t\t\t\t} else {\n    \t\t\t\t\t\tclone = src && jQuery.isPlainObject(src) ? src : {};\n    \t\t\t\t\t}\n    \n    \t\t\t\t\t// Never move original objects, clone them\n    \t\t\t\t\ttarget[ name ] = jQuery.extend( deep, clone, copy );\n    \n    \t\t\t\t// Don't bring in undefined values\n    \t\t\t\t} else if ( copy !== undefined ) {\n    \t\t\t\t\ttarget[ name ] = copy;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t}\n    \n    \t// Return the modified object\n    \treturn target;\n    };",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3793103448275862,
        "Content": "    function extend() {\n        var options, name, src, copy, copyIsArray, clone, target = arguments[0] || {},\n            i = 1,\n            length = arguments.length,\n            deep = false,\n            toString = Object.prototype.toString,\n            hasOwn = Object.prototype.hasOwnProperty,\n            push = Array.prototype.push,\n            slice = Array.prototype.slice,\n            trim = String.prototype.trim,\n            indexOf = Array.prototype.indexOf,\n            class2type = {\n              \"[object Boolean]\": \"boolean\",\n              \"[object Number]\": \"number\",\n              \"[object String]\": \"string\",\n              \"[object Function]\": \"function\",\n              \"[object Array]\": \"array\",\n              \"[object Date]\": \"date\",\n              \"[object RegExp]\": \"regexp\",\n              \"[object Object]\": \"object\"\n            },\n            jQuery = {\n              isFunction: function (obj) {\n                return jQuery.type(obj) === \"function\"\n              },\n              isArray: Array.isArray ||\n              function (obj) {\n                return jQuery.type(obj) === \"array\"\n              },\n              isWindow: function (obj) {\n                return obj != null && obj == obj.window\n              },\n              isNumeric: function (obj) {\n                return !isNaN(parseFloat(obj)) && isFinite(obj)\n              },\n              type: function (obj) {\n                return obj == null ? String(obj) : class2type[toString.call(obj)] || \"object\"\n              },\n              isPlainObject: function (obj) {\n                if (!obj || jQuery.type(obj) !== \"object\" || obj.nodeType) {\n                  return false\n                }\n                try {\n                  if (obj.constructor && !hasOwn.call(obj, \"constructor\") && !hasOwn.call(obj.constructor.prototype, \"isPrototypeOf\")) {\n                    return false\n                  }\n                } catch (e) {\n                  return false\n                }\n                var key;\n                for (key in obj) {}\n                return key === undefined || hasOwn.call(obj, key)\n              }\n            };\n          if (typeof target === \"boolean\") {\n            deep = target;\n            target = arguments[1] || {};\n            i = 2;\n          }\n          if (typeof target !== \"object\" && !jQuery.isFunction(target)) {\n            target = {}\n          }\n          if (length === i) {\n            target = this;\n            --i;\n          }\n          for (i; i < length; i++) {\n            if ((options = arguments[i]) != null) {\n              for (name in options) {\n                src = target[name];\n                copy = options[name];\n                if (target === copy) {\n                  continue\n                }\n                if (deep && copy && (jQuery.isPlainObject(copy) || (copyIsArray = jQuery.isArray(copy)))) {\n                  if (copyIsArray) {\n                    copyIsArray = false;\n                    clone = src && jQuery.isArray(src) ? src : []\n                  } else {\n                    clone = src && jQuery.isPlainObject(src) ? src : {};\n                  }\n                  // WARNING: RECURSION\n                  target[name] = extend(deep, clone, copy);\n                } else if (copy !== undefined) {\n                  target[name] = copy;\n                }\n              }\n            }\n          }\n          return target;\n        }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9449669",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131605371",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function css(response) {\n      response.writeHead(200, {\"Content-Type\": \"text/css\"});\n      async.eachSeries(\n        // Pass items to iterate over\n        ['css/bootstrap.css', 'css/bootstrap-responsive.css'],\n        // Pass iterator function that is called for each item\n        function(filename, cb) {\n          rs.readFile(filename, function(err, content) {\n            if (!err) {\n              response.write(content);\n            }\n            // Calling cb makes it go to the next item.\n            cb(err);\n          });\n        },\n        // Final callback after each item has been iterated over.\n        function(err) {\n          response.end()\n        }\n      );\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9183673469387755,
        "Content": "    var fs = require('fs');\n    var async = require('async');\n    function css(response) {\n      response.writeHead(200, {\"Content-Type\": \"text/css\"});\n      async.eachSeries(\n        // Pass items to iterate over\n        ['css/bootstrap.css', 'css/bootstrap-responsive.css'],\n        // Pass iterator function that is called for each item\n        function(filename, cb) {\n          fs.readFile(filename, function(err, content) {\n            if (!err) {\n              response.write(content);\n            }\n            // Calling cb makes it go to the next item.\n            cb(err);\n          });\n        },\n        // Final callback after each item has been iterated over.\n        function(err) {\n          response.end()\n        }\n      );\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9452971",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "131647024",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "var lines = process.stdout.getWindowSize()[1];\nfor(var i = 0; i < lines; i++) {\n    console.log('\\r\\n');\n`}",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9523809523809523,
        "Content": "    var lines = process.stdout.getWindowSize()[1];\n    for(var i = 0; i < lines; i++) {\n        console.log('\\r\\n');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9471169",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131874222",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tvar async = require('async')\n\tvar fs = require('fs')\n\tfile_names = ['one','two','three']\n        // This callback was missing in the question.\n\tvar read_a_file = function(file_name, callback) {\n\t\tconsole.log(file_name)\n\t\tfs.readFile(file_name, function(error, data) {\n\t\t\tif ( error) {\t\n\t\t\t\tconsole.log('oh no file missing')\t\n\t\t\t\treturn callback(error)\n\t\t\t} else {\n\t\t\t\tconsole.log('woo '+file_name+' found')\n\t\t\t\treturn callback()\n\t\t\t}\t\t\n\t\t})\n\t}\n\tasync.forEach(file_names, read_a_file, function(error) {\n\t\tif ( error) {\t\n\t\t\tconsole.log('oh no errors!')\n\t\t} else {\n\t\t\tconsole.log('YAAAAAAY')\n\t\t}\n\t})",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "\tvar async = require('async')\n\tvar fs = require('fs')\n\tvar fileNames= ['one','two','three']\n    // This callback was missing in the question.\n\tvar readAFile = function(fileName, callback) {\n\t\tconsole.log(fileName)\n\t\tfs.readFile(fileName, function(error, data) {\n\t\t\tif ( error) {\t\n\t\t\t\tconsole.log('oh no file missing')\t\n\t\t\t\treturn callback(error)\n\t\t\t} else {\n\t\t\t\tconsole.log('woo '+fileName+' found')\n\t\t\t\treturn callback()\n\t\t\t}\t\t\n\t\t})\n\t}\n\tasync.forEach(fileNames, readAFile, function(error) {\n\t\tif ( error) {\t\n\t\t\tconsole.log('oh no errors!')\n\t\t} else {\n\t\t\tconsole.log('YAAAAAAY')\n\t\t}\n\t})",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9519164",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "132492364",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Player = function(x, y) {\n    \tthis.x = x;\n    \tthis.y = y;\n    };\n    \n    Player.prototype = {\n    \tdraw: function() {\n    \t\tcontext.fillRect(this.x, this.y, 16, 16);\n    \t}\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8125,
        "Content": "    var Player = function(context, x, y) {\n    \tthis.context = context;\n    \tthis.x = x;\n    \tthis.y = y;\n    };\n    \n    Player.prototype = {\n    \tdraw: function() {\n    \t\tthis.context.fillRect(this.x, this.y, 16, 16);\n    \t}\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "9519164",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "132492367",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Player.prototype = {\n    \tdraw: function() {\n    \t\tcontext.fillRect(this.x, this.y, 16, 16);\n    \t},\n    \n    \tmove: function(direction) {\n    \t\t// direction is \"UP\", \"DOWN\", \"LEFT\" or \"RIGHT\"\n    \t\tswitch(direction) {\n    \t\t\tcase \"UP\":\n    \t\t\t\tthis.y += 16;\n    \t\t\t\tbreak;\n    \t\t\t// ...\n    \t\t}\n    \t}\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9545454545454546,
        "Content": "    Player.prototype = {\n    \tdraw: function() {\n    \t\tthis.context.fillRect(this.x, this.y, 16, 16);\n    \t},\n    \n    \tmove: function(direction) {\n    \t\t// direction is \"UP\", \"DOWN\", \"LEFT\" or \"RIGHT\"\n    \t\tswitch(direction) {\n    \t\t\tcase \"UP\":\n    \t\t\t\tthis.y += 16;\n    \t\t\t\tbreak;\n    \t\t\t// ...\n    \t\t}\n    \t}\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10003430",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "138649679",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    rl._normaWrite = function(b) {\n        if(b != undefined) {\n            if(!this._line_buffer) {\n                this._line_buffer = '';\n            }\n            this._line_buffer += b.toString();\n            if(this._line_buffer.indexOf('\\n') {\n                var lines = this._line_buffer.split('\\n');\n                // either '' or the unfinished portion of the next line\n                this._line_buffer = lines.pop();\n                lines.forEach(function(line) {\n                    self._onLine(line + '\\n');\n                }\n            }\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9375,
        "Content": "\ti._normalWrite = function(b) {\n\t\tif(b == undefined) {\n\t\t\treturn;\n\t\t}\n\t\tif(!this._line_buffer) {\n\t\t\tthis._line_buffer = '';\n\t\t}\n\t\tthis._line_buffer += b.toString();\n\t\tif(this._line_buffer.indexOf('\\n') !=-1 ) {\n\t\t\tvar lines = this._line_buffer.split('\\n');\n\t\t\t// either '' or the unfinished portion of the next line\n\t\t\tthis._line_buffer = lines.pop();\n\t\t\tlines.forEach(function(line) {\n\t\t\t\tthis._onLine(line + '\\n');\n\t\t\t}, this);\n\t\t}\n\t};",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10011078",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "138745864",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var obj;\n    fs.readFile('file', 'utf8', function (err, data) {\n      if (err) throw err;\n      obj = JSON.parse(data);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8648648648648649,
        "Content": "    var fs = require('fs');\n    var obj;\n    fs.readFile('file', 'utf8', function (err, data) {\n      if (err) throw err;\n      obj = JSON.parse(data);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10011078",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "138745860",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     var obj = JSON.parse(fs.readFileSync('file', 'utf8'));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs');\n    var obj = JSON.parse(fs.readFileSync('file', 'utf8'));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10047018",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "139204022",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http'),\n        fileSystem = require('fs'),\n        path = require('path')\n        util = require('util');\n    \n    http.createServer(function(request, response) {\n        var filePath = path.join(__dirname, 'myfile.mp3');\n        var stat = fileSystem.statSync(filePath);\n    \n        response.writeHead(200, {\n            'Content-Type': 'audio/mpeg',\n            'Content-Length': stat.size\n        });\n    \n        var readStream = fileSystem.createReadStream(filePath);\n        // We replaced all the event handlers with a simple call to util.pump()\n        util.pump(readStream, response);\n    })\n    .listen(2000);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "    var http = require('http'),\n        fileSystem = require('fs'),\n        path = require('path');\n    \n    http.createServer(function(request, response) {\n        var filePath = path.join(__dirname, 'myfile.mp3');\n        var stat = fileSystem.statSync(filePath);\n    \n        response.writeHead(200, {\n            'Content-Type': 'audio/mpeg',\n            'Content-Length': stat.size\n        });\n    \n        var readStream = fileSystem.createReadStream(filePath);\n        // We replaced all the event handlers with a simple call to readStream.pipe()\n        readStream.pipe(response);\n    })\n    .listen(2000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10058879",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "139354620",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var content;\n    // First I want to read the file\n    fs.readFile('./Index.html', function read(err, data) {\n        if (err) {\n            throw err;\n        }\n        content = data;\n        // Invoke the next step here however you like\n        console.log(content);   // Put all of the code here (not the best solution)\n        processFile();          // Or put the next step in a function and invoke it\n    });\n    function processFile() {\n        console.log(content);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9887640449438202,
        "Content": "    const fs = require('fs');\n    // First I want to read the file\n    fs.readFile('./Index.html', function read(err, data) {\n        if (err) {\n            throw err;\n        }\n        const content = data;\n        // Invoke the next step here however you like\n        console.log(content);   // Put all of the code here (not the best solution)\n        processFile(content);   // Or put the next step in a function and invoke it\n    });\n    function processFile(content) {\n        console.log(content);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10083152",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "139658047",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Comments = mongoose.model(\"Comments\");\n    Comments.find(function(err, comments) {\n        // some code here\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9166666666666666,
        "Content": "    var mongoose = require('mongoose');\n    var Comments = mongoose.model(\"Comments\");\n    Comments.find(function(err, comments) {\n        // some code here\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10083152",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "139658045",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require('mongoose');\n    var Comments = new Schema({\n        title     : String\n      , body      : String\n      , date      : Date\n    });\n    mongoose.model(\"Comments\", Comments);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7368421052631579,
        "Content": "    var mongoose = require('mongoose');\n    var Schema = mongoose.Schema; // <-- EDIT: missing in the original post\n    var Comments = new Schema({\n        title     : String\n      , body      : String\n      , date      : Date\n    });\n    mongoose.model(\"Comments\", Comments);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10083152",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "139658049",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require('mongoose');\n    module.exports = function() {\n        var Comments = new Schema({\n            title     : String\n          , body      : String\n          , date      : Date\n        });\n        mongoose.model(\"Comments\", Comments);\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7619047619047619,
        "Content": "    var mongoose = require('mongoose');\n    var Schema = mongoose.Schema; // <-- EDIT: missing in the original post\n    module.exports = function() {\n        var Comments = new Schema({\n            title     : String\n          , body      : String\n          , date      : Date\n        });\n        mongoose.model(\"Comments\", Comments);\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10213756",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "141306265",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fork = require('child_process').fork;\n    var example1 = fork(__dirname + '/example1.js');\n    example1.on('response', function(response) {\n      console.log(response);\n    });\n    example1.send('func', 'input');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var fork = require('child_process').fork;\n    var example1 = fork(__dirname + '/example1.js');\n    example1.on('message', function(response) {\n      console.log(response);\n    });\n    example1.send({func: 'input'});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10610699",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "146303902",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var EventEmitter = require('events').EventEmitter();\n    var obj = new EventEmitter();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var EventEmitter = require('events').EventEmitter;\n    var obj = new EventEmitter();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10756441",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "148130070",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var os = require('os')\n    var interfaces = os.networkInterfaces();\n    var addresses = [];\n    for (k in interfaces) {\n        for (k2 in interfaces[k]) {\n            var address = interfaces[k][k2];\n            if (address.family == 'IPv4' && !address.internal) {\n                addresses.push(address.address)\n            }\n        }\n    }\n    console.log(addresses)",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var os = require('os');\n    var interfaces = os.networkInterfaces();\n    var addresses = [];\n    for (var k in interfaces) {\n        for (var k2 in interfaces[k]) {\n            var address = interfaces[k][k2];\n            if (address.family === 'IPv4' && !address.internal) {\n                addresses.push(address.address);\n            }\n        }\n    }\n    console.log(addresses);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10933958",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150385240",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      var a = new Buffer('foo');\n      var b = new Buffer('ofoo'); \n     \n    \n      a += b;  // Tested to work on Fedora 17 with node 0.6 \n      a += b;\n      a += b;\n      a = a + b ;  // just the long form\n      // In short the '+' operator works when adding buffers aswell\n      console.log(a);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9310344827586207,
        "Content": "       function concat(buffers) {\n      \n        if (!Array.isArray(buffers)) {\n          buffers = Array.prototype.slice.call(arguments);\n        }\n    \n        var buffersToConcat = [], length = 0;\n        buffers.forEach(function (buffer) {\n            if (!Buffer.isBuffer(buffer)) {\n              buffer = new Buffer(buffer);\n            }\n            length += buffer.length;\n            buffersToConcat.push(buffer);\n        });\n    \n        var concatinatedBuffer = new Buffer(length), index = 0;\n        buffersToConcat.forEach(function (buffer) {\n          buffer.copy(concatinatedBuffer, index, 0, buffer.length);\n          index += buffer.length;\n        });\n    \n        return concatinatedBuffer;\n      }\n      ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "10986669",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "151054354",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tparseInt(100000000000).toString(36);\n\t// produces 19xtf1ts\n\t\n\tparseInt(200000000000).toString(36);\n\t// produces 2jvmu3nk",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "\t(100000000000).toString(36);\n\t// produces 19xtf1ts\n\t\n\t(200000000000).toString(36);\n\t// produces 2jvmu3nk",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11060354",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "151998497",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function get_by_path(source, path){\n        var path_elements = path.replace(']', '').split('[');\n        var result = null;\n        jQuery.each(path_elements, function(i, v){\n            if (typeof source[v] === 'undefined'){\n                return null;\n            };\n            source = source[v];\n            result = source;\n        });\n        return result;\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9777777777777777,
        "Content": "    function get_by_path(source, path){\n        var path_elements = path.split(']').join('').split('[');\n        for (var i=0; i < path_elements.length; i++){\n            source = source[path_elements[i]];\n            if (typeof source === 'undefined'){\n                return null;\n            }\n        };\n        return source;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11076967",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "152211873",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    var zlib = require('zlib);\n    var sax = require('sax);\n    \n    var saxStream = sax.createStream();\n    // add your xml handlers here\n    \n    fs.createReadStream('large.xml.gz').pipe(zlib.createUnzip()).pipe(saxStream);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8823529411764706,
        "Content": "    var fs = require('fs');\n    var zlib = require('zlib');\n    var sax = require('sax');\n    \n    var saxStream = sax.createStream();\n    // add your xml handlers here\n    \n    fs.createReadStream('large.xml.gz').pipe(zlib.createUnzip()).pipe(saxStream);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11121066",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "152750277",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function stripAlphaChars(pstrSource) \n    { \n    var m_strOut = new String(pstrSource); \n        m_strOut = m_strOut.replace(/[^0-9]/g, ''); \n    \n        return m_sOut; \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5555555555555556,
        "Content": "    function stripAlphaChars(source) { \n      var out = source.replace(/[^0-9]/g, ''); \n    \n      return out; \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11234307",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "154174858",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs = require 'fs' \n    https = require 'https' \n    express = require \"express\" \n    server_port = 3000\n    keys_dir = 'keys/' \n    server_options = { \n      key  : fs.readFileSync(keys_dir + 'privatekey.pem'),\n      ca   : fs.readFileSync(keys_dir + 'certrequest.csr'), \n      cert : fs.readFileSync(keys_dir + 'certificate.pem') \n    }                                                        \n    app = express()    \n    https.createServer(server_options,app).listen(server_port)    ",
        "MostRecentVersion": "0",
        "Errors": 21,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.425531914893617,
        "Content": "    const fs = require(\"fs\");\n    const https = require(\"https\");\n    const express = require(\"express\");\n    const keysDir = \"keys/\";\n    const options = {\n      key  : fs.readFileSync(keysDir + \"privatekey.pem\"),\n      ca   : fs.readFileSync(keysDir + \"certrequest.csr\"),\n      cert : fs.readFileSync(keysDir + \"certificate.pem\")\n    };\n                                               \n    const app = express();\n    https.createServer(options, app).listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11267583",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "154592743",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs.appendFile('message.txt', 'data to append', function (err) {\n     \n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    const fs = require('fs');\n \n    fs.appendFile('message.txt', 'data to append', function (err) {\n      if (err) throw err;\n      console.log('Saved!');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11532587",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "157920295",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var child = require('child_process').fork('child.js');\n    child(\"message\", function(){});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var child = require('child_process').fork('child.js');\n    child.on(\"message\", function(){});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11681316",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "159775759",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function(mq, siteConf) {\n\t//MongoDB\n\tmongoose.connect(siteConf.mongoDbUrl);\n\t// ------------------------\n\t// MOCK USERS\n\t// ------------------------\n\tfunction warmup() {\n\t\tconsole.log(\"WARMUP:\");\n\t\tfor (var e in mockUsers) {\n\t\t\tdeleteUser({email: mockUsers[e].email}, function(){});\n\t\t\tcreateUser(mockUsers[e], function(err, user) {\n\t\t\t\tconsole.log(\"User created: \" + user.email);\n\t\t\t});\n\t\t}\n\t}\n\t\n\t// ------------------------\n\t// READ API\n\t// ------------------------\n\t// Returns a user by ID\n\tfunction getUser(id, found) {\n\t\tconsole.log(\"find user by id: \" + id);\n\t\tUserModel.findById(id, found);\n\t}\n        // more functions for your app ...\n\t// ------------------\n\t// TEMPLATE FUNCTIONS\n\t// ------------------\n\tfunction getXyz(id, found) {\n\t\tXyzModel.findById(id, found);\n\t}\n\tfunction getXyzByCriteria(criteria, found) {\n\t\tXyzModel.find(criteria, found);\n\t}\n\tfunction storeXYZ(xyz, created) {\n\t\tvar newXYZ = new XYZModel({\n\t\t\tid: 1,\n\t\t\tname: 'xyz'\n\t\t});\n\t\tnewXYZ.save(function(createError) {\n\t\t\tif (!createError) {\n\t\t\t\tconsole.log(\"created xyz \" + newXYZ._id + \": \" + JSON.stringify(newXYZ));\n\t\t\t\tcreated(null, newXYZ);\n\t\t\t} else {\n\t\t\t\tconsole.log(\"Error while creating xyz \" + xxx + \": \" + createError);\n\t\t\t\tcreated(createError, null);\n\t\t\t}\n\t\t});\n\t}\n\treturn {\n\t\t'warmup': warmup,\n\t\t'getUser': getUser\n\t   };\n    };",
        "MostRecentVersion": "0",
        "Errors": 11,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var mongoose = require('mongoose'); \n    \n    //MongoDB schemas\n    var Schema = mongoose.Schema;\n    \n    var User = new Schema({\n      username: String,\n      password: String,\n      first_name: String,\n      last_name: String,\n      email: String\n    });\n    var UserModel = mongoose.model('User', User);\n    \n    // your other objects defined ...\n    module.exports = function(mq, siteConf) {\n\t//MongoDB\n\tmongoose.connect(siteConf.mongoDbUrl);\n\t\n\t// ------------------------\n\t// READ API\n\t// ------------------------\n\t// Returns a user by ID\n\tfunction getUser(id, found) {\n\t\tconsole.log(\"find user by id: \" + id);\n\t\tUserModel.findById(id, found);\n\t}\n\t// Returns one user matching the given criteria\n\t// mainly used to match against email/login during login\n\tfunction getUserByCriteria(criteria, found) {\n\t\tconsole.log(\"find user by criteria: \" + JSON.stringify(criteria));\n\t\tUserModel.findOne(criteria, found);\n\t}\n        // more functions for your app ...\n\treturn {\n\t\t'getUser': getUser, \n                'getUserByCriteria': getUserByCriteria\n\t   };\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11797469",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "161265543",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function SquareFitter()\n    {\n        this.count = 0;\n        this.sumX = 0;\n        this.sumX2 = 0;\n        this.sumX3 = 0;\n        this.sumX4 = 0;\n        this.sumY = 0;\n        this.sumXY = 0;\n        this.sumX2Y = 0;\n    }\n    SquareFitter.prototype = {\n        'add': function(x, y)\n        {\n            this.count++;\n            this.sumX += x;\n            this.sumX2 += x*x;\n            this.sumX3 += x*x*x;\n            this.sumX4 += x*x*x*x;\n            this.sumY += y;\n            this.sumXY += x*y;\n            this.sumX2Y += x*x*y;\n        },\n        'project': function(x)\n        {\n            var det = this.count*this.sumX2*this.sumX4 - this.count*this.sumX3*this.sumX3 - this.sumX*this.sumX*this.sumX4 + this.2*this.sumX*this.sumX2*this.sumX3 - this.sumX2*this.sumX2*this.sumX2;\n            var offset = this.sumX*this.sumX2Y*this.sumX3 - this.sumX*this.sumX4*this.sumXY - this.sumX2*this.sumX2*this.sumX2Y + this.sumX2*this.sumX3*this.sumXY + this.sumX2*this.sumX4*this.sumY - this.sumX3*this.sumX3*this.sumY;\n            var scale = -this.count*this.sumX2Y*this.sumX3 + this.count*this.sumX4*this.sumXY + this.sumX*this.sumX2*this.sumX2Y - this.sumX*this.sumX4*this.sumY - this.sumX2*this.sumX2*this.sumXY + this.sumX2*this.sumX3*this.sumY;\n            var accel = this.sumY*this.sumX*this.sumX3 - this.sumY*this.sumX2*this.sumX2 - this.sumXY*this.count*this.sumX3 + this.sumXY*this.sumX2*this.sumX - this.sumX2Y*this.sumX*this.sumX + this.sumX2Y*this.count*this.sumX2;\n            return (offset + x*scale + x*x*accel)/det;\n        }\n    };\n    function squareProject(data)\n    {\n        var fitter = new SquareFitter();\n        for (var i = 0; i < data.length; i++)\n        {\n            fitter.add(i, data[i]);\n        }\n        return fitter.project(60);\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9863013698630136,
        "Content": "    function SquareFitter()\n    {\n        this.count = 0;\n        this.sumX = 0;\n        this.sumX2 = 0;\n        this.sumX3 = 0;\n        this.sumX4 = 0;\n        this.sumY = 0;\n        this.sumXY = 0;\n        this.sumX2Y = 0;\n    }\n    SquareFitter.prototype = {\n        'add': function(x, y)\n        {\n            this.count++;\n            this.sumX += x;\n            this.sumX2 += x*x;\n            this.sumX3 += x*x*x;\n            this.sumX4 += x*x*x*x;\n            this.sumY += y;\n            this.sumXY += x*y;\n            this.sumX2Y += x*x*y;\n        },\n        'project': function(x)\n        {\n            var det = this.count*this.sumX2*this.sumX4 - this.count*this.sumX3*this.sumX3 - this.sumX*this.sumX*this.sumX4 + 2*this.sumX*this.sumX2*this.sumX3 - this.sumX2*this.sumX2*this.sumX2;\n            var offset = this.sumX*this.sumX2Y*this.sumX3 - this.sumX*this.sumX4*this.sumXY - this.sumX2*this.sumX2*this.sumX2Y + this.sumX2*this.sumX3*this.sumXY + this.sumX2*this.sumX4*this.sumY - this.sumX3*this.sumX3*this.sumY;\n            var scale = -this.count*this.sumX2Y*this.sumX3 + this.count*this.sumX4*this.sumXY + this.sumX*this.sumX2*this.sumX2Y - this.sumX*this.sumX4*this.sumY - this.sumX2*this.sumX2*this.sumXY + this.sumX2*this.sumX3*this.sumY;\n            var accel = this.sumY*this.sumX*this.sumX3 - this.sumY*this.sumX2*this.sumX2 - this.sumXY*this.count*this.sumX3 + this.sumXY*this.sumX2*this.sumX - this.sumX2Y*this.sumX*this.sumX + this.sumX2Y*this.count*this.sumX2;\n            return (offset + x*scale + x*x*accel)/det;\n        }\n    };\n    function squareProject(data)\n    {\n        var fitter = new SquareFitter();\n        for (var i = 0; i < data.length; i++)\n        {\n            fitter.add(i, data[i]);\n        }\n        return fitter.project(60);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11826750",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "161633813",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('/', function(req, res) {\n       res.redirect(307, 'http://s3.amazon.com/....');\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.36363636363636365,
        "Content": "    var http = require('http'),\n        express = require('express'),\n        app = express();\n    \n    app.get('/', function(req, res) {\n      http.get('http://www.stackoverflow.com', function(proxyRes) {\n        proxyRes.pipe(res);\n      });\n    });\n    \n    app.listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11911493",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "162704035",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var par = query.theArray;\n    var stringArray = [];\n    for ( var i = 0; i < par.length; i++ ) {\n        if ( typeof par[i] == \"string\" ) {\n            stringArray.push(par[i]);\n        }\n    }\n    var jsonString = JSON.stringify( stringArray );",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8936170212765957,
        "Content": "    var query = {\"theArray\":\"[[],\\\"d\\\",\\\"B\\\",{},\\\"b\\\",12,\\\"A\\\",\\\"c\\\"]\"};\n    var par = JSON.parse(query.theArray);\n    var stringArray = [];\n    for ( var i = 0; i < par.length; i++ ) {\n        if ( typeof par[i] == \"string\" ) {\n            stringArray.push(par[i]);\n        }\n    }\n    var jsonString = JSON.stringify( stringArray );\n    console.log(jsonString);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11939796",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163059158",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     var app = express();\n     var http = require('http');\n     var server = http.createServer(app);\n     var io = require('socket.io').listen(server);\n     var mongoose = require('mongoose');\n     var db = mongoose.connect('mongodb://localhost/db');\n    \n     server.listen(3030);\n     console.log(\"server started\");\n    \n     app.get('/',function(req,res){\n         res.sendfile(__dirname + '/public/index.html');\n     });\n    \n    \n     io.sockets.on('connection',function(socket){    \n        console.log(\"connection made\");\n     });\n    ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9615384615384616,
        "Content": "     var express = require('express');\n     var app = express();\n     var http = require('http');\n     var server = http.createServer(app);\n     var io = require('socket.io').listen(server);\n     var mongoose = require('mongoose');\n     var db = mongoose.connect('mongodb://localhost/db');\n    \n     server.listen(3030);\n     console.log(\"server started\");\n    \n     app.get('/',function(req,res){\n         res.sendfile(__dirname + '/public/index.html');\n     });\n    \n    \n     io.sockets.on('connection',function(socket){    \n        console.log(\"connection made\");\n     });\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11985095",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163636743",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    script\n      loginName=\"#{login}\";",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    script.\n      loginName=\"#{login}\";",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11987281",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163664403",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs  = require(\"fs\");\n    \n    fs.readFileSync('./input.txt').toString().split('\\n').forEach(function (line) { \n        console.log(line);\n        fs.appendFileSync(\"./output.txt\", line.toString() + \"\\n\";\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9166666666666666,
        "Content": "    var fs  = require(\"fs\");\n    \n    fs.readFileSync('./input.txt').toString().split('\\n').forEach(function (line) { \n        console.log(line);\n        fs.appendFileSync(\"./output.txt\", line.toString() + \"\\n\");\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11993907",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163748962",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // this variable will be used to hold the singleton connection\n    var mongoCollection = null;\n    var getMongoConnection = function(readyCallback){\n        \n        if(mongoCollection){\n          readyCallback(null, mongoCollection);\n          return;\n        }\n    \n        // get the connection\n        var server = new mongo.Server('127.0.0.1', 27017, {auto_reconnect: true});\n    \n        // get a handle on the database\n        var db = new Db('testdb', server);\n        db.open(function(error, databaseConnection){\n            databaseConnection.createCollection('testCollection', function(error, collection) {\n    \n              if(!error){\n                mongoCollection = collection;\n              }\n    \n              // now we have a connection\n              readyCallback(error, mongoCollection);\n    \n        });\n    });\n    module.exports = getMongoConnection;",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9504950495049505,
        "Content": "    var mongo = require('mongodb');\n    // this variable will be used to hold the singleton connection\n    var mongoCollection = null;\n    var getMongoConnection = function(readyCallback) {\n      if (mongoCollection) {\n        readyCallback(null, mongoCollection);\n        return;\n      }\n      // get the connection\n      var server = new mongo.Server('127.0.0.1', 27017, {\n        auto_reconnect: true\n      });\n      // get a handle on the database\n      var db = new mongo.Db('squares', server);\n      db.open(function(error, databaseConnection) {\n        databaseConnection.createCollection('testCollection', function(error, collection) {\n          if (!error) {\n            mongoCollection = collection;\n          }\n          // now we have a connection\n          if (readyCallback) readyCallback(error, mongoCollection);\n        });\n      });\n    };\n    module.exports = getMongoConnection;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "11997150",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163790336",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var db = require(\"mongojs\").connect('maindb', ['users']);\n    \n        db.users.find({}, \n        function(err, results){\n        //do something with the results\n       \n        )}",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var db = require(\"mongojs\").connect('maindb', ['users']);\n    \n        db.users.find({}, \n        function(err, results){\n        //do something with the results\n       \n        })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12019883",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "164079789",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var logger = require('./log);\n    \n    logger.info('log to file');",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var logger = require('./log');\n    \n    logger.info('log to file');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12019883",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164079787",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var winston = require('winston');\n    \n    var logger = new (winston.Logger)({\n      transports: [\n        new (winston.transports.Console)({ json: false, timestamp: true }),\n        new winston.transports.File({ filename: __dirname + '/debug.log', json: false })\n      ],\n      exceptionHandlers: [\n        new (winston.transports.Console)({ json: false, timestamp: true }),\n        new winston.transports.File({ filename: __dirname _ '/exceptions.log', json: false })\n      ],\n      exitOnError: false\n    });\n    \n    module.exports = logger;",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var winston = require('winston');\n    \n    var logger = new (winston.Logger)({\n      transports: [\n        new (winston.transports.Console)({ json: false, timestamp: true }),\n        new winston.transports.File({ filename: __dirname + '/debug.log', json: false })\n      ],\n      exceptionHandlers: [\n        new (winston.transports.Console)({ json: false, timestamp: true }),\n        new winston.transports.File({ filename: __dirname + '/exceptions.log', json: false })\n      ],\n      exitOnError: false\n    });\n    \n    module.exports = logger;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12029930",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "164210612",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var client = net.connect({port: 1337}, function () {\n      var i = 100;\n      while (i--) {\n        client.write('a'+i+'\\r\\n');\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    var net = require('net');\n    var client = net.connect({port: 1337}, function () {\n      var i = 100;\n      while (i--) {\n        client.write('a'+i+'\\r\\n');\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12029930",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164210586",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var net = require('net');\n    net.createServer(function (connection) {\n      connection.on('data', function (data) {\n        var lines = data.split('\\r\\n');\n        var i = lines.length;\n        while (i--) { // This will read your lines in reverse, be careful\n            console.log(lines[i])\n        }\n      });\n    }).listen(1337);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var net = require('net');\n    net.createServer(function (connection) {\n      connection.on('data', function (buffer) {\n        var data = buffer.toString();\n        if (data.indexOf('\\r\\n') > -1) { // If there's more than one line in the buffer\n            var lines = data.split('\\r\\n'); // Split the lines\n            var i = lines.length;\n            while (i--) { // This will read your lines in reverse, be careful\n                console.log(lines[i]);   // Print each line\n            }\n        } else {\n            console.log(data); // If only one line came through, print it\n        }\n      });\n    }).listen(1337);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12358055",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "168320790",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    if (global.GENTLY) require = GENTLY.hijack(require);\n    \n    var sys = require('sys');\n    exports.hello = function() {\n      sys.log('world');\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7777777777777778,
        "Content": "    var sys = require('sys');\n    exports.hello = function() {\n      sys.log('world');\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12670654",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "172188376",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.getTypeMembers = function(obj) {\n\tfor(var _k in obj){\n\t\tif (_k ==\"_id\") continue;\n\t\tif (Object.prototype.toString.call(obj[_k]) === \"[object Number]\"){\n\t\t\tobj[_k] = \"Number\";\n\t\t}else if (Object.prototype.toString.call(obj[_k]) === \"[object String]\"){\n\t\t\tobj[_k] = \"String\";\n\t\t}else if (Object.prototype.toString.call(obj[_k]) === \"[object Date]\"){\n\t\t\tobj[_k] = \"Date\";\n\t\t} else if(Object.prototype.toString.call(obj[_k]) === '[object Array]' ) {\n\t\t    obj[_k] = \"Array\";\n\t\t} else if(typeof(obj[_k])==\"object\"){\n\t\t\tobj[_k] = this.getTypeMembers(obj[_k]);\n\t\t} else{\n\t\t\tobj[_k]  = (typeof obj[_k])[0].toUpperCase() + (typeof obj[_k]).slice(1);\n\t\t}\n\t}\n\treturn obj;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    exports.getTypeMembers = function(obj) {\n    \tfor(var _k in obj){\n    \t\tif (_k ==\"_id\") continue;\n    \t\tif (Object.prototype.toString.call(obj[_k]) === \"[object Number]\"){\n    \t\t\tobj[_k] = \"Number\";\n    \t\t}else if (Object.prototype.toString.call(obj[_k]) === \"[object String]\"){\n    \t\t\tobj[_k] = \"String\";\n    \t\t}else if (Object.prototype.toString.call(obj[_k]) === \"[object Date]\"){\n    \t\t\tobj[_k] = \"Date\";\n    \t\t} else if(Object.prototype.toString.call(obj[_k]) === '[object Array]' ) {\n    \t\t    obj[_k] = \"Array\";\n    \t\t} else if(typeof(obj[_k])==\"object\"){\n    \t\t\tobj[_k] = this.getTypeMembers(obj[_k]);\n    \t\t} else{\n    \t\t\tobj[_k]  = (typeof obj[_k])[0].toUpperCase() + (typeof obj[_k]).slice(1);\n    \t\t}\n    \t}\n    \treturn obj;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12764374",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "173361801",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var app = express()\n      , http = require('http')\n      , server = http.createServer(app)\n      , io = require('socket.io').listen(server);\n    \n    // listen for new web clients:\n    server.listen(8080);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9444444444444444,
        "Content": "    var express = require('express'),\n        app = express()\n      , http = require('http')\n      , server = http.createServer(app)\n      , io = require('socket.io').listen(server);\n    \n    // listen for new web clients:\n    server.listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12793994",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "173728474",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var redis = require('redis'),\n        client = redis.createClient();\n    \n    client.keys('*', function (err, keys) {\n      if (err) return console.log(err);\n       \n      for(var i = 0, len = keys.length; i < len; i++) {\n        console.log(keys[i]);\n      }\n    );",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var redis = require('redis'),\n        client = redis.createClient();\n    \n    client.keys('*', function (err, keys) {\n      if (err) return console.log(err);\n       \n      for(var i = 0, len = keys.length; i < len; i++) {\n        console.log(keys[i]);\n      }\n    });        ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12924759",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "175368121",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function checkUser(req, res, next) {\n      var _ = require('underscore)\n      , nonSecurePaths = ['/', '/about', '/contact'];\n      if ( _.contains(nonSecurePaths, req.path) ) next();\n      //authenticate user\n      next();\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9523809523809523,
        "Content": "    function checkUser(req, res, next) {\n      var _ = require('underscore')\n          , nonSecurePaths = ['/', '/about', '/contact'];\n      if ( _.contains(nonSecurePaths, req.path) ) return next();\n      //authenticate user\n      next();\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "12956052",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "175755588",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var exec = require('child_process').exec;\n    \n    var result = '';\n    var processResult = function(result) {\n    \tconsole.log(result);\n    };\n    \n    var child = exec('./scripts/first.sh',function(err, stdout, stderr) {\n    \tif(stdout.indexOf('No such file or directory') != -1) {\n    \t\tvar child = exec('./scripts/second.sh', function(err, stdout, stderr) {\t\t\t\n    \t\t\tresult = stdout.split(\"=\");\n    \t\t\tprocessResult(result);\n    \t\t});\n    \t} else {\n    \t\tprocessResult(result);\n    \t}\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var exec = require('child_process').exec;\n    \n    var result = '';\n    var processResult = function(stdout) {\n        var result = stdout.split(\"=\");\n        console.log(result);\n    };\n    \n    var child = exec('./scripts/first.sh',function(err, stdout, stderr) {\n        if(err) {\n            var child = exec('./scripts/second.sh', function(err, stdout, stderr) {\t\t\t                \n                processResult(stdout);\n            });\n        } else {            \n            processResult(stdout);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13109010",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "177712931",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var https = require('https');\n\t\n\texports.getFbData = function(accessToken, apiPath, callback) {\n\t\tvar options = {\n\t\t\thost: 'graph.facebook.com',\n\t\t\tport: 443,\n\t\t\tpath: apiPath + '?access_token=' + accessToken, //apiPath example: '/me/friends'\n\t\t\tmethod: 'GET'\n\t\t};\n\t\t\n\t\tvar buffer = ''; //this buffer will be populated with the chanks of the data received from facebook\n\t\tvar request = https.get(options, function(result){\n\t\t    result.setEncoding('utf8');\n\t\t\tresult.on('data', function(chunk){\n\t\t\t\tbuffer += chunk;\n\t\t\t});\n\t\t\t\n\t\t\tresult.on('end', function(){\n\t\t\t\tcallback(buffer);\n\t\t\t});\n\t\t});\n\t\t\n\t\trequest.on('error', function(e){\n\t\t\tconsole.log('error from facebook.getFbData: ' + e.message)\n\t\t});\n\t\n\t\treq.end();\n\t}",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9636363636363636,
        "Content": "    var https = require('https');\n\t\n\texports.getFbData = function(accessToken, apiPath, callback) {\n\t\tvar options = {\n\t\t\thost: 'graph.facebook.com',\n\t\t\tport: 443,\n\t\t\tpath: apiPath + '?access_token=' + accessToken, //apiPath example: '/me/friends'\n\t\t\tmethod: 'GET'\n\t\t};\n\t\t\n\t\tvar buffer = ''; //this buffer will be populated with the chunks of the data received from facebook\n\t\tvar request = https.get(options, function(result){\n\t\t    result.setEncoding('utf8');\n\t\t\tresult.on('data', function(chunk){\n\t\t\t\tbuffer += chunk;\n\t\t\t});\n\t\t\t\n\t\t\tresult.on('end', function(){\n\t\t\t\tcallback(buffer);\n\t\t\t});\n\t\t});\n\t\t\n\t\trequest.on('error', function(e){\n\t\t\tconsole.log('error from facebook.getFbData: ' + e.message)\n\t\t});\n\t\n\t\trequest.end();\n\t}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13169448",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "178456481",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var async_func = function(x, func) {\n        func(x+5);\n    };\n    setTimeout( function() {\n        async_func(5, function(number) {\n            for (var x = 0; x < 1000000000; x++) {;}\n            console.log(number);\n        });\n    }), 3000);\n    console.log(\"done\");    ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var async_func = function(x, func) {\n        func(x+5);\n    };\n    setTimeout( function() {\n        async_func(5, function(number) {\n            for (var x = 0; x < 1000000000; x++) {;}\n            console.log(number);\n        });\n    }, 3000);\n    console.log(\"done\");    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13211294",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "178977595",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tvar app = require('express')();\n\tapp.set('myprop', 'value');\n\tvar _get = app['get'];\n\tapp['get'] = function (route, middleware, callback) {\n\t\tif (arguments.length > 1) {\n\t\t\t_get.call(app, route, middleware, callback);\n\t\t\t// For instance: I generate a new route for 'es' language.\n\t\t\t_get.call(app, '/es' + route, middleware, callback);\n\t\t} else {\n\t\t\treturn _get.apply(app, arguments);\n\t\t}\n\t};\n\tapp.get('/sample', function(req, res){\n\t\tres.send(app.get('myprop'));\n\t});\n\tapp.use(app.router);\n\tapp.listen(3131);vadim@zapp:~/workspace/test$ cat ./ex.js\n\tvar app = require('express')();\n\tapp.set('myprop', 'value');\n\tvar _get = app['get'];\n\tapp['get'] = function (route, middleware, callback) {\n\t\tif (arguments.length > 1) {\n\t\t\t_get.call(app, route, middleware, callback);\n\t\t\t// For instance: I generate a new route for 'es' language.\n\t\t\t_get.call(app, '/es' + route, middleware, callback);\n\t\t} else {\n\t\t\treturn _get.apply(app, arguments);\n\t\t}\n\t};\n\tapp.get('/sample', function(req, res){\n\t\tres.send(app.get('myprop'));\n\t});\n\tapp.use(app.router);\n\tapp.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.963855421686747,
        "Content": "\tvar app = require('express')();\n\tapp.set('myprop', 'value');\n\tvar _get = app['get'];\n\tapp['get'] = function (route, middleware, callback) {\n\t\tif (arguments.length > 1) {\n\t\t\t_get.call(app, route, middleware, callback);\n\t\t\t// For instance: I generate a new route for 'es' language.\n\t\t\t_get.call(app, '/es' + route, middleware, callback);\n\t\t} else {\n\t\t\treturn _get.apply(app, arguments);\n\t\t}\n\t};\n\tapp.get('/sample', function(req, res){\n\t\tres.send(app.get('myprop'));\n\t});\n\tapp.use(app.router);\n\tapp.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13318776",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "180333657",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var http = require('http');\n    http.createServer(function (req, res) {\n      console.log(req.body);\n      res.end();\n    }).listen(8080);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var http = require('http');\n    http.createServer(function (req, res) {\n      var body = '';\n      req.on('data', function(chunk) {\n        body += chunk.toString('utf8');\n      });\n      req.on('end', function() {\n        console.log(body);\n        res.end();    \n      });\n    }).listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13350918",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "180742902",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var host = \"127.0.0.1\", port = 33333;\n    \n    var dgram = require( \"dgram\" );\n    \n    var server = dgram.createSocket( \"udp4\" );\n    \n    server.on( \"message\", function( msg, rinfo ) {\n        console.log( rinfo.address + ':' + rinfo.port + ' - ' + msg );\n        server.send( msg, 0, msg.length, rinfo.port, rinfo.address\n    });\n    server.bind( port, host );",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9354838709677419,
        "Content": "    var host = \"127.0.0.1\", port = 33333;\n    \n    var dgram = require( \"dgram\" );\n    \n    var server = dgram.createSocket( \"udp4\" );\n    \n    server.on( \"message\", function( msg, rinfo ) {\n        console.log( rinfo.address + ':' + rinfo.port + ' - ' + msg );\n        server.send( msg, 0, msg.length, rinfo.port, rinfo.address ); // added missing bracket\n    });\n    server.bind( port, host );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13590441",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "183753564",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function MyClass(){\n      this._attr = \"foo\";\n    }\n    MyClass.prototype = {\n      getAttr: function(){\n        return this._attr;\n      }\n    };\n    var myClass = new MyClass();\n    var json = JSON.stringify(myClass);\n    newMyClass = JSON.parse(json);\n    newMyClass.__proto__ = MyClass.prototype;\n    console.log(newMyClass instanceof MyClass, newMyClass.getAttr());",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    function MyClass(){\n      this._attr = \"foo\";\n    }\n    MyClass.prototype = {\n      getAttr: function(){\n        return this._attr;\n      }\n    };\n    var myClass = new MyClass();\n    var json = JSON.stringify(myClass);\n    var newMyClass = JSON.parse(json);\n    newMyClass.__proto__ = MyClass.prototype;\n    console.log(newMyClass instanceof MyClass, newMyClass.getAttr());",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13656347",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "184582790",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('/', function(req, res){\n        console.log('GET request to /');\n        var jsonp = req.query[\"callback\"]+'('+jsonResponse+')';\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var app = module.exports = express.createServer();\n    app.configure(function(){\n        app.set('views', __dirname + '/views');\n        app.set('view engine', 'jade');\n        app.use(express.bodyParser());\n        app.use(express.methodOverride());\n        app.use(app.router);\n        app.use(express.static(__dirname + '/public'));\n    });\n    app.get('/logget', function(req, res){\n        console.log('get to log');\n        console.log(req.query.callback);\n        console.log(req.param('somedata'))\n        res.header('Content-Type', 'application/json');\n        res.header('Charset', 'utf-8')  \n        res.send(req.query.callback + '({\"something\": \"rather\", \"more\": \"pork\", \"tua\": \"tara\"});');  \n    });\n    app.listen(3000);\n    console.log(\"Express server listening on port %d in %s mode\", app.address().port, app.settings.env);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13731376",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "185515689",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Define authentication middleware BEFORE your routes\n    authenticate = function (req, res, next) {\n      // your validation code goes here. \n      isAuthenticated = true;\n      if (isAuthenticated) {\n        next();\n      }\n      else {\n        // redirect user to authentication page or throw error or whatever\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9841269841269841,
        "Content": "    // Define authentication middleware BEFORE your routes\n    var authenticate = function (req, res, next) {\n      // your validation code goes here. \n      var isAuthenticated = true;\n      if (isAuthenticated) {\n        next();\n      }\n      else {\n        // redirect user to authentication page or throw error or whatever\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "13842595",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "186904706",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function azType(type, v) { return { \"@\": { type: type }, \"#\": v }; }\n    function azBool(v) { return mkType(\"Edm.Boolean\", v); }\n    function azBinary(v) { return mkType(\"Edm.Binary\", v); }\n    function azByte(v) { return mkType(\"Edm.Byte\", v); }\n    function azDateTime(v) { return mkType(\"Edm.DateTime\", v); }\n    function azDateTimeOffset(v) { return mkType(\"Edm.DateTimeOffset\", v); }\n    function azDecimal(v) { return mkType(\"Edm.Decimal\", v); }\n    function azDouble(v) { return mkType(\"Edm.Double\", v); }\n    function azGuid(v) { return mkType(\"Edm.Guid\", v); }\n    function azInt64(v) { return mkType(\"Edm.Int64\", v); }\n    function azInt32(v) { return mkType(\"Edm.Int32\", v); }\n    function azInt16(v) { return mkType(\"Edm.Int16\", v); }\n    function azSByte(v) { return mkType(\"Edm.SByte\", v); }\n    function azSingle(v) { return mkType(\"Edm.Single\", v); }\n    function azString(v) { return mkType(\"Edm.String\", v); }\n    function azTime(v) { return mkType(\"Edm.Time\", v); }",
        "MostRecentVersion": "0",
        "Errors": 15,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function azType(type, v) { return { \"@\": { type: type }, \"#\": v }; }\n    function azBool(v) { return azType(\"Edm.Boolean\", v); }\n    function azBinary(v) { return azType(\"Edm.Binary\", v); }\n    function azByte(v) { return azType(\"Edm.Byte\", v); }\n    function azDateTime(v) { return azType(\"Edm.DateTime\", v); }\n    function azDateTimeOffset(v) { return azType(\"Edm.DateTimeOffset\", v); }\n    function azDecimal(v) { return azType(\"Edm.Decimal\", v); }\n    function azDouble(v) { return azType(\"Edm.Double\", v); }\n    function azGuid(v) { return azType(\"Edm.Guid\", v); }\n    function azInt64(v) { return azType(\"Edm.Int64\", v); }\n    function azInt32(v) { return azType(\"Edm.Int32\", v); }\n    function azInt16(v) { return azType(\"Edm.Int16\", v); }\n    function azSByte(v) { return azType(\"Edm.SByte\", v); }\n    function azSingle(v) { return azType(\"Edm.Single\", v); }\n    function azString(v) { return azType(\"Edm.String\", v); }\n    function azTime(v) { return azType(\"Edm.Time\", v); }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14167488",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191007832",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express')\n      , http = require('http'),\n      , app = express(),\n      , server = require('http').createServer(app),\n      , io = require('socket.io').listen(server);\n    \n    app.configure(function(){\n      app.use(express.bodyParser());\n    });\n    \n    io.sockets.on('connection', function (socket) {\n      socket.emit('news', { hello: 'world' });\n      socket.on('my other event', function (data) {\n        console.log(data);\n      });\n    });\n    \n    server.listen(process.env.PORT || 3000);",
        "MostRecentVersion": "0",
        "Errors": 12,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var express = require('express')\n      , http = require('http')\n      , app = express()\n      , server = require('http').createServer(app)\n      , io = require('socket.io').listen(server)\n      ;\n    \n    app.configure(function(){\n      app.use(express.bodyParser());\n    });\n    \n    io.sockets.on('connection', function (socket) {\n      socket.emit('news', { hello: 'world' });\n      socket.on('my other event', function (data) {\n        console.log(data);\n      });\n    });\n    \n    server.listen(process.env.PORT || 3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14223660",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191710845",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');     \n    var app = express();\n     \n    app.configure(function () {\n        app.use(express.logger('dev'));\n        app.use(express.bodyParser());\n    });\n    \n    // connection to mongo\n    mongoose.connect('mongodb:mongoURI');    \n    var user = require('./routes/users');\n    app.get('/users/list', user.list);\n     \n    app.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');     \n    var app = express();\n     \n    app.configure(function () {\n        app.use(express.logger('dev'));\n        app.use(express.bodyParser());\n    });\n    \n    // connection to mongoDB\n    var mongoose = require('mongoose');\n    mongoose.connect('mongodb:mongoURI');    \n    var user = require('./routes/users');\n    app.get('/users/list', user.list);\n     \n    app.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14249587",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "192009751",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function1() {\n        // stuff you want to happen right away\n        console.log('Welcome to My Console,');\n    }\n    \n    function2() {\n        // all the stuff you want to happen after that pause\n        console.log('Blah blah blah blah extra-blah');\n    }\n    \n    // call the first chunk of code right away\n    function1();\n    \n    // call the rest of the code and have it execute after 3 seconds\n    setTimeout(function2, 3000);",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9859154929577465,
        "Content": "    function function1() {\n        // stuff you want to happen right away\n        console.log('Welcome to My Console,');\n    }\n    \n    function function2() {\n        // all the stuff you want to happen after that pause\n        console.log('Blah blah blah blah extra-blah');\n    }\n    \n    // call the first chunk of code right away\n    function1();\n    \n    // call the rest of the code and have it execute after 3 seconds\n    setTimeout(function2, 3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14299587",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "192642786",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs'),\n        child_process = require('child_process');\n        file = '/tmp/node-editor-test';\n    \n    fs.writeFileSync(file, \"Node Editor\");\n    \n    var child = child_process.spawn('vim', [file], {stdio: 'inherit'});\n    \n    child.on('exit', function () {\n        console.log('File content is now', fs.readFileSync(file, 'utf8'));\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    'use strict';\n    var fs = require('fs');\n    var child_process = require('child_process');\n    var file = '/tmp/node-editor-test';\n    fs.writeFile(file, \"Node Editor\", function () {\n      var child = child_process.spawn('vim', [file], {stdio: 'inherit'});\n      child.on('close', function () {\n        fs.readFile(file, 'utf8', function (err, text) {\n          console.log('File content is now', text);\n        });\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14389074",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193730246",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var s = 'The quick brown fox jumps over the lazy dog';\n    var md5 = crypto.createHash('md5').updaet(s).digest('hex');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8666666666666667,
        "Content": "    var crypto = require('crypto');\n    var s = 'The quick brown fox jumps over the lazy dog';\n    var md5 = crypto.createHash('md5').update(s).digest('hex');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14407233",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193962702",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.stdin.resume();\n    process.stdin.on(\"data\", function(data) \n       console.log(\"recieved \" + data)\n    });\n    process.stdin.emit('data', 'abc');",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    process.stdin.resume();\n    process.stdin.on(\"data\", function(data) {\n       console.log(\"recieved \" + data)\n    });\n    process.stdin.emit('data', 'abc');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14513471",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195287051",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var app = express();\n    var server = http.createServer(app);\n    \n    var io = require('socket.io').listen(server);\n    server.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9166666666666666,
        "Content": "    var express = require('express'),\n        http = require('http');\n    var app = express();\n    var server = http.createServer(app);\n    \n    var io = require('socket.io').listen(server);\n    server.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14551669",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195773943",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Iconv = require('iconv').Iconv;\n    var fs = require('fs');\n    \n    function readFileSync_encoding(filename, encoding) {\n        var conetent = fs.readFileSync(filename, 'bytes');\n        var iconv = new Iconv(encoding, 'UTF-8');\n        var buffer = iconv.convert(content);\n        return buffer.toString('utf8');\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Iconv = require('iconv').Iconv;\n    var fs = require('fs');\n    \n    function readFileSync_encoding(filename, encoding) {\n        var content = fs.readFileSync(filename);\n        var iconv = new Iconv(encoding, 'UTF-8');\n        var buffer = iconv.convert(content);\n        return buffer.toString('utf8');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14627464",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "196707278",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.configure(function() {\n      app.use(express.errorHandler());\n      app.use(express.cookieParser());\n      app.use(express.session({\n        secret: 'yoursecret',\n        cookie: {\n          path: '/',\n          domain: 'yourdomain.com',\n          maxAge: 1000 * 60 * 24 // 24 hours\n        }\n      }));\n      app.use(function(req, res, next) {\n        res.header('Access-Control-Allow-Credentials', true);\n        res.header('Access-Control-Allow-Origin',      req.headers.origin);\n        res.header('Access-Control-Allow-Methods',     'GET,PUT,POST,DELETE');\n        res.header('Access-Control-Allow-Headers',     'X-Requested-With, X-HTTP-Method-Override, Content-Type, Accept');\n        next();\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7948717948717948,
        "Content": "    var express = require('express');\n    var session = require('express-session');\n    var cookieParser = require('cookie-parser');\n    var app = express();\n    app.use(cookieParser());\n    app.use(session({\n        secret: 'yoursecret',\n        cookie: {\n            path: '/',\n            domain: 'yourdomain.com',\n            maxAge: 1000 * 60 * 24 // 24 hours\n        }\n    }));\n    app.use(function(req, res, next) {\n        res.header('Access-Control-Allow-Credentials', true);\n        res.header('Access-Control-Allow-Origin', req.headers.origin);\n        res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE');\n        res.header('Access-Control-Allow-Headers', 'X-Requested-With, X-HTTP-Method-Override, Content-Type, Accept');\n        next();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14810722",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "198988919",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var newObject = Object.keys(myObject).reduce(function(previous, current) {\n        previous[current] = myObject[current] * myObject[current];\n        return previous;\n    }, {});\n    console.log(newObject);\n    // => { 'a': 1, 'b': 4, 'c': 9 }\n    console.log(myObject);\n    // => { 'a': 1, 'b': 2, 'c': 3 }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var myObject = { 'a': 1, 'b': 2, 'c': 3 };\n    // returns a new object with the values at each key mapped using mapFn(value)\n    function objectMap(object, mapFn) {\n      return Object.keys(object).reduce(function(result, key) {\n        result[key] = mapFn(object[key])\n        return result\n      }, {})\n    }\n    var newObject = objectMap(myObject, function(value) {\n      return value * 2\n    })\n    console.log(newObject);\n    // => { 'a': 2, 'b': 4, 'c': 6 }\n    console.log(myObject);\n    // => { 'a': 1, 'b': 2, 'c': 3 }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14810722",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "198988905",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tObject.keys(myObject).map(function(value, index) {\n\t   myObject[value] *= 2;\n\t})\n    console.log(myObject);\n    // => { 'a': 2, 'b': 4, 'c': 6 }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var myObject = { 'a': 1, 'b': 2, 'c': 3 };\n    Object.keys(myObject).map(function(key, index) {\n      myObject[key] *= 2;\n    });\n    console.log(myObject);\n    // => { 'a': 2, 'b': 4, 'c': 6 }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14810722",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "198988909",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    for(var key in myObject) {\n        if(myObject.hasOwnProperty(key)) {\n            myObject[key] *= 2;\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var myObject = { 'a': 1, 'b': 2, 'c': 3 };\n    for (var key in myObject) {\n      if (myObject.hasOwnProperty(key)) {\n        myObject[key] *= 2;\n      }\n    }\n    console.log(myObject);\n    // { 'a': 2, 'b': 4, 'c': 6 }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "14869052",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "199697432",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    setInverval(function(){\n      console.log('test');\n    }, 60 * 60 1000);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    setInterval(function(){\n      console.log('test');\n    }, 60 * 60 * 1000);      ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15023143",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "201598721",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    \n    var s = readFileSync('myfile.js', 'utf8');\n    x = eval(s);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    var fs = require('fs');\n    var s = fs.readFileSync('myfile.js', 'utf8');\n    var x = eval(s);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15060417",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "202057137",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    name: { type: NameSchema } ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2857142857142857,
        "Content": "    name: [{ some: \"props\" } ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15108487",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "202645559",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var open = require('open');\n    open('http://www.google.com', function (err) {\n      if (err) throw err;\n      console.log('The user closed the browser');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var open = require('open');\n    open('http://www.google.com', function (err) {\n      if (err) throw err;\n      console.log('The user closed the browser');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15134505",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "202969488",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var str = \"123, 124, 234,252\";\n    var arr = str.split(\",\").map(function (val) {\n      return Number(val) + 1;\n    });\n    document.write(JSON.stringify(arr));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    var str = \"123, 124, 234,252\";\n    var arr = str.split(\",\").map(function (val) {\n      return Number(val) + 1;\n    });\n    console.log(arr);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15256628",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "204481955",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs'); // file system module\n    \n    fs.readFile('/path/to/file.csv', 'utf-8', function(err, data) {\n        if (err) throw err;\n        var lines = data.trim().split('\\n');\n        var lastLine = data.slice(-1);\n        var fields = lastLine.split(',');\n        var audioFile = fields.slice(-1).replace('file:\\\\\\\\', '')\n        console.log(audioFile);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9259259259259259,
        "Content": "    var fs = require('fs'); // file system module\n    \n    fs.readFile('/path/to/file.csv', 'utf-8', function(err, data) {\n        if (err) throw err;\n        var lines = data.trim().split('\\n');\n        var lastLine = lines.slice(-1)[0];\n        var fields = lastLine.split(',');\n        var audioFile = fields.slice(-1)[0].replace('file:\\\\\\\\', '');\n        console.log(audioFile);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15271685",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "204665822",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    require('dns').resolve('www.google.com', function(err) {\n      if (err)\n         // no connection\n      else\n         // connection\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    require('dns').resolve('www.google.com', function(err) {\n      if (err) {\n         console.log(\"No connection\");\n      } else {\n         console.log(\"Connected\");\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15430827",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "206624966",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function mysql_real_escape_string (str) {\n        return str.replace(/[\\0\\x08\\x09\\x1a\\n\\r\"'\\\\\\%]/g, function (char) {\n            switch (char) {\n                case \"\\0\":\n                    return \"\\\\0\";\n                case \"\\x08\":\n                    return \"\\\\b\";\n                case \"\\x09\":\n                    return \"\\\\t\";\n                case \"\\x1a\":\n                    return \"\\\\z\";\n                case \"\\n\":\n                    return \"\\\\n\";\n                case \"\\r\":\n                    return \"\\\\r\";\n                case \"\\\"\":\n                case \"'\":\n                case \"\\\\\":\n                case \"%\":\n                    return \"\\\\\"+char; // prepends a backslash to backslash, percent,\n                                      // and double/single quotes\n            }\n        });\n    }\n    mysql_real_escape_string(projectDir);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function mysql_real_escape_string (str) {\n        return str.replace(/[\\0\\x08\\x09\\x1a\\n\\r\"'\\\\\\%]/g, function (char) {\n            switch (char) {\n                case \"\\0\":\n                    return \"\\\\0\";\n                case \"\\x08\":\n                    return \"\\\\b\";\n                case \"\\x09\":\n                    return \"\\\\t\";\n                case \"\\x1a\":\n                    return \"\\\\z\";\n                case \"\\n\":\n                    return \"\\\\n\";\n                case \"\\r\":\n                    return \"\\\\r\";\n                case \"\\\"\":\n                case \"'\":\n                case \"\\\\\":\n                case \"%\":\n                    return \"\\\\\"+char; // prepends a backslash to backslash, percent,\n                                      // and double/single quotes\n            }\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15458197",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "206970850",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var connect = require('connect')\n      //, http = require('http'); Use https server instead\n      , https = require('https');\n    \n    var options = {\n        key:    fs.readFileSync('ssl/server.key'),\n        cert:   fs.readFileSync('ssl/server.crt'),\n        ca:     fs.readFileSync('ssl/ca.crt')\n    };\n    var app = connect();\n    https.createServer(options,app).listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9565217391304348,
        "Content": "    var fs = require('fs');\n    var connect = require('connect')\n      //, http = require('http'); Use https server instead\n      , https = require('https');\n    \n    var options = {\n        key:    fs.readFileSync('ssl/server.key'),\n        cert:   fs.readFileSync('ssl/server.crt'),\n        ca:     fs.readFileSync('ssl/ca.crt')\n    };\n    var app = connect();\n    https.createServer(options,app).listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15646003",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209263600",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongodb = require('mongodb');\n    var Server = mongodb.Server('127.0.0.1', 27017, {});\n    new mongodb.Db('database_name', Server, {w: 1}).open(function(err, db){\n      var today_scrape = new mongodb.Collection(db, 'today_scrape');\n      var 2month_scrape = new mongodb.Collection(db, '2month_scrape');\n      today_scrape.find({url: {$exists: true}}).toArray(function(err, today_docs){\n        for(var i=0, l=today_docs.length; i<l; i++){\n          var today_doc = today_docs[i];\n          2month_scrape.findOne({url: today_doc.url}, function(err, 2month_doc){\n            if(today_doc.headers.server != 2month_doc.headers.server)\n              console.log('servers different');\n            if(today_doc.headers.x-aspnet-version != 2month_doc.headers.x-aspnet-version)\n              console.log('x-aspnet-versions different');\n            if(today_doc.headers.x-powered-by != 2month_doc.headers.x-powered-by)\n              console.log('x-powered-by different');\n          });\n        }\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 32,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7741935483870968,
        "Content": "    var mongodb = require('mongodb');\n    var Server = mongodb.Server('127.0.0.1', 27017, {});\n    new mongodb.Db('scraperapp', Server, {w: 1}).open(function(err, db){\n      var scrape = new mongodb.Collection(db, 'scrape');\n      var scrapeFuture = new mongodb.Collection(db, 'scrapeFuture');\n      scrape.find({url: {$exists: true}}).toArray(function(err, today_docs){\n        if(!today_docs) return;\n        var scrapeFn = function(i){\n          var today_doc = today_docs[i];\n          scrapeFuture.findOne({url: today_doc.url}, function(err, future_doc){\n            if(!future_doc) return;\n            if(today_doc.headers.server != future_doc.headers.server)\n              console.log(today_doc.url + ':servers different');\n            if(today_doc.headers['x-aspnet-version'] != future_doc.headers['x-aspnet-version'])\n              console.log(today_doc.url + ':x-aspnet-versions different');\n            if(today_doc.headers['x-powered-by'] != future_doc.headers['x-powered-by'])\n              console.log(today_doc.url + ':x-powered-by different');\n            if(today_docs[i+1]) scrapeFn(i+1);\n          });\n        }\n        scrapeFn(0);\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15724638",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "210240788",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var rewire = require('rewire'\n    var moduleA = rewire('./moduleA')\n    // stub out fs\n    var fsStub = {\n      readdir: function(path, callback) {\n         console.log('fs.readdir stub called')\n         callback(null, [])\n      }\n    moduleA.__set__('fs', fsStub)\n    // call moduleA which now has a fs stubbed out\n    moduleA()",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var rewire = require('rewire')\n    var moduleA = rewire('./moduleA')\n    // stub out fs\n    var fsStub = {\n      readdir: function(path, callback) {\n         console.log('fs.readdir stub called')\n         callback(null, [])\n      }\n    }\n    moduleA.__set__('fs', fsStub)\n    // call moduleA which now has a fs stubbed out\n    moduleA()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15736914",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "210388442",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function (io) {\n      io.sockets.on('connection', function(socket) {\n        //..\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7777777777777778,
        "Content": "    module.exports = function (io) {\n      io.sockets.on('connection', function(socket) {\n        // Your code here\n      });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15778396",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210888118",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var path = requrie('path')\n    \n    path.extname('index.html')\n    // returns\n    '.html'",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.875,
        "Content": "    var path = require('path')\n    \n    path.extname('index.html')\n    // returns\n    '.html'",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "15957574",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "213072741",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    npm.commands.install([\"some\", \"args\"], function (er, data) {\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5416666666666666,
        "Content": "    var npm = require('npm');\n    npm.load(function(err) {\n      // handle errors\n      // install module ffi\n      npm.commands.install(['ffi'], function(er, data) {\n        // log errors or data\n      });\n      npm.on('log', function(message) {\n        // log installation progress\n        console.log(message);\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16098300",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214814565",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.locals.somevar = \"hello world\";\n    \n    app.locals.someHelper = function(name) {\n      echo (\"hello \" + name);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9090909090909091,
        "Content": "    app.locals.somevar = \"hello world\";\n    \n    app.locals.someHelper = function(name) {\n      return (\"hello \" + name);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16124992",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "215143793",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    phantom = require('phantom')\n    phantom.create(function(ph){\n      ph.createPage(function(page) {\n        page.open(\"http://www.google.com\", function(status) {\n          page.render('google.pdf', function(){\n            console.log('Page Rendered');\n            ph.exit();\n          });\n        });\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var phantom = require('phantom');   \n    \n    phantom.create().then(function(ph) {\n        ph.createPage().then(function(page) {\n            page.open(\"http://www.google.com\").then(function(status) {\n                page.render('google.pdf').then(function() {\n                    console.log('Page Rendered');\n                    ph.exit();\n                });\n            });\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16155148",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "215516850",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        var amqp       = require('amqp');\n        var amqp_hacks = require('./amqp-hacks');\n        \n        var connection = amqp.createConnection({host: 'localhost'});\n        connection.on('ready', function(){\n                connection.queue('hello_node', {'durable': false}, function(q){\n                    connection.publish('hello_node', 'Hello World!');\n                    console.log(\" [x] Sent 'Hello World!'\");\n                    amqp_hacks.safeEndConnection(connection);\n                }\n        });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.92,
        "Content": "        var amqp       = require('amqp');\n        var amqp_hacks = require('./amqp-hacks');\n        \n        var connection = amqp.createConnection({host: 'localhost'});\n        connection.on('ready', function(){\n                connection.queue('hello_node', {'durable': false}, function(q){\n                    connection.publish('hello_node', 'Hello World!');\n                    console.log(\" [x] Sent 'Hello World!' to 'hello_node'\");\n                    amqp_hacks.safeEndConnection(connection);\n                });\n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16179765",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "215816551",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function MyModule(client){\n       this.client = client;\n    };\n    MyModule.prototype.fun1 = function(params1){\n       //do something with this.client\n    };\n    MyModule.prototype.fun2 = function(params1){\n       //do something with this.client\n    };\n    MyModule.prototype.bind = function(){\n       this.client.on('act1' , fun1);\n       this.client.on('act2' , fun2);\n    };\n    MyModule.prototype.unbind = function(){\n       this.client.removeEventListener('act1' , fun1);\n       this.client.removeEventListener('act2' , fun2);\n    };\n    module.exports = MyModule;",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function MyModule(client){\n       this.client = client;\n    };\n    MyModule.prototype.fun1 = function(params1){\n       //do something with this.client\n    };\n    MyModule.prototype.fun2 = function(params2){\n       //do something with this.client\n    };\n    MyModule.prototype.bind = function(){\n       this.client.on('act1' , this.fun1);\n       this.client.on('act2' , this.fun2);\n    };\n    MyModule.prototype.unbind = function(){\n       this.client.removeEventListener('act1' , this.fun1);\n       this.client.removeEventListener('act2' , this.fun2);\n    };\n    module.exports = MyModule;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16213707",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "216237577",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var BaseModel = require('relative/or/absolute/path/to/base_model');\n    function UserModel() {\n        UserModel.super_.apply(this, arguments);\n    }\n    UserModel.super_ = BaseModel;\n    UserModel.prototype = Object.create(BaseModel.prototype, {\n        constructor: {\n            value: UserModel;\n            enumarable: false\n        }\n    }\n    UserModel.prototype.yourFunction = function () { /* ... */ };\n    module.exports = UserModel;\n    ",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9302325581395349,
        "Content": "    var BaseModel = require('relative/or/absolute/path/to/base_model');\n    function UserModel() {\n        UserModel.super_.apply(this, arguments);\n    }\n    UserModel.super_ = BaseModel;\n    UserModel.prototype = Object.create(BaseModel.prototype, {\n        constructor: {\n            value: UserModel,\n            enumerable: false\n        }\n    });\n    UserModel.prototype.yourFunction = function () { /* ... */ };\n    module.exports = UserModel;\n ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16275382",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "216998006",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var socket = require('socket.io-client')('http://localhost');\n    socket.on('connect', function(){\n        socket.on('event', function(data){});\n        socket.on('disconnect', fucntion(){});\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9090909090909091,
        "Content": "    var socket = require('socket.io-client')('http://localhost');\n    socket.on('connect', function(){\n        socket.on('event', function(data){});\n        socket.on('disconnect', function(){});\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16300784",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "217302901",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var i = 0;\n    function push(socket) {\n        return function() {\n            socket.send(i++);\n        }\n    }\n    io.sockets.on('connection', function (socket) {\n        socket.interval = setInterval(push(socket), 1000);\n        socket.on('disconnect', function () {\n            // remove the circular reference.\n            clearInterval(socket.interval);\n            delete socket.interval;\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9734513274336283,
        "Content": "    var http = require('http'),\n        io;\n    \n    var html = \"<!doctype html>\" +\n        \"<title>Socket.IO Example</title>\" +\n        \"<div id=\\\"number\\\"></div>\" +\n        \"<script src=\\\"/socket.io/socket.io.js\\\"></script>\" +\n        \"<script>\" +\n        \"var socket = io.connect(),\" +\n        \"numberElement = document.getElementById('number');\" +\n        \"socket.on('message', function (data) {\" +\n        //\"numberElement.innerText = data;\" +\n        \"numberElement.innerHTML = data;\" +\n        \"});\" +\n        \"</script>\";\n    \n    var server = http.createServer(function (request, response) {\n        response.statusCode = 200;\n        response.setHeader('Content-Type', 'text/html');\n        response.end(html);\n    });\n    server.listen(8080);\n    \n    io = require('socket.io').listen(server);\n    \n    function push(socket) {\n        var i = 0;\n        return function () {\n            socket.send(String(i++ % 3600));\n        };\n    }\n    \n    io.sockets.on('connection', function (socket) {\n        var interval = setInterval(push(socket), 1000);\n        socket.on('disconnect', function () {\n            clearInterval(interval);\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16317628",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "217509299",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    mkdirp = require \"mkdirp\"\n    fs = require \"fs\"\n    getDirName = require(\"path\").dirname\n    function writeFile (path, contents, cb) {\n      mkdirp(getDirName(path), function (err) {\n        if (err) return cb(err)\n        fs.writeFile(path, contents, cb)\n      })\n    }",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7692307692307693,
        "Content": "    var mkdirp = require('mkdirp');\n    var fs = require('fs');\n    var getDirName = require('path').dirname;\n    \n    function writeFile(path, contents, cb) {\n      mkdirp(getDirName(path), function (err) {\n        if (err) return cb(err);\n        \n        fs.writeFile(path, contents, cb);\n      });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16326616",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "217619286",
    "Versions": [
      {
        "PredCount": "0",
        "Content": " var http = require('http'),\n     fs = require('fs'),\n     async = require('async');\nvar server = http.createServer(function (req, res) {\n  var lines = fs.readFileSync('__dirname + '/data.txt').split(/\\n+/);\n  async.whilst(\n    function () {\n      return lines.length > 0;\n    },\n    function (done) {\n      var next = lines.shift();\n      res.write(line);\n      setTimeout(done, /^\\$,/.test(line) ? 1000 : 0);\n    },\n    function (err) {\n      res.end();\n    });\n  });\n});\nserver.listen(8000);\nconsole.log('server running on 8000');",
        "MostRecentVersion": "0",
        "Errors": 12,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.25,
        "Content": "var net = require('net'),\n    fs = require('fs'),\n    _ = require('underscore');\nvar current = 0,\n    sockets = [];\n// dirty parser for blocs\nvar data = fs.readFileSync(__dirname + '/data.txt').toString(),\n    blocs = _.chain(data.split(/\\$X,/)).compact().map(function (bloc) {\n      return '$X,' + bloc;\n    }).value();\nfunction streamBloc() {\n  console.log('writing bloc #' + current + ' to ' + sockets.length + ' sockets');\n  _(sockets).each(function (socket) {\n    socket.write(blocs[current]);\n  });\n  current = (current + 1) % blocs.length;\n  setTimeout(streamBloc, 1000);\n}\nvar server = net.createServer(function (socket) {\n  console.log('incoming connection');\n  // immediately write current bloc\n  socket.write(blocs[current]);\n  // add to sockets so that it receive future blocs\n  sockets.push(socket);\n  // cleanup when the client leaves\n  socket.on('end', function () {\n    sockets = _(sockets).without(socket);\n  });\n}).listen(8000, function () {\n  console.log('server listening on port 8000');\n});\nstreamBloc();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16448357",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "219103457",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var ss = require('stream-stream');\n    var fs = require('fs');\n    var files = ['a.txt', 'b.txt', 'c.txt'];\n    var stream = ss();\n    files.forEach(function(f) {\n        stream.write(fs.createReadStream(f));\n    });\n    stream.end();\n    steam.pipe(process.stdout);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var CombinedStream = require('combined-stream');\n    var fs = require('fs');\n    var combinedStream = CombinedStream.create();\n    combinedStream.append(fs.createReadStream('file1.txt'));\n    combinedStream.append(fs.createReadStream('file2.txt'));\n    combinedStream.pipe(fs.createWriteStream('combined.txt'));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16500213",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "219738097",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = express();\n    \n    app.get('*', function(req, res){\n      res.send(yourIndexFileContents);\n    });\n    \n    app.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var express = require('express');\n    var app = express();\n    \n    app.all('*', function(req, res){\n      res.sendfile(\"index.html\");\n    });\n    \n    app.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16512607",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "219893100",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    process.on('DONE', function(result) {\n      process.kill();\n      // go on and send result to the client somehow...\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    process.on('DONE', function(result) {\n      process.exit();\n      // go on and send result to the client somehow...\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16631079",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "221345583",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.method = function() {};\n    exports.otherMethod = function();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    exports.method = function() {};\n    exports.otherMethod = function() {};",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16777635",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "223148769",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     [\n\t\t{\n\t\t\t\"_id\" : ObjectId(\"51a39b5b6d039ddc8f7a25ec\"),\n\t\t\t\"document\" : {\n\t\t\t\t\"subdocument\" : \"Hello World\"\n\t\t\t}\n\t\t},\n\t\t{\n\t\t\t\"_id\" : ObjectId(\"51a39b5b6d039ddc8f7a25ec\"),\n\t\t\t\"document\" : {\n\t\t\t\t\"subdocument\" : \"Hello Moon\"\n\t\t\t}\n\t\t}\n     ]",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "     [\n\t\t{\n\t\t\t\"subdocument\" : \"Hello World\"\n\t\t},\n\t\t{\n\t\t\t\"subdocument\" : \"Hello Moon\"\n\t\t}\n     ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16815727",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223625369",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function normalAuth(user, pass, callbackResult) {\n      var mongo = require('./database/userManager');      \n      mongo.start(mongo.list(function(err, data) {\n          if(err) { throw err; }\n          else {\n            console.log('Getting list from db...');\n            for(var i in data) {\n              console.log('Getting details from db...');\n              if(user == data[i].name && pass == data[i].pass) {\n                console.log('New connection : ' + user);\n                callbackResult(true);\n                break;\n              }\n              else {\n                console.log('Failed connection : ' + user);\n                callbackResult(false);\n              }\n            }\n            console.log('OK');\n          }\n          mongo.mongoose.connection.close();\n      }));\n      return result;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function normalAuth(user, pass, callbackResult) {\n      var mongo = require('./database/userManager');      \n      mongo.start(mongo.list(function(err, data) {\n          if(err) { throw err; }\n          else {\n            console.log('Getting list from db...');\n            for(var i in data) {\n              console.log('Getting details from db...');\n              if(user == data[i].name && pass == data[i].pass) {\n                console.log('New connection : ' + user);\n                // here you send true to callback function\n                callbackResult(true);\n                break;\n              }\n              else {\n                console.log('Failed connection : ' + user);\n                // here you send false to callback function\n                callbackResult(false);\n              }\n            }\n            console.log('OK');\n          }\n          mongo.mongoose.connection.close();\n      }));\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "16846761",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "224012080",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Q = requrie('q')\n    var request = Q.denodeify(require('request'))",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Q = require('q')\n    var request = Q.denodeify(require('request'))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17008710",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "226009147",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function (grunt) {\n        grunt.initConfig({\n            // define source files and their destinations\n            uglify: {\n                file1: { \n                    src: [ 'js/file1.js' ],\n                    dest: 'jsm/file1.min.js' }\n                },\n                my_plugins: {\n                    // this will concatenate all files in plugins folder into a single file\n                    src: [ 'js/plugins/*.js' ],\n                    dest: 'jsm/plugins.min.js' }\n                }\n            },\n            watch: {\n                js:  { files: 'js/**/*.js', tasks: [ 'uglify' ] },\n            }\n        });\n        // load plugins\n        grunt.loadNpmTasks('grunt-contrib-watch');\n        grunt.loadNpmTasks('grunt-contrib-uglify');\n        \n        // register at least this one task\n        grunt.registerTask('default', [ 'uglify' ]);\n    };",
        "MostRecentVersion": "0",
        "Errors": 13,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    module.exports = function (grunt) {\n        grunt.initConfig({\n            // define source files and their destinations\n            uglify: {\n                files: { \n                    src: 'js/*.js',  // source files mask\n                    dest: 'jsm/',    // destination folder\n                    expand: true,    // allow dynamic building\n                    flatten: true,   // remove all unnecessary nesting\n                    ext: '.min.js'   // replace .js to .min.js\n                }\n            },\n            watch: {\n                js:  { files: 'js/*.js', tasks: [ 'uglify' ] },\n            }\n        });\n        // load plugins\n        grunt.loadNpmTasks('grunt-contrib-watch');\n        grunt.loadNpmTasks('grunt-contrib-uglify');\n        \n        // register at least this one task\n        grunt.registerTask('default', [ 'uglify' ]);\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17013036",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226058573",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    {function SomeBox() {\n      console.log(this); // Returns an empty object: {}.\n      // Why does this line not return the global object.\n    \n      var somefunc = function(name) {\n         console.log(this);\n      }\n    \n      somefunc(); // Returns the the global object. I think I understand this. The function is\n               // invoked in a global context.\n    \n      somfunc.call(this); // Again returns the empty object. Why?\n    })();",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var sandbox = {};\n    (function() {\n      console.log(this);      // 1\n      var somefunc = function(name) {\n         console.log(this);\n      }\n      somefunc();             // 2\n      somefunc.call(this);    // 3\n    }).call(sandbox);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17082290",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226900469",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function (grunt) {\n      // or use grunt.registerMultiTask\n      grunt.registerTask('your-taskname', 'your task description', function () {\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    module.exports = function (grunt) {\n      // or use grunt.registerMultiTask\n      grunt.registerTask('your-taskname', 'your task description', function () {\n      });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17105961",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227189039",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    phantom = require('phantom')\n    phantom.create(function(ph){\n       ph.createPage(function(page) {\n         page.open(\"http://www.google.com\", function(status) {\n            page.render('google.pdf', function(){\n            console.log('Page Rendered');\n           ph.exit();\n       });\n    });\n    });\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.56,
        "Content": "    var phantom = require('phantom');\n    \n    phantom.create().then(function(ph) {\n        ph.createPage().then(function(page) {\n            page.open(\"http://www.google.com\").then(function(status) {\n                page.render('google.pdf').then(function() {\n                    console.log('Page Rendered');\n                    ph.exit();\n                });\n            });\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17110285",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227241830",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tvar editor = process.env.EDITOR || 'vi';\n\tvar child = child_process.spawn(editor, ['/tmp/somefile.txt'], {\n\t\tstdio: 'inherit'\n\t});\n\tchild.on('exit', function (e, code) {\n\t\tconsole.log(\"finished\");\n\t});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.918918918918919,
        "Content": "    const child_process = require('child_process')\n\tvar editor = process.env.EDITOR || 'vi';\n\tvar child = child_process.spawn(editor, ['/tmp/somefile.txt'], {\n\t\tstdio: 'inherit'\n\t});\n\tchild.on('exit', function (e, code) {\n\t\tconsole.log(\"finished\");\n\t});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17124775",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227417709",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      var app = connect()\n    .use(connect.logger('dev'))\n    .use(connect.static('public'))\n    .use(function(req, res){\n    res.headers('\"Access-Control-Allow-Origin');\n    res.header(\"Access-Control-Allow-Headers\");\n    })\n    .listen(8000);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var http = require(\"http\");\n    var connect = require('connect');\n    var app = connect()\n        .use(connect.logger('dev'))\n        .use(connect.static('home'))\n\t    .use(function(req, res){\n        res.setHeader(\"Access-Control-Allow-Origin\", \"http://example.com\");\n        res.end('hello world\\n');\n     });\n    var server = http.createServer(app);\n    server.listen(9999, function () {\n        console.log('server is listening');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17223609",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "228623700",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "         var WebSocketServer = require('ws').Server\n      , wss = new WebSocketServer({port: 8080});\n      var CLIENTS=[];\n    wss.on('connection', function(ws) {\n    \t\tCLIENTS.push(ws);\n    \tws.on('message', function(message) {\n            console`enter code here`.log('received: %s', message);\n    \tsendAll(message);\n        });\n        ws.send(\"NEW USER JOINED\");\n    \n    });\n    function sendAll(message)\n    {\n    for(var i=0;i<CLIENTS.length;i++)\n    \t{\n    \tCLIENTS[i].send(\"Message:\"+ message);\n    \t}\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7796610169491526,
        "Content": "    var WebSocketServer = require('ws').Server,\n        wss = new WebSocketServer({port: 8080}),\n        CLIENTS=[];\n    wss.on('connection', function(ws) {\n        CLIENTS.push(ws);\n        ws.on('message', function(message) {\n            console.log('received: %s', message);\n            sendAll(message);\n        });\n        ws.send(\"NEW USER JOINED\");\n    });\n    function sendAll (message) {\n        for (var i=0; i<CLIENTS.length; i++) {\n            CLIENTS[i].send(\"Message: \" + message);\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17254148",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "229003037",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require(\"mongoose\");\n    var subSchema = mobgoose.Schema({\n        //your subschema content\n    },{ _id : false });\n    var schema = mongoose.Schema({\n        // schema content\n        subSchemaCollection : [subSchema]\n    });\n    var model = mongoose.model('tablename', schema);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.972972972972973,
        "Content": "    var mongoose = require(\"mongoose\");\n    var subSchema = mongoose.Schema({\n        //your subschema content\n    },{ _id : false });\n    var schema = mongoose.Schema({\n        // schema content\n        subSchemaCollection : [subSchema]\n    });\n    var model = mongoose.model('tablename', schema);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17380693",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "230562021",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var config = {\n        db: {\n            db: 'dbname', // the name of the database\n            host: \"12.12.12.12\", // the ip adress of the database\n            port: 10091, // the port of the mongo db\n            username: \"name\", //the username if not needed use undefined\n            password: \"pw\", // the password for the db access\n            get url() {\n                var dataUrl = \"mongodb://\";\n                if (this.username)\n                    dataUrl += this.username + ':' + this.password + '@';\n                dataUrl += this.host + \":\" + this.port + '/' + configs.db.db;\n                return dataUrl;\n            }\n        }\n    };\n    console.log(config.db.url); // automatically computed on access",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9702970297029703,
        "Content": "    var config = {\n        db: {\n            db: 'dbname', // the name of the database\n            host: \"12.12.12.12\", // the ip adress of the database\n            port: 10091, // the port of the mongo db\n            username: \"name\", //the username if not needed use undefined\n            password: \"pw\", // the password for the db access\n            get url() {\n                var dataUrl = \"mongodb://\";\n                if (this.username)\n                    dataUrl += this.username + ':' + this.password + '@';\n                dataUrl += this.host + \":\" + this.port + '/' + this.db;\n                return dataUrl;\n            }\n        }\n    };\n    console.log(config.db.url); // automatically computed on [every!] access",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17449900",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231404742",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    mysqlConnection = mysql.createConnection({\n\t\thost: settings.mysqlServer,\n\t\tuser: settings.mysqlUser,\n\t\tpassword: settings.mysqlPassword,\n\t\tmultipleStatements: true\n\t});\n    mysqlConnection.query( 'CREATE DATABASE NodeTest;USE NodeTest;CREATE TABLE tblUsers (userId varchar(32), userName varchar(255), friendlyUserName varchar(255));' , function( oError ){\n        if ( oError )  throw oError;\n        console.log( 'Database created.' );\n    });",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9428571428571428,
        "Content": "`javascript\n    mysqlConnection = mysql.createConnection({\n\t\thost: settings.mysqlServer,\n\t\tuser: settings.mysqlUser,\n\t\tpassword: settings.mysqlPassword,\n\t\tmultipleStatements: true   // <------\n\t});\n    mysqlConnection.query( 'CREATE DATABASE NodeTest;USE NodeTest;CREATE TABLE tblUsers (userId varchar(32), userName varchar(255), friendlyUserName varchar(255));' , function( oError ){\n        if ( oError )  throw oError;\n        console.log( 'Database created.' );\n    });\n`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17452601",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231435370",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function respond(req, res, next) {\n      res.send({\n        params: req.params\n        query: req.query\n      });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    function respond(req, res, next) {\n      res.send({\n        params: req.params,\n        query: req.query\n      });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17458163",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231505840",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var schema = new Schema('mysql', {\n     // your config\n    });\n    \n    schema.client.query('your very wild query', function(err, data) {\n     // if no error data will be an Array of Objects\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Schema = require('jugglingdb').Schema;\n    var schema = new Schema('mysql', {\n     // your config\n    });\n    \n    schema.client.query('your very wild query', function(err, data) {\n     // data will be an Array of Objects if no error\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17498608",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "232006833",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var replaced_text = your_content.replace(/\\n/gs, \"\"); //this is javascript",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.47058823529411764,
        "Content": "    var your_content = \"<div>#hehe\\\n        \\\n        \\\n        </div>\";\n    var replaced_text = your_content.replace(/\\n|\\s/g, \"\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17660834",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "233982287",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.index = function(req, res) {\n    \tres.sendfile(\"\" + yourdirectory + \"/index.html\");\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.47619047619047616,
        "Content": "    exports.index = function(req, res) {\n    \tres.sendfile(__dirname + \"/public/index.html\"); // updated to reflect dir structure\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17926970",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "237251334",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tfunction doABunchOfAsyncWorkInSeries(args, callbackToMainEventLoop) {\n\t\tfunction asyncFun1(args) {\n\t\t\tdoSomeWorkOnArgs(args, asyncFun2);\n\t\t}\n\t\tfunction asyncFun2(args) {\n\t\t\tdoSomeOtherWorkOnArgs(args, asyncFun3);\n\t\t}\n\t\tfunction asyncFun3(args) {\n\t\t\tdoSomeFinalWOrkOnArgs(args, callbackToMainEventLoop);\n\t\t}\n        asyncFun1(args);\n\t}",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.19607843137254902,
        "Content": "\tfunction doABunchOfAsyncWorkInSeries(arg, callbackToMainEventLoop) {\n\t\tvar sharedByAll = 'OUTPUT: '\n\t\tsetTimeout(function(){\n\t\t\tconsole.log(sharedByAll + arg);\n\t\t\tasyncFun2('a different string');\n\t\t}, 1000);\n\t\tfunction asyncFun2(arg2) {\n\t\t\tsetTimeout(function() {\n\t\t\t\tconsole.log(sharedByAll + arg2);\n\t\t\t\tasyncFun3('final string');\n\t\t\t}, 2000);\n\t\t}\n\t\tfunction asyncFun3(arg3) {\n\t\t\tsetTimeout(function(){\n\t\t\t\tconsole.log(sharedByAll +arg3);\n\t\t\t\tcallbackToMainEventLoop('FINISHED');\n\t\t\t}, 3000);\n\t\t}\n\t}\n\tdoABunchOfAsyncWorkInSeries('first string', function(arg) {\n\t\tconsole.log('The program is finished now. :' + arg);\n\t});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17938472",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237393251",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      res.cookie(\n        'testcookie',\n        JSON.stringify({\n          'logintoken': loginToken.cookieValue,\n          'user_id' : user.id,\n          'username' : user.name\n        }),\n        {\n          expires: new Date(Date.now() + 2 * 604800000),\n          path: '/'\n        }\n      );",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8444444444444444,
        "Content": "    function createCookie(res, loginToken, user) {\n      var jsonValue = JSON.stringify({\n        'logintoken': loginToken.cookieValue,\n        'user_id' : user.id,\n        'username' : user.name\n      });\n      res.cookie(\n        'testcookie',\n        jsonValue,\n        {\n          expires: new Date(Date.now() + 2 * 604800000),\n          path: '/'\n        }\n      );\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17952482",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237565233",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\t/* jshint node:true*/\n\tvar fs = require('fs');\n\tfunction readFilesSync(fileNames) {\n\t\t'use strict';\n\t\tvar results = '';\n\t\tfor (var i = 0; i < fileNames.length; i++) {\n\t\t\tresults = fs.readFileSync(fileNames[i]);\n\t\t}\n\t\treturn results;\n\t}\n\tfunction readFiles(fileNames, callback) {\n\t\t'use strict';\n\t\tvar results = '';\n\t\tfunction readFile(fileName) {\n\t\t\tif (fileName) {\n\t\t\t\tfs.readFile(fileName, function (err, data) {\n\t\t\t\t\tresults += data;\n\t\t\t\t\treadFile(fileNames.pop());\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback(results);\n\t\t\t}\n\t\t}\n\t\treadFile(fileNames.pop());\n\t}\n\tfunction doSomethingWithTheData(data) {\n\t\t'use strict';\n\t\tconsole.log('Results async: ' + data);\n\t}\n\tvar fileNamesArray = ['makeCircle.cpp', 'server.js', 'play.js'];\n\tconsole.log('The results sync: ' + readFilesSync(fileNamesArray));\n\treadFiles(fileNamesArray, doSomethingWithTheData);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "\t/* jshint node:true*/\n\tvar fs = require('fs');\n\tfunction readFilesSync(fileNames) {\n\t\t'use strict';\n\t\tvar results = '';\n\t\tfor (var i = 0; i < fileNames.length; i++) {\n\t\t\tresults += fs.readFileSync(fileNames[i]);\n\t\t}\n\t\treturn results;\n\t}\n\tfunction readFiles(fileNames, callback) {\n\t\t'use strict';\n\t\tvar results = '';\n\t\tfunction readFile(index) {\n\t\t\tif (index < fileNames.length) {\n\t\t\t\tfs.readFile(fileNames[index], function (err, data) {\n\t\t\t\t\tresults += data;\n\t\t\t\t\treadFile(index + 1);\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\tcallback(results);\n\t\t\t}\n\t\t}\n\t\treadFile(0);\n\t}\n\tfunction readAllFilesAtOnce(fileNames, callback) {\n\t\t'use strict';\n\t\tvar results = {};\n\t\tvar numFiles = fileNames.length;\n\t\tfunction callBackWrapper() {\n\t\t\tvar resultsOrdered = '';\n\t\t\tfor (var i = 0; i < fileNames.length; i++) {\n\t\t\t\tresultsOrdered += results[fileNames[i]];\n\t\t\t}\n\t\t\tcallback(resultsOrdered);\n\t\t}\n\t\tfunction readFileAsync(fileName) {\n\t\t\tfs.readFile(fileName, function (err, data) {\n\t\t\t\tresults[fileName] = data;\n\t\t\t\tnumFiles--;\n\t\t\t\tif (numFiles === 0) {\n\t\t\t\t\tcallBackWrapper();\n\t\t\t\t}\n\t\t\t});\n\t\t}\n\t\tfor (var i = 0; i < fileNames.length; i++) {\n\t\t\treadFileAsync(fileNames[i]);\n\t\t}\n\t}\n\tfunction doSomethingWithTheData(data) {\n\t\t'use strict';\n\t\tconsole.log('Results async: ' + data);\n\t}\n\tfunction doSomethingWithTheData2(data) {\n\t\t'use strict';\n\t\tconsole.log('Results async all at once: ' + data);\n\t}\n\tvar fileNamesArray = ['blah.js', 'file.js', 'hello.txt'];\n\tconsole.log('The results sync: ' + readFilesSync(fileNamesArray));\n\treadFiles(fileNamesArray, doSomethingWithTheData);\n\treadAllFilesAtOnce(fileNamesArray, doSomethingWithTheData2);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "17987229",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237994149",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var winston = require('winston');\n    winston = new (winston.Logger)({\n      levels: {\n        trace: 0,\n        input: 1,\n        verbose: 2,\n        prompt: 3,\n        debug: 4,\n        info: 5,\n        data: 6,\n        help: 7,\n        warn: 8,\n        error: 9\n      },\n      colors: {\n        trace: 'magenta',\n        input: 'grey',\n        verbose: 'cyan',\n        prompt: 'grey',\n        debug: 'blue',\n        info: 'green',\n        data: 'grey',\n        help: 'cyan',\n        warn: 'yellow',\n        error: 'red'\n      }\n    });\n    \n    winston.add(winston.transports.Console, {\n      level: 'trace',\n      prettyPrint: true,\n      colorize: true,\n      silent: false,\n      timestamp: false\n    });\n    \n    winston.add(winston.transports.File, {\n      prettyPrint: false,\n      level: 'info',\n      silent: false,\n      colorize: true,\n      timestamp: true,\n      filename: './nKindler.log',\n      maxsize: 40000,\n      maxFiles: 10,\n      json: false\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9541284403669725,
        "Content": "    var winston = require('winston');\n    var logger = new (winston.Logger)({\n      levels: {\n        trace: 0,\n        input: 1,\n        verbose: 2,\n        prompt: 3,\n        debug: 4,\n        info: 5,\n        data: 6,\n        help: 7,\n        warn: 8,\n        error: 9\n      },\n      colors: {\n        trace: 'magenta',\n        input: 'grey',\n        verbose: 'cyan',\n        prompt: 'grey',\n        debug: 'blue',\n        info: 'green',\n        data: 'grey',\n        help: 'cyan',\n        warn: 'yellow',\n        error: 'red'\n      }\n    });\n    \n    logger.add(winston.transports.Console, {\n      level: 'trace',\n      prettyPrint: true,\n      colorize: true,\n      silent: false,\n      timestamp: false\n    });\n    \n    logger.add(winston.transports.File, {\n      prettyPrint: false,\n      level: 'info',\n      silent: false,\n      colorize: true,\n      timestamp: true,\n      filename: './nKindler.log',\n      maxsize: 40000,\n      maxFiles: 10,\n      json: false\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18150809",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240050688",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function makeEnum(enum){\n       var all = [];\n       for(var key in enum){\n          all.push(key);\n       }\n       enum.all = all;\n    }",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    function makeEnum(enumObject){\n       var all = [];\n       for(var key in enumObject){\n          all.push(enumObject[key]);\n       }\n       enumObject.all = all;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18215479",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240845798",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function authenticator(req, callback) {\n        var mongoose = require('mongoose');\n        var db = mongoose.createConnection('localhost','users');\n        db.once('open', function callback () {\n            var personschema = mongoose.Schema({\n              username:String,\n              password:String\n            });\n    \n            var person1 = db.model('personcollection',personschema)\n            person1.find({ username:req.body.username, password:req.body.password }, function(err, obj) {\n                // in this callback you do what you want with this result!\n                callback(obj.length === 0);\n            });\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    function authenticator(req, callback) {\n        var mongoose = require('mongoose');\n        var db = mongoose.createConnection('localhost','users');\n        db.once('open', function() {\n            var personschema = mongoose.Schema({\n              username: String,\n              password: String\n            });\n    \n            var person1 = db.model('personcollection',personschema)\n            person1.find({ username: req.body.username, password: req.body.password }, function(err, obj) {\n                // in this callback you do what you want with this result!\n                callback(obj.length === 0);\n            });\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18370843",
    "RootLocalId": "5",
    "RootPostBlockVersionId": "242799314",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "<!-- -->\n    var buf = new Buffer(String.fromCharCode(0x0512), 'utf8');\n    console.log(buf); //     <Buffer d4 92>",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var buf = new Buffer(String.fromCharCode(0x0512), 'utf8');\n    console.log(buf); // <Buffer d4 92>",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18584217",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "245468854",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Service = require('node-windows').Service;\n    \n    // Create a new service object\n    var svc = new Service({\n      name:'Hello World',\n      description: 'The nodejs.org example web server.',\n      script: 'C:\\\\path\\\\to\\\\helloworld.js')\n    });\n    \n    // Listen for the \"install\" event, which indicates the\n    // process is available as a service.\n    svc.on('install',function(){\n      svc.start();\n    });\n    \n    svc.install();",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9722222222222222,
        "Content": "    var Service = require('node-windows').Service;\n    \n    // Create a new service object\n    var svc = new Service({\n      name:'Hello World',\n      description: 'The nodejs.org example web server.',\n      script: 'C:\\\\path\\\\to\\\\helloworld.js'\n    });\n    \n    // Listen for the \"install\" event, which indicates the\n    // process is available as a service.\n    svc.on('install',function(){\n      svc.start();\n    });\n    \n    svc.install();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18651713",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "246314978",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    Controller.prototype.setUp = function (express) {\n      var name = '/' + this._name;\n      express.post(name, this._create.bind(this));\n      express.get(name, this._read.bind(this));\n      express.put([name , ':id'].join('/'), this._update.bind(this));\n      express.delete([name, '/:id'].join('/'), this._delete.bind(this));\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function Controller(express) {\n      var name = '/' + this._name;\n      express.post(name, this._create.bind(this));\n      express.get(name, this._read.bind(this));\n      express.put([name , ':id'].join('/'), this._update.bind(this));\n      express.delete([name, ':id'].join('/'), this._delete.bind(this));\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18658613",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "246399364",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var crypto = require('crypto');\n    // the file you want to get the hash    \n    var fd = fs.createReadStream('/some/file/name.txt');\n    var hash = crypto.createHash('sha1');\n    hash.setEncoding('hex');\n    // read all file and pipe it (write it) to the hash object\n    fd.pipe(hash);\n    // as before, call end() to be able to call read and obtain the value\n    hash.end();\n    // get the value\n    var sha1sum = hash.read();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs');\n    var crypto = require('crypto');\n    // the file you want to get the hash    \n    var fd = fs.createReadStream('/some/file/name.txt');\n    var hash = crypto.createHash('sha1');\n    hash.setEncoding('hex');\n    fd.on('end', function() {\n        hash.end();\n        console.log(hash.read()); // the desired sha1sum\n    });\n    // read all file and pipe it (write it) to the hash object\n    fd.pipe(hash);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18739922",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "247405193",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function loggedIn(req, res, next) {\n      if (req.user) {\n        next();\n      } else {\n        res.redirect('/login');\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    function loggedIn(req, res, next) {\n        if (req.user) {\n            next();\n        } else {\n            res.redirect('/login');\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18806447",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "248235917",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var p = new Problem();\n    sinon.stub(p, 'get').withArgs('difficulty').returns(Problem.INT_EASY);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4375,
        "Content": "    var mongoose = require('mongoose');\n    var sinon = require('sinon');\n    var problemSchema = new mongoose.Schema({});\n    problemSchema.virtual('difficulty').get(function () {\n      return Problem.INT_HARD;\n    });\n    var Problem = mongoose.model('Problem', problemSchema);\n    Problem.INT_EASY = 1;\n    Problem.INT_HARD = 2;\n    var p = new Problem();\n    console.log(p.difficulty);\n    sinon.stub(p, 'get').withArgs('difficulty').returns(Problem.INT_EASY);\n    console.log(p.difficulty);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18820120",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "248405995",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http');\n    http.createServer(function(request, response) {\n      if (request.method === 'POST') {\n      var data = '';\n      request.on('data', function(chunk) {\n        data += chunk;\n      });\n      request.on('end', function() {\n        // parse the data\n      });\n    }).listen(80);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var http = require('http');\n    http.createServer(function(request, response) {\n      if (request.method === 'POST') {\n        var data = '';\n        request.on('data', function(chunk) {\n          data += chunk;\n        });\n        request.on('end', function() {\n          // parse the data\n        });\n      }\n    }).listen(80);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18843991",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "248685003",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var edge = require('edge');\n    \n    var params = {\n    \tconnectionString: \"Data Source=localhost;Initial Catalog=ITSM_604;Integrated Security=True\",\n    \tsource: \"select top 1 last_name from account_contact\"\n    };\n    \n    var getContacts = edge.func('sql', params);\n    \n    getContacts(parameter, function(error, result){\n    \tif (error) throw error;\n    \tconsole.log(result);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var edge = require('edge');\n    \n    var params = {\n    \tconnectionString: \"Data Source=localhost;Initial Catalog=ITSM_604;Integrated Security=True\",\n    \tsource: \"select top 1 last_name from account_contact\"\n    };\n    \n    var getContacts = edge.func('sql', params);\n    \n    getContacts(null, function(error, result){\n    \tif (error) throw error;\n    \tconsole.log(result);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18899371",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "249262545",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var util = require( '../../helpers/util' ),\n        Base_view = require( './view' );\n    \n    function Html_view( ) { };\n    util.inherits( Html_view, Base_view );\n    \n    Html_view.prototype.construct = function( res, name ) {\n        this.constructor._superProto.construct.apply( this, arguments );\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var util = require( '../../helpers/util' ),\n        Base_view = require( './view' );\n    \n    function Html_view( res, name ) {\n        Base_view.apply( this, arguments );\n        this._name = name;\n    };\n    util.inherits( Html_view, Base_view );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18899371",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "249262549",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var util = require( '../../helpers/util' ),\n    \tHtml_view = require( './../base/html' );\n    \n    function Main_view( ) { };\n    util.inherits( Main_view, Html_view );\n    \n    Main_view.prototype.construct = function( res, name ) {\n    \tthis.constructor._superProto.construct.apply( this, arguments );\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var util = require( '../../helpers/util' ),\n    \tHtml_view = require( './../base/html' );\n    \n    function Main_view( res, name ) {\n        Html_view.apply( this, arguments );\n    };\n    util.inherits( Main_view, Html_view );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18938795",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "249689434",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var eco = require('eco');\n    app.register('eco', eco);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.24,
        "Content": "    var express = require('express');\n    var app = express();\n    var cons = require('consolidate');\n    \n    app.engine('eco', cons.eco);\n    app.get('/', function(req, res) {\n      res.render(__dirname + '/template.eco', {\n        layout: false\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "18983245",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "250147502",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        function asyncFunction (item, cb) {\n          setTimeout(() => {\n            console.log('done with', item);\n            cb();\n          }, 100);\n        }\n        let requests = [1, 2, 3].reduce((promiseChain, item) => {\n            return promiseChain.then(new Promise((resolve) => {\n              asyncFunction(item, resolve);\n            }));\n        }, Promise.resolve());\n        requests.then(() => console.log('done'))",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "        function asyncFunction (item, cb) {\n          setTimeout(() => {\n            console.log('done with', item);\n            cb();\n          }, 100);\n        }\n        let requests = [1, 2, 3].reduce((promiseChain, item) => {\n            return promiseChain.then(() => new Promise((resolve) => {\n              asyncFunction(item, resolve);\n            }));\n        }, Promise.resolve());\n        requests.then(() => console.log('done'))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19061021",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "250974193",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var template = \"{{#each this}}<p>Hello, {{name}}</p>{{/each}}\";\n    var templateCompiled = handlebars.compile(template);\n    \n    var result = templateCompiled(data);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.625,
        "Content": "    var handlebars = require('handlebars');\n    var template = \"{{#each this}}<p>Hello, {{name}}</p>{{/each}}\";\n    var compiledTemplate = handlebars.compile(template);\n    var data = [\n        {id:\"1\", name: \"bob\"},\n        {id:\"2\", name: \"pete\"},\n        {id:\"3\", name: \"jake\"}\n        ];\n    var result = compiledTemplate(data);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19095745",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "251343538",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //************** end of part to be moved\n    \n    // more stuff which remains in server.js\n    \n    // http://localhost:8888/foo/ajax\n    app.listen(8888);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    var express = require('express');\n    var app = express();\n    require('./foo.js').setApp(app);\n    // other initialization code etc\n    \n    \n    // more stuff which remains in server.js\n    \n    // http://localhost:8888/foo/ajax\n    app.listen(8888);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19337607",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "128979973",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function maybe(fn) {\n      return function(req, res, next) {\n        if (someConditionApplies) {\n          fn(req, res, next);\n        } else {\n          next();\n        }\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7407407407407407,
        "Content": "    function maybe(fn) {\n        return function(req, res, next) {\n            if (req.path === '/posts/add' && req.method === 'POST') {\n                next();\n            } else {\n                fn(req, res, next);\n            }\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19393002",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "129638669",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var data = JSON.stringify({\n      'id': '2'\n    });\n    var options = {\n      host: 'host.com',\n      port: '80',\n      path: '/WebServiceUtility.aspx/CustomOrderService',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n        'Content-Length': data.length\n      }\n    };\n    var req = http.request(options, function(res) {\n      var msg = '';\n      res.setEncoding('utf8');\n      res.on('data', function(chunk) {\n        msg += chunk;\n      });\n      res.on('end', function() {\n        console.log(JSON.parse(msg));\n      });\n    });\n    req.write(data);\n    req.end();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9736842105263158,
        "Content": "    var http = require('http');\n    var data = JSON.stringify({\n      'id': '2'\n    });\n    var options = {\n      host: 'host.com',\n      port: '80',\n      path: '/WebServiceUtility.aspx/CustomOrderService',\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json; charset=utf-8',\n        'Content-Length': data.length\n      }\n    };\n    var req = http.request(options, function(res) {\n      var msg = '';\n      res.setEncoding('utf8');\n      res.on('data', function(chunk) {\n        msg += chunk;\n      });\n      res.on('end', function() {\n        console.log(JSON.parse(msg));\n      });\n    });\n    req.write(data);\n    req.end();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19434015",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "130121252",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    global.foo = function foo () {\n      console.log(\"foo was called\");\n    }\n    \n    process.stdin.on(\"data\", function(input) {\n      // don't forget to call .trim() to remove the \\n\n      var fn = input.toString().trim();\n      // function exists\n      if (fn in global && typeof fn === \"function\") {\n        global[fn]();\n      }\n      // function does not exist\n      else {\n        console.log(\"could not find \" + fn + \" function\");\n      }\n    });\n    \n    process.stdin.resume();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    global.foo = function foo () {\n      console.log(\"foo was called\");\n    }\n    \n    process.stdin.on(\"data\", function(input) {\n      // don't forget to call .trim() to remove the \\n\n      var fn = input.toString().trim();\n      // function exists\n      if (fn in global && typeof global[fn] === \"function\") {\n        global[fn]();\n      }\n      // function does not exist\n      else {\n        console.log(\"could not find \" + fn + \" function\");\n      }\n    });\n    \n    process.stdin.resume();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19561718",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131652581",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    spawn=require('child_process').spawn;\n    pass=require('stream').PassThrough;\n    \n    a= spawn('echo',['hi user']);\n    b= new pass;\n    c= new pass;\n    \n    a.stdout.pipe(b);\n    a.stdout.pipe(c);\n    count=0;\n    b.on('data',function(chunk){count+=chunk.length;});\n    b.on('end',function(){console.log(count);c.pipe(process.stdout);});",
        "MostRecentVersion": "0",
        "Errors": 18,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9830508474576272,
        "Content": "    const spawn = require('child_process').spawn;\n    const PassThrough = require('stream').PassThrough;\n    \n    const a = spawn('echo', ['hi user']);\n    const b = new PassThrough();\n    const c = new PassThrough();\n    \n    a.stdout.pipe(b);\n    a.stdout.pipe(c);\n    let count = 0;\n    b.on('data', function (chunk) {\n      count += chunk.length;\n    });\n    b.on('end', function () {\n      console.log(count);\n      c.pipe(process.stdout);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19684877",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "133132082",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var util = require('util');\n    var event = require('events');\n    var nodemailer = require(\"nodemailer\");\n    var smtpTransport = nodemailer.createTansport(\"SMTP\", {\n         service: \"GMAIL\",\n         auth: {\n            user : \"mail@mail.com\",\n            pass : \"pass\"\n               }\n         });\n    exports.mail = function(from, to, subject ...){\n        this.from = from;\n        this.to = to;\n        this.subject = subject;\n        this.events = new events.EventEmitter();\n        //....\n        this.send = function(){\n            var options = {\n                from = this.from;\n                to = this.to;\n    \n            };\n    \n            smtpTransport.sendMail(options, function(err, success) {\n                if(err){\n                    this.events.emit('error', err);\n                }\n                if(success){\n                    this.events.emit('success', success);\n                }\n            });\n        }\n    };",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var util = require('util');\n    var events = require('events');\n    var nodemailer = require(\"nodemailer\");\n    var smtpTransport = nodemailer.createTansport(\"SMTP\", {\n         service: \"GMAIL\",\n         auth: {\n            user : \"mail@mail.com\",\n            pass : \"pass\"\n               }\n         });\n    module.exports = function(from, to, subject){\n        this.from = from;\n        this.to = to;\n        this.subject = subject;\n        this.events = new events.EventEmitter();\n        //....\n        this.send = function(){\n            var options = {\n                from : this.from,\n                to : this.to\n    \n            };\n    \n            smtpTransport.sendMail(options, function(err, success) {\n                if(err){\n                    this.events.emit('error', err);\n                }\n                if(success){\n                    this.events.emit('success', success);\n                }\n            });\n        }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19705337",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "133364137",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var allowCrossDomain = function (req, res, next) {\n    res.header('Access-Control-Allow-Origin', '*');\n    res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS');\n    res.header('Access-Control-Allow-Headers', 'content-type, Authorization, Content-Length, X-Requested-With, Origin, Accept');\n    if ('OPTIONS' === req.method) {\n        res.send(200);\n    } else {\n        next();\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var allowCrossDomain = function (req, res, next) {\n        res.header('Access-Control-Allow-Origin', '*');\n        res.header('Access-Control-Allow-Methods', 'GET,PUT,POST,DELETE,OPTIONS');\n        res.header('Access-Control-Allow-Headers', 'content-type, Authorization, Content-Length, X-Requested-With, Origin, Accept');\n        if ('OPTIONS' === req.method) {\n            res.send(200);\n        } else {\n            next();\n        }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19706673",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "133380012",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    fs.readFile('/etc/passwd', { encoding: 'utf8' } function (err, data ) {\n      // ...\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs');\n    fs.readFile('/etc/passwd', { encoding: 'utf8' }, function (err, data ) {\n      // ...\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19756665",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "133995589",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var request = require('request');\n    request({\n        uri: 'http://127.0.0.1:8080/api/v1/datapoints/query',\n        method: 'POST',\n        json: {some: \"jsonfile\"},\n        timeout: 10000\n    }, function (err, response, body) {\n        // error handling\n        // take some values from body and send it to client\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9836065573770492,
        "Content": "    var request = require('request');\n    request({\n        uri: 'http://127.0.0.1:8080/api/v1/datapoints/query',\n        method: 'POST',\n        json: {some: \"jsonfile\"},\n        timeout: 10000\n    }, function (err, response, body) {\n        // error handling\n        // take some values from body and send it to client\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19762411",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "134062368",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var exec = require('child_process).execFile;\n    var fun =function(){\n       console.log(\"rrrr\");\n       exec('HelloJithin.exe', function(err, data) {  \n            console.log(err)\n            console.log(data.toString());                       \n        });  \n    }\n    fun();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8275862068965517,
        "Content": "    var exec = require('child_process').execFile;\n    var fun =function(){\n       console.log(\"fun() start\");\n       exec('HelloJithin.exe', function(err, data) {  \n            console.log(err)\n            console.log(data.toString());                       \n        });  \n    }\n    fun();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19871426",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "135374549",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fnStr = func.toString();\n    console.log(fnStr);\n    console.log(fnStr.replace(new RegExp(\"(\" + paramName + \"\\s*\\([A-Za-z0-9,\\.]*\\)?!{|\" + paramName + \".apply\\([A-Za-z0-9,\\.]*\\)|\" + paramName + \".call\\([A-Za-z0-9,\\.]*\\))\", \"\"), \"{<._|/}\"));\n    if (fnStr.replace(new RegExp(\"(\" + paramName + \"\\s*\\([A-Za-z0-9,\\.]*\\)?!{|\" + paramName + \".apply\\([A-Za-z0-9,\\.]*\\)|\" + paramName + \".call\\([A-Za-z0-9,\\.]*\\))\", \"\"), \"{<._|/}\") != fnStr) { // Remove All Calls to the arg as a function, then check to see if anything was changed.\n        return true;\n    } else {\n        return false;\n    }\n    }\n    function makeAsync(func) {\n        var paramNames = getParamNames(func);\n        if (checkIfParamIsFunction(func, paramNames[paramNames.length - 1])) || CALLBACK_NAMES.indexOf(paramNames[paramNames.length - 1]) != -1) {\n        // Function Is Alredy async\n        return func;\n    } else {\n        return function () {\n            var args = Array.prototype.slice.call(arguments);\n            var cb = args.pop();\n            cb(func.apply(this, args));\n        }\n    }\n    }",
        "MostRecentVersion": "0",
        "Errors": 14,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8295454545454546,
        "Content": "    var STRIP_COMMENTS = /((\\/\\/.*$)|(\\/\\*[\\s\\S]*?\\*\\/))/mg;\n    var CALLBACK_NAMES = [ \"next\", \"done\", \"callback\", \"cb\"];\n    function getParamNames(func) {\n      var fnStr = func.toString().replace(STRIP_COMMENTS, '')\n      var result = fnStr.slice(fnStr.indexOf('(')+1, fnStr.indexOf(')')).match(/([^\\s,]+)/g)\n      if(result === null)\n        result = []\n      return result\n    }\n    function checkIfParamIsFunction(func, paramName){\n      var fnStr = func.toString();\n      if (fnStr.replace(new RegExp(\"(\" + paramName + \"\\s*\\([A-Za-z0-9,\\.]*\\)?!{|\" + paramName + \".apply\\([A-Za-z0-9,\\.]*\\)|\" + paramName + \".call\\([A-Za-z0-9,\\.]*\\))\", \"\"), \"{<._|/}\") != fnStr) { // Remove All Calls to the arg as a function, then check to see if anything was changed.\n        return true;\n      } else {\n        return false;\n      }\n    }\n    function makeAsync(func) {\n      var paramNames = getParamNames(func);\n      if (checkIfParamIsFunction(func, paramNames[paramNames.length - 1]) \n      || CALLBACK_NAMES.indexOf(paramNames[paramNames.length - 1]) != -1) {\n        // Function Is Already async\n        return func;\n      } else {\n        return function () {\n          var args = Array.prototype.slice.call(arguments);\n          var cb = args.pop();\n          cb(func.apply(this, args));\n        }\n      }\n    }\n    function test1(a){\n      return (a+' test1');\n    };\n    function test2(a, callback){\n      return callback(a+' test2')\n    };\n    function main(){\n      var tested1 = makeAsync(test1);\n      var tested2 = makeAsync(test2);\n      tested1('hello', function(output){\n        console.log('holy shit it\\'s now async!!');\n        console.log(output);\n      });\n      tested2('world', function(output){\n        console.log('this one was already async tho');\n        console.log(output);\n      });\n    }\n    main();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19934861",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136102858",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var stream = require('stream');\n    var Magic = require('mmmagic').Magic;\n    var mimeChecker = new stream.Transform();\n    mimeChecker.data = [];\n    mimeChecker._transform = function (chunk, encoding, done) {\n      if (this.data.length < 10) {\n        this.data.push(chunk);\n        done();\n      }\n      else if (this.data.length === 10) {\n        var buffered = Buffer.concat(this.data);\n        new Magic().detect(buf, function(err, result) {\n          if (err) return this.emit('error', err);\n          else if (result != 'text/plain') return this.emit('error', new Error('Wrong MIME type'));\n          else this.data.map(this.push.bind(this)); // re-emit all buffered data!\n          done();\n      }\n      else {\n        this.push(chunk);\n        done();\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 11,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6236559139784946,
        "Content": "    var stream = require('readable-stream');\n    var mmm = require('mmmagic');\n    var mimeChecker = new stream.Transform();\n    mimeChecker.data = [];\n    mimeChecker.mimeFound = false;\n    mimeChecker._transform = function (chunk, encoding, done) {\n      var self = this;\n    \n      if (self.mimeFound) {\n        self.push(chunk);\n        return done();\n      }\n    \n      self.data.push(chunk);\n      if (self.data.length < 10) {\n        return done();\n      }\n      else if (self.data.length === 10) {\n        var buffered = Buffer.concat(this.data);\n        new mmm.Magic(mmm.MAGIC_MIME_TYPE).detect(buffered, function(err, result) {\n          if (err) return self.emit('error', err);\n          if (result !== 'text/plain') return self.emit('error', new Error('Wrong MIME'));\n          self.data.map(self.push.bind(self));\n          self.mimeFound = true;\n          return done();\n        });\n      }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "19937726",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136137362",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function isEmpty( object ) {\n        for( var name in object ) {\n            return false;\n        }\n        return true;\n    }\n    \n    function Clients() {\n        var clients = {};\n        var criteria = {};\n        \n        function eachCriterion( client, callback ) {\n            var ids = client.id_list.split(';');\n            for( var i = 0, n = ids.length;  i < n;  ++i ) {\n                callback( ids[i] );\n            }\n        }\n        \n        this.add = function( client ) {\n            if( clients[client.id] ) {\n                // already exists, return or error?\n            }\n            clients[client.id] = client;\n            eachCriterion( client, function( id ) {\n                if( ! criteria[id] ) {\n                    criteria[id] = {}\n                }\n                critera[id][client.id] = client;\n            });\n        };\n        \n        this.remove = function( client ) {\n            delete clients[client.id];\n            eachCriterion( client, function( id ) {\n                delete criteria[id][client.id];\n                if( isEmpty(criteria[id]) ) {\n                    delete criteria[id];\n                }\n            });\n        };\n        \n        this.find = function( criterion ) {\n            var result = [];\n            for( var id in criteria[criterion] ) {\n                result.push( clients[id] );\n            }\n            return result;\n        };\n    }\n    var allClients = new Clients;\n    \n    allClients.add({ id:1, id_list:'10;20' });\n    var someClients = allClients.find( '10' );\n    allClients.remove( client );",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // Return a boolean telling if an object is empty (has no properties)\n    function isEmpty( object ) {\n        for( var name in object ) {\n            return false;\n        }\n        return true;\n    }\n    \n    // An object that keeps track of clients and criteria (id_list)\n    function Clients() {\n        \n        // An object containing all of the clients that have been added\n        // using clients.add(client). The client.id is the property name,\n        // and the client object is the property value. So:\n        // clients[clientID] is a client object with the given client.id\n        var clients = {};\n        \n        // An object containing every unique criterion ID. The criterion ID\n        // is the property name, and the property value is an object\n        // containing every client that has this criterion ID in its id_list\n        // property. So:\n        // criteria[criterionID] is an object containing clients\n        // criteria[criterionID][clientID] is a client with that criterion\n        var criteria = {};\n        \n        // Internal function to split an id_list and iterate over it\n        function eachCriterion( client, callback ) {\n            var ids = client.id_list.split(';');\n            for( var i = 0, n = ids.length;  i < n;  ++i ) {\n                callback( ids[i] );\n            }\n        }\n        \n        // Add a client\n        this.add = function( client ) {\n            if( clients[client.id] ) {\n                // already exists, return or error?\n            }\n            clients[client.id] = client;\n            eachCriterion( client, function( id ) {\n                if( ! criteria[id] ) {\n                    criteria[id] = {}\n                }\n                criteria[id][client.id] = client;\n            });\n        };\n        \n        // Remove a client\n        this.remove = function( client ) {\n            delete clients[client.id];\n            eachCriterion( client, function( id ) {\n                delete criteria[id][client.id];\n                if( isEmpty(criteria[id]) ) {\n                    delete criteria[id];\n                }\n            });\n        };\n        \n        // Return an object containing all the clients that have the given\n        // criterion in their id_list property\n        this.find = function( criterion ) {\n            return criteria[criterion] || {};\n        };\n    }\n    var clients = new Clients;\n    \n    var client3 = { id:3, id_list:'10;20' };\n    var client1 = { id:1, id_list:'30;40;10' };\n    var client4 = { id:4, id_list:'40;20' };\n    var client5 = { id:5, id_list:'50;70' };\n    var client9 = { id:9, id_list:'10;70' };\n    var client2 = { id:2, id_list:'50;' };\n    var client7 = { id:7, id_list:'40;70;90' };\n    \n    clients.add( client3 );\n    clients.add( client1 );\n    clients.add( client4 );\n    clients.add( client5 );\n    clients.add( client9 );\n    clients.add( client2 );\n    clients.add( client7 );\n    \n    function find( id ) {\n        console.log( 'Finding', id );\n        console.log( JSON.stringify( clients.find(id), null, 4 ) );\n    }\n    \n    find( '10' );\n    clients.remove( client3 );\n    find( '10' );\n    clients.remove( client1 );\n    find( '10' );\n    clients.remove( client9 );\n    find( '10' );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20033632",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "137293847",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('route', function (req, res, next) {\n        next(new Error());\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7142857142857143,
        "Content": "    function foo(req, res, next) {\n        next(new Error());\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20033632",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "137293849",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('route', function (req, res, next) {\n        return next(new Error());\n        console.log(\"This is unreachable code and won't be logged.\");\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.875,
        "Content": "    function foo(req, res, next) {\n        return next(new Error());\n        console.log(\"This is unreachable code and won't be logged.\");\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20066813",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "137681002",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.on('message', function(m) {\n      if (m.exit === 'true') {\n        // Save application state\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5555555555555556,
        "Content": "    process.on('exit', function() {\n      // Save application state\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20087094",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "137919824",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var readline = require('readline');\n    var rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout\n    });\n    \n    rl.on('line', function(line){\n        processLine(line);\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8666666666666667,
        "Content": "    var readline = require('readline');\n    var rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout,\n      terminal: false\n    });\n    \n    rl.on('line', function(line){\n        console.log(line);\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20123716",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "138349020",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n        Page = {}, // or whatever you want to assign it to\n        Serialize = {} // again, set it to what you like\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    module.exports = {\n        Page: {}, // or whatever you want to assign it to\n        Serialize: {} // again, set it to what you like\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20438975",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "142045066",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var request = require('request');\n    function getGoogleCerts(kid, callback) {\n        request({uri: 'https://www.googleapis.com/oauth2/v1/certs'}, function(err, response, body){\n            if(err && response.statusCode !== 200) {\n                err = err || \"error while retrieving the google certs\";\n                console.log(err);\n                callback(err, {})\n            } else {\n                var keys = JSON.parse(body);\n                callback(null, keys[kid]);\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var request = require('request');\n    function getGoogleCerts(kid, callback) {\n        request({uri: 'https://www.googleapis.com/oauth2/v1/certs'}, function(err, response, body){\n            if(err && response.statusCode !== 200) {\n                err = err || \"error while retrieving the google certs\";\n                console.log(err);\n                callback(err, {})\n            } else {\n                var keys = JSON.parse(body);\n                callback(null, keys[kid]);\n            }\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20444809",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142114049",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var httpsOptions = {\n                            key: fs.readFileSync('ssl/mycertificate.key', 'utf8'), \n                            cert: fs.readFileSync('ssl/mycertificate.crt', 'utf8'),\n                            ca: [fs.readFileSync('ssl/rapidssl_1.pem', 'utf8'),\n                                 fs.readFileSync('ssl/rapidssl_2.pem', 'utf8')],\n                        };\n    var httpsServer = https.createServer(httpsOptions, app);",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.42105263157894735,
        "Content": "    var https = require('https'),\n        read = require('fs').readFileSync,\n        httpsOptions = {\n            key: read('ssl/mycertificate.key', 'utf8'),\n            cert: read('ssl/mycertificate.crt', 'utf8'),\n            ca: [\n                read('ssl/rapidssl_1.pem', 'utf8'),\n                read('ssl/rapidssl_2.pem', 'utf8')\n            ]\n        };\n    https.createServer(httpsOptions, function (req, res) {\n        // ...\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20466289",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142365279",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var chat = {\n      foo: function() { ... },\n      bar: function() { ... }\n    };\n    module.exports = chat;",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var io = require('socket.io');\n    var Chat = require('./EventHandlers/Chat');\n    var User = require('./EventHandlers/User');\n    var app = {\n        allSockets: []\n    };\n    \n    io.sockets.on('connection', function (socket) {\n        // Create event handlers for this socket\n        var eventHandlers = {\n            chat: new Chat(app, socket),\n            user: new User(app, socket)\n        };\n        // Bind events to handlers\n        for (var category in eventHandlers) {\n            var handler = eventHandlers[category].handler;\n            for (var event in handler) {\n                socket.on(event, handler[event]);\n            }\n        }\n        // Keep track of the socket\n        app.allSockets.push(socket);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20490606",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "142661199",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var $ = require('jquery');\n    var inputHtml = fs.readFileSync('input.html', 'utf8');\n    var $html = $(inputHtml);\n    \n    /* change background to red */\n    $html.find('body').css('background-color', 'red');\n    /* get back html string*/\n    var outputHtml = $html.find('body).parent().html();\n    fs.writeFileSync('output.html', outputHtml);",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var $ = require('jquery');\n    var inputHtml = '<html><body></body></html>';\n    \n    var $html = $(inputHtml);\n    \n    /* change background to red */\n    $html.find('body').css('background-color', 'red');\n    \n    /* get back html string*/\n    var outputHtml = $html.find('body').parent()[0].outerHTML;\n    \n    console.log(outputHtml);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20647446",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "144555649",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function counter(callback) {\n      // fs.readFile doesn't return anything, so buffer is null here\n      var buffer = fs.readFile(pathToFile, function (err, data) {\n \n        // Change buffer to the data argument of fs.readFile to get the data buffer\n        var bufferString = data.toString(); \n        var bufferStringSplit = bufferString.split('\\n'); \n      });\n      callback();\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6785714285714286,
        "Content": "    var fs = require('fs');\n    var pathToFile = process.argv[2];\n    // These can now be accessed from anywhere within the module\n    var bufferString, bufferStringSplit;\n    function counter(callback) {\n      fs.readFile(pathToFile, function (err, data) {\n        bufferString = data.toString(); \n        bufferStringSplit = bufferString.split('\\n'); \n        callback();\n      });\n    }\n    // bufferStringSplit should no longer return null here\n    function logMyNumber() {\n      console.log(bufferStringSplit.length-1);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20764137",
    "RootLocalId": "18",
    "RootPostBlockVersionId": "145965674",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function visitor(tree,visit){\n    \tfor(i in tree){\n    \t\tvisit(tree[i]);\n    \t\tif(typeof tree[i] === \"object\" && tree[i] !== null){\n    \t\t\tvisitor(tree[i],visit);\n    \t\t}\n    \t}\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function visitor(tree,visit){\n    \tfor(var i in tree){\n    \t\tvisit(tree[i]);\n    \t\tif(typeof tree[i] === \"object\" && tree[i] !== null){\n    \t\t\tvisitor(tree[i],visit);\n    \t\t}\n    \t}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20817078",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "146599750",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var crypto = require(\"crypto\");\n    var fs = require(\"fs\");\n    \n    var expiry = new Date().getTime() + 3600;\n    var key = 'the_target_file';\n    var bucketName = 'bucket_name';\n    var accessId = 'my_access_id';\n    var stringPolicy = \"GET\\n\" + \"\\n\" + \"\\n\" + expiry + \"\\n\" + '/' + bucketName + '/' + key;\n    var base64Policy = Buffer(stringPolicy, \"utf-8\").toString(\"base64\");   \n    var privateKey = fs.readFileSync(\"gcs.pem\",\"utf8\");\n    var signature = encodeURIComponent(crypto.createSign('sha256').update(stringPolicy).sign(privateKey,\"base64\"));   \n    var signedUrl = \"https://\" + bucketName + \".commondatastorage.googleapis.com/\" + key +\"?GoogleAccessId=\" + accessId + \"&Expires=\" + expiry + \"&Signature=\" + signature;\n    \n    console.log(signedUrl);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9552238805970149,
        "Content": "    var crypto = require(\"crypto\");\n    var fs = require(\"fs\");\n    \n    var expiry = new Date().getTime() + 3600;\n    var key = 'the_target_file';\n    var bucketName = 'bucket_name';\n    var accessId = 'my_access_id';\n    var stringPolicy = \"GET\\n\" + \"\\n\" + \"\\n\" + expiry + \"\\n\" + '/' + bucketName + '/' + key; \n    var privateKey = fs.readFileSync(\"gcs.pem\",\"utf8\");\n    var signature = encodeURIComponent(crypto.createSign('sha256').update(stringPolicy).sign(privateKey,\"base64\"));   \n    var signedUrl = \"https://\" + bucketName + \".commondatastorage.googleapis.com/\" + key +\"?GoogleAccessId=\" + accessId + \"&Expires=\" + expiry + \"&Signature=\" + signature;\n    \n    console.log(signedUrl);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20876179",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "147321224",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    for(var i = 0; i < 10; i++) { i == 9 ? f(first) : f() }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.27450980392156865,
        "Content": "    function f(cb) {\n    \tconsole.log(\"f's activity starts.\");\n    \tvar t = Math.random() * 500; //gives a num between 0 and 1000\n    \n    \tfunction onActivityDone() {\n    \t\tconsole.log(\"f's activity ends.\");\n    \t\tif (cb) cb();\n    \t}\n    \tsetTimeout(onActivityDone, t);\n    }\n    \n    function final() {\n    \tconsole.log('Done');\n    }\n    \n    var iterations = 1000,\n    \tended = 0,\n    \ti;\n    \n    function first() {\n    \tended++;\n    \tif(ended == iterations) {\n    \t\tfinal();\n    \t}\n    }\n    \n    for(i = 0; i < iterations; i++) { f(first) }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20901196",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "147628276",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n    \n      schema:'true',\n      attributes: {\n      \tpropertyName:{\n      \t\ttype:\"string\",\n      \t\trequired:true,\n      \t\tunique: true\n      \t},",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9473684210526315,
        "Content": "    module.exports = {\n    \n      schema:'true',\n      attributes: {\n      \tpropertyName: { type:\"string\", required:true, unique: true }\n      },\n      autoPK:false\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20911988",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "147760882",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // npm install resolve\n    var resolve = require('resolve').sync;\n    // Lookup for local module at current working dir\n    function require_cwd(name) {\n        var absolute_path = resolve(name, { basedir: process.cwd() });\n        return require(absolute_path);\n    }\n    // Load local express\n    // this will throw an error when express is not found as local module\n    var express require_cwd('express');",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    // npm install resolve\n    var resolve = require('resolve').sync;\n    // Lookup for local module at current working dir\n    function require_cwd(name) {\n        var absolute_path = resolve(name, { basedir: process.cwd() });\n        return require(absolute_path);\n    }\n    // Load local express\n    // this will throw an error when express is not found as local module\n    var express = require_cwd('express');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "20973067",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "148510022",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // with express 3.x\n    app.use(express.logger('dev'));\n    app.use(express.bodyParser());\n    app.use(app.router);\n    app.post('/upload', function(req, res){\n       if(req.files.myUpload){\n         var python = require('child_process').spawn(\n         'python',\n         // second argument is array of parameters, e.g.:\n         [\"/home/me/pythonScript\", req.files.myUpload.path, req.files.myUpload.type]\n         );\n         var output = \"\";\n         python.stdout.on('data', function(){ output += data };\n         python.on('close', function(code){ \n           if (code !== 0) {  return res.send(500, code); }\n           return res.send(200, output)\n         });\n       } else { res.send(500, 'No file found') }\n    });\n    \n    require('http').createServer(app).listen(3000, function(){\n      console.log('Listening on 3000');\n    });",
        "MostRecentVersion": "0",
        "Errors": 10,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.990990990990991,
        "Content": "    // with express 3.x\n    var express = require('express'); \n    var app = express();\n    app.use(express.logger('dev'));\n    app.use(express.bodyParser());\n    app.use(app.router);\n    app.post('/upload', function(req, res){\n       if(req.files.myUpload){\n         var python = require('child_process').spawn(\n         'python',\n         // second argument is array of parameters, e.g.:\n         [\"/home/me/pythonScript.py\"\n         , req.files.myUpload.path\n         , req.files.myUpload.type]\n         );\n         var output = \"\";\n         python.stdout.on('data', function(data){ output += data });\n         python.on('close', function(code){ \n           if (code !== 0) {  \n               return res.send(500, code); \n           }\n           return res.send(200, output);\n         });\n       } else { res.send(500, 'No file found') }\n    });\n    \n    require('http').createServer(app).listen(3000, function(){\n      console.log('Listening on 3000');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21148883",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "150648135",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (<img(?:(?!/>)[^>])+)>",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    /(<img(?:(?!\\/>)[^>])+)>/",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21148883",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150648131",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (<img[^>]*[^/>])>",
        "MostRecentVersion": "0",
        "Errors": 11,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    /(<img[^>]*[^\\/>])>/",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21223146",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "151546903",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    dbConnection = {users: null};\n    exports.dbConnection = dbConnection;",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9090909090909091,
        "Content": "    var dbConnection = {users: null};\n    exports.dbConnection = dbConnection;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21406512",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "153744980",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     var app = http.createServer(function(req,res)\n     {\n          res.writeHead(200, {'Content-Type': 'text/plain'});\n          res.end('Hello');\n     });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3888888888888889,
        "Content": "     var http = require('http'),\n         fs = require('fs'), //<--- File Module\n         index = fs.readFileSync(__dirname + '/index.html');\n     var app = http.createServer(function(req,res)\n     {\n          res.writeHead(200, {'Content-Type': 'text/html'}); //<-Updated to text/html\n          res.end(index); //<---I am sending page\n     });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21514692",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "155064366",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     var foo = require 'coffee-script/register';\n     foo.register();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     var foo = require('coffee-script/register');\n     foo.register();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21570503",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "155715892",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     exports.config=[\n        {\n             \"foo::12,\n             \"bar\":10,\n             \"baz\":function(a){\n                 console.dir(a);\n         },\n     ]",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.23529411764705882,
        "Content": "    exports.config = [\n        {\n            \"foo\": 12,\n            \"bar\": 10,\n            \"baz\": function(a){\n                console.dir(a);\n            }\n        }\n    ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21629528",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "156416967",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.list_top_rates = function(req, callback) {\n        var limit  = req.limit || 20;\n        var final_result = {\"1\": {}};\n        //Z means descending\n        req.models.question.find({}, limit, [\"rating\", \"Z\"], function(err, questions) {\n            final_result = questions;\n            callback(final_result[0]);\n        });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7924528301886793,
        "Content": "    exports.list_top_rates = function(req, callback /* the parameter res is not needed anymore */) {\n        var limit  = req.limit || 20;\n        var final_result = {\"1\": {}};\n        //Z means descending\n        req.models.question.find({}, limit, [\"rating\", \"Z\"], function(err, questions) {\n            final_result = questions;\n            callback(final_result[0]);\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21823235",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "158716853",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.test = function(req, res) {\n      res.render( 'template',\n                  {open:'<@', close:'@>', test : \"Hello world\"},\n                  function(err, html) {\n                    if (err) {\n                      res.send(500, err);\n                    } else {\n                      res.send(require('ejs').render(html, {people: people});\n                    };\n                 });\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8936170212765957,
        "Content": "    exports.test = function(req, res) {\n      var people = [{\"name\":\"Martin\"}, {\"name\":\"Jean\"}];\n      res.render( 'template',\n                  {open:'<@', close:'@>', test : \"Hello world\"},\n                  function(err, html) {\n                    if (err) {\n                      res.send(500, err);\n                    } else {\n                      res.send(require('ejs').render(html, {people: people}));\n                    };\n                 });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21858749",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "159133557",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function encrypt(str) {\n      var cipher = crypto.createCipheriv('aes-256-cbc', key, iv).setAutoPadding(false);\n      str = customPadding(str);\n       var crypt = cipher.update(str, 'utf8', 'base64');\n       crypt += cipher.final(\"base64\");\n       return crypt;\n    }\n    var t = encrypt(\"dude\");",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.48148148148148145,
        "Content": "    const crypto = require(\"crypto\");\n    const iv = crypto.randomBytes(16);\n    let key = crypto.randomBytes(32);\n    \n    function encrypt(str) {\n        const cipher = crypto.createCipheriv('aes-256-cbc', key, iv);\n        let crypt = cipher.update(str, 'utf8', 'base64');\n        crypt += cipher.final(\"base64\");\n        return crypt;\n    }\n    \n    function decrypt(str) {\n        const decipher = crypto.createDecipheriv('aes-256-cbc', key, iv);\n        let decrypt = decipher.update(str, 'base64', 'utf8');\n        decrypt += decipher.final();\n        return decrypt;\n    }\n    \n    const enc = encrypt(\"dude5\");\n    const dec = decrypt(enc);\n    \n    console.log(enc, dec);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21898353",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "159606949",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    username: {\n        type: 'email',\n        required: true\n    },\n    password: 'STRING',\n    videos:{\n      collection: \"video\",\n      via: \"video\"\n    },\n  }\n};",
        "MostRecentVersion": "0",
        "Errors": 13,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    module.exports = {\n    \n      attributes: {\n    \n        username: {\n            type: 'email',\n            required: true\n        },\n        password: 'STRING',\n        videos:{\n          collection: \"video\",\n          via: \"user\"\n        },\n    \n      }\n   \n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21931443",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "160003879",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "npm install scrypt\n    var scrypt = require(\"scrypt\");\n    var scryptParameters = scrypt.params(0.1);\n    \n    var key = new Buffer(\"this is a key\"); //key defaults to buffer in config, so input must be a buffer\n    //Synchronous example that will output in hexidecimal encoding\n    scrypt.hash.config.outputEncoding = \"hex\";\n    var hash = scrypt.hash(key, scryptParameters); //should be wrapped in try catch, but leaving it out for brevity\n    console.log(\"Synchronous result: \"+hash);\n    \n    //Asynchronous example that expects key to be ascii encoded\n    scrypt.hash.config.keyEncoding = \"ascii\";\n    scrypt.hash(\"ascii encoded key\", {N: 1, r:1, p:1}, function(err, result){\n        //result will be hex encoded\n        //Note how scrypt parameters was passed as a JSON object\n        console.log(\"Asynchronous result: \"+result);\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9866666666666667,
        "Content": "    var scrypt = require(\"scrypt\");\n    var scryptParameters = scrypt.params(0.1);\n    \n    var key = new Buffer(\"this is a key\"); //key defaults to buffer in config, so input must be a buffer\n    //Synchronous example that will output in hexidecimal encoding\n    scrypt.hash.config.outputEncoding = \"hex\";\n    var hash = scrypt.hash(key, scryptParameters); //should be wrapped in try catch, but leaving it out for brevity\n    console.log(\"Synchronous result: \"+hash);\n    \n    //Asynchronous example that expects key to be ascii encoded\n    scrypt.hash.config.keyEncoding = \"ascii\";\n    scrypt.hash(\"ascii encoded key\", {N: 1, r:1, p:1}, function(err, result){\n        //result will be hex encoded\n        //Note how scrypt parameters was passed as a JSON object\n        console.log(\"Asynchronous result: \"+result);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21948167",
    "RootLocalId": "12",
    "RootPostBlockVersionId": "160205349",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('Naughty SIGINT-handler');\n    });\n    process.on('exit', function () {\n    \tconsole.log('exit');\n    });\n    console.log('PID: ', process.pid);\n    \n    http = require('http');\n    http.createServer(function (req, res) {\n    \tres.writeHead(200, {'Content-Type': 'text/plain'});\n    \tres.end('Hello World\\n');\n    }).listen(1337, '127.0.0.1');\n    console.log('Server running at http://127.0.0.1:1337/');\n    \n    process.on('SIGINT', function() {\n    \tconsole.log('Nice SIGINT-handler');\n    \tlisteners = process.listeners('SIGINT');\n    \tfor (var i = 0; i < listeners.length; i++) {\n    \t\tconsole.log(listeners[i].toString());\n    \t}\n    \t\n    \tprocess.exit();\n    });",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9879518072289156,
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('Naughty SIGINT-handler');\n    });\n    process.on('exit', function () {\n    \tconsole.log('exit');\n    });\n    console.log('PID: ', process.pid);\n    \n    var http = require('http');\n    http.createServer(function (req, res) {\n    \tres.writeHead(200, {'Content-Type': 'text/plain'});\n    \tres.end('Hello World\\n');\n    }).listen(1337, '127.0.0.1');\n    console.log('Server running at http://127.0.0.1:1337/');\n    \n    process.on('SIGINT', function() {\n    \tconsole.log('Nice SIGINT-handler');\n    \tvar listeners = process.listeners('SIGINT');\n    \tfor (var i = 0; i < listeners.length; i++) {\n    \t\tconsole.log(listeners[i].toString());\n    \t}\n    \t\n    \tprocess.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21948167",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "160205347",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('Nice SIGINT-handler');\n    \tlisteners = process.listeners('SIGINT');\n    \tfor (var i = 0; i < listeners.length; i++) {\n    \t\tconsole.log(listeners[i].toString());\n    \t}\n    \t\n    \tprocess.exit();\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9714285714285714,
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('Nice SIGINT-handler');\n    \tvar listeners = process.listeners('SIGINT');\n    \tfor (var i = 0; i < listeners.length; i++) {\n    \t\tconsole.log(listeners[i].toString());\n    \t}\n    \t\n    \tprocess.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21948167",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "160205343",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    listeners = process.listeners('SIGINT');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var listeners = process.listeners('SIGINT');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21948167",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "160205341",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('SIGINT');\n        process.exit();\n    });\n    console.log('PID: ', process.pid);\n    \n    http = require('http');\n    http.createServer(function (req, res) {\n    \tres.writeHead(200, {'Content-Type': 'text/plain'});\n    \tres.end('Hello World\\n');\n    }).listen(1337, '127.0.0.1');\n    console.log('Server running at http://127.0.0.1:1337/');",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9803921568627451,
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('SIGINT');\n        process.exit();\n    });\n    console.log('PID: ', process.pid);\n    \n    var http = require('http');\n    http.createServer(function (req, res) {\n    \tres.writeHead(200, {'Content-Type': 'text/plain'});\n    \tres.end('Hello World\\n');\n    }).listen(1337, '127.0.0.1');\n    console.log('Server running at http://127.0.0.1:1337/');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "21948167",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "160205339",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('SIGINT');\n    });\n    console.log('PID: ', process.pid);\n    \n    http = require('http');\n    http.createServer(function (req, res) {\n    \tres.writeHead(200, {'Content-Type': 'text/plain'});\n    \tres.end('Hello World\\n');\n    }).listen(1337, '127.0.0.1');\n    console.log('Server running at http://127.0.0.1:1337/');",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9850746268656716,
        "Content": "    process.on('SIGINT', function() {\n    \tconsole.log('SIGINT');\n    });\n    console.log('PID: ', process.pid);\n    \n    var http = require('http'); // HTTP server to keep the script up long enough\n    http.createServer(function (req, res) {\n    \tres.writeHead(200, {'Content-Type': 'text/plain'});\n    \tres.end('Hello World\\n');\n    }).listen(1337, '127.0.0.1');\n    console.log('Server running at http://127.0.0.1:1337/');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22062524",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "161557373",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "//Calback function\nfunction load(callback){\n    setTimeout(function() {\n        var result = JSON.stringify({ 'my': 'json'});\n        callback(/* error: */ null, result);\n    }, 500);\n}\nin Koa world, this is called a `thunk`, meaning that it is an asynchronous function that takes only one argument: a callback with the prototype (err, res). you can check https://github.com/visionmedia/node-thunkify for a better explanation.\nnow you have to write your middleware with\nfunction *loadJson(){\n  this.type = 'application/json';\n  this.body = yield load;\n}",
        "MostRecentVersion": "0",
        "Errors": 54,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.43243243243243246,
        "Content": "    //Calback function\n    function load(callback){\n        setTimeout(function() {\n            var result = JSON.stringify({ 'my': 'json'});\n            callback(/* error: */ null, result);\n        }, 500);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22074503",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "161700739",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var sb = require(..)\n    app.static(...)\n    app.use(sb()) // these will have lower priority",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.25806451612903225,
        "Content": "    var express = require('express'),\n        app = express(),\n        sb = require('./server_base');\n    \n    app.use('/', express.static(__dirname + '/site'));\n    sb(app); // server_base configure occurs here\n    \n    app.listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22145449",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "162544897",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    var GridStrm = require('gridfs-stream');\n    var conn = mongoose.createConnection('localhost', 'Test', 27017);    \n    // the argument is just a label\n    var writeStream = gfs.createWriteStream('file.txt');\n    // This one points to the real file\n    fs.createReadStream('d:\\\\somepath\\file.txt').pipe(writestream); ",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3076923076923077,
        "Content": "    var mongoose = require('mongoose');\n    var Grid = require('gridfs-stream');\n    var fs = require('fs');\n    var conn = mongoose.createConnection('localhost', 'test', 27017 );\n    conn.once('open', function() {\n        var gfs = Grid( conn.db, mongoose.mongo );\n        var source = fs.createReadStream('file.txt');\n        var target = gfs.createWriteStream({\n            filename: 'file.txt'\n        });\n        source.pipe(target);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22178196",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "162928018",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var container = docker.containers.list(handler);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var hello = function(){\n      return \"hello\";\n    }\n    console.log(hello); // [Function]\n    console.log(hello()); // hello",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22203733",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "163228059",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mysql = require('mysql');\n    var connection = mysql.createConnection({\n      host     : 'localhost',\n      user     : 'admin',\n      password : 'password'\n    });\n    connection.connect();\n    connection.query(query, function(err, rows, fields) {\n      if (err) throw err;\n      console.log(rows) // log all matching rows.\n    });\n    connection.end();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7368421052631579,
        "Content": "    var mysql = require('mysql');\n    var connection = mysql.createConnection({\n      host     : 'localhost',\n      user     : 'admin',\n      password : 'password'\n    });\n    // construct query\n    var ids = [3, 4, 6, 8];\n    var query = 'SELECT * FROM table WHERE id IN (' + ids.join() + ')';\n    connection.connect();\n    connection.query(query, function(err, rows, fields) {\n      if (err) throw err;\n      console.log(rows) // log all matching rows.\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22203733",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "163228057",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var ids = [3, 4, 6, 8];\n    var query = 'SELECT * FROM table WHERE id IN (' + ids.join() ')';",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var ids = [3, 4, 6, 8];\n    var query = 'SELECT * FROM table WHERE id IN (' + ids.join() + ')';",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22264233",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "163963464",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = { Q: require('q),\n                     util: require('util') };",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    module.exports = { Q: require('q'),\n                     util: require('util') };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22337534",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164822941",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var execSync = require('exec-sync');\n    var user = execSync(python celulas.py');",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var execSync = require('exec-sync');\n    var user = execSync('python celulas.py');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22425522",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "165864624",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http');\n    function getPDFUrl() {\n        var pdfUrl = \"http://testing.com/pdf/test.pdf\";\n    }\n    var handler = http.createServer(function(request, response) {\n\tif (request.url == 'getpdf' && request.method.toLowerCase() == 'get') {\n\t\tvar pdfUrl = getPDFUrl();       //get pdf url here\n\t\tif (pdfUrl != null && pdfUrl != undefined && pdfUrl != '') {\n\t\t\tresponse.writeHead(200, {\"Content-Type\":\"text/html\"});\n\t\t\tresponse.write(pdfUrl);\n\t\t\tresponse.end();\n\t\t} else {\n\t\t\tresponse.writeHead(404, {\"Content-Type\":\"text/html\"});\n\t\t\tresponse.write(\"Not Found\");\n\t\t\tresponse.end();\n\t\t}\n\t\t\n\t}\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9863013698630136,
        "Content": "    var http = require('http');\n    function getPDFUrl() {\n        return \"http://testing.com/pdf/test.pdf\";\n    }\n    var handler = http.createServer(function(request, response) {\n\tif (request.url == 'getpdf' && request.method.toLowerCase() == 'get') {\n\t\tvar pdfUrl = getPDFUrl();       //get pdf url here\n\t\tif (pdfUrl != null && pdfUrl != undefined && pdfUrl != '') {\n\t\t\tresponse.writeHead(200, {\"Content-Type\":\"text/html\"});\n\t\t\tresponse.write(pdfUrl);\n\t\t\tresponse.end();\n\t\t} else {\n\t\t\tresponse.writeHead(404, {\"Content-Type\":\"text/html\"});\n\t\t\tresponse.write(\"Not Found\");\n\t\t\tresponse.end();\n\t\t}\n\t\t\n\t}\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22673394",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "168760336",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var express = require('express');\n    var app = express();\n    \n    require(./routes)(app);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var express = require('express');\n    var app = express();\n    \n    require('./routes')(app);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22682418",
    "RootLocalId": "14",
    "RootPostBlockVersionId": "168868880",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    // transform 0-1 flat to 0-10 stepped\n    function stepInvTransform(z) {\n        return (3*x < 1 ? 9*x : (12*x - 1));\n    }\n    // sample via inv transform\n    var sample = stepInvTransform(Math.random());",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.875,
        "Content": "    // transform 0-1 flat to 0-10 stepped\n    function stepInvTransform(z) {\n        return (3*z < 1 ? 9*z : (12*z - 1));\n    }\n    // sample via inv transform\n    var sample = stepInvTransform(Math.random());",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22734484",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "169489785",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function KeyGenerator() {\n        // at first I was thinking you wanted these as 'class' properties\n        // and thus would want to proceed them with this. rather than as vars\n        // but I think you want them as 'private' members variables of the\n        // class instance. That's dandy, you'll just want to do things differently\n        // down below\n        var nextKey;\n        var upperBound;\n    \n        this.generateKey(table, done) {\n            if (nextKey > upperBound) {\n                // truncated the require path below for readability.\n                // more importantly, renamed parameters to function\n                require(\"key-series-request\").requestKeys(function(err,nKey,uBound) {\n                    if (err) { return done(err); }\n                    // note that thanks to the miracle of closures, you have access to\n                    // the nextKey and upperBound variables from the enclosing scope\n                    // but I needed to rename the parameters or else they would shadow/\n                    // obscure the variables with the same name.\n                    nextKey = nKey;\n                    upperBound = uBound;\n                    done(nextKey++);\n                });\n            } else {\n                done(nextKey++);\n            }\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 9,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function KeyGenerator() {\n        // at first I was thinking you wanted these as 'class' properties\n        // and thus would want to proceed them with this. rather than as vars\n        // but I think you want them as 'private' members variables of the\n        // class instance. That's dandy, you'll just want to do things differently\n        // down below\n        var nextKey;\n        var upperBound;\n    \n        this.generateKey = function (table, done) {\n            if (nextKey > upperBound) {\n                // truncated the require path below for readability.\n                // more importantly, renamed parameters to function\n                require(\"key-series-request\").requestKeys(function(err,nKey,uBound) {\n                    if (err) { return done(err); }\n                    // note that thanks to the miracle of closures, you have access to\n                    // the nextKey and upperBound variables from the enclosing scope\n                    // but I needed to rename the parameters or else they would shadow/\n                    // obscure the variables with the same name.\n                    nextKey = nKey;\n                    upperBound = uBound;\n                    done(nextKey++);\n                });\n            } else {\n                done(nextKey++);\n            }\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22816828",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "170447901",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    /^\\/([A-Z]{2}\\/something\\/somethingelse\\/.*)$",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.98,
        "Content": "    /^\\/([A-Z]{2}\\/something\\/somethingelse\\/.*)$/",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22821667",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "170501956",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http');\n    var url_parser = require(\"url\");\n    \n    var url = \"http://www.webservice.com.br/getserver?user=myuser&password=mypassword\";\n    var url_parts = url_parser.parse(url);\n    \n    var options = {host: url_parts.hostname, port: url_parts.port|80, path: url_parts.path, agent:false};\n    \n    var request = http.request(options, function(response) {\n    \n        //do something with the response\n        console.log(response.body);\n    \n    }).on('error',function(e){\n        //error happened\n    });\n    \n    request.end();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.20689655172413793,
        "Content": "    var http = require('http');\n    http.get(\"http://www.webservice.com.br/getserver?user=myuser&password=mypassword\", function(res) {\n    \t//this is http response status code\n    \tconsole.log(res.statusCode);\n    \t//this is headers\n    \tconsole.log(res.headers);\n    \tres.setEncoding('utf8');\n    \tres.on(\"data\", function(chunk) {\n    \t\t//this is body\n        \tconsole.log(chunk);\n      \t});\n    }).on('error', function(e) {\n      console.log(\"Got error: \" + e.message);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22843628",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "170767416",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var cc = require(path.join(\"./js/crawler/leboncoin/lbcCrawler.js\"));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "3",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    var cc = require(\"./js/crawler/leboncoin/lbcCrawler.js\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22874263",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "171129675",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var MyString = {};\n    var MyString.START = 'start';\n    var json = '{\"start\": 1,\"prop2\": 2}';\n    var obj = JSON.parse(json);\n    console.log(obj[MyString.START]); // prints 1",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var MyString = {};\n    MyString.START = 'start';\n    var json = '{\"start\": 1,\"prop2\": 2}';\n    var obj = JSON.parse(json);\n    console.log(obj[MyString.START]); // prints 1",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "22892261",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "171337057",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var tifPreview = function (item, callback) {\n      console.log(item);\n      setImmidiate(callback);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7,
        "Content": "    var tifPreview = function (item, callback) {\n      console.log(item);\n      // defer the callback\n      setImmediate(callback);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23077609",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "173513551",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // routes/x.js\n    \n    var router = express.Router();\n    \n    // invoked for any requested passed to this router\n    router.use(function(req, res, next) {\n      // .. some logic here .. like any other middleware\n      next();\n    });\n    \n    // will handle any request that ends in /events\n    // depends on where the router is \"use()'d\"\n    router.get('/events', function(req, res, next) {\n      // ..\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9879518072289156,
        "Content": "    // routes/calendarRouter.js\n    \n    var express  = require('express');\n    var router = express.Router();\n    \n    // invoked for any requested passed to this router\n    router.use(function(req, res, next) {\n      // .. some logic here .. like any other middleware\n      next();\n    });\n    \n    // will handle any request that ends in /events\n    // depends on where the router is \"use()'d\"\n    router.get('/events', function(req, res, next) {\n      // ..\n    });\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23097961",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "173750375",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log(new Buffer('Hello World!').toString('Base64'));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    console.log(Buffer.from('Hello World!').toString('base64'));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23116618",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "173958026",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function error(err) {\n        if( err ) {\n            res.writeHead(500); res.end(); console.log(err);\n            return true\n        }\n        return false\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8695652173913043,
        "Content": "    function error(res, err) {\n        if( err ) {\n            res.writeHead(500); res.end(); console.log(err);\n            return true\n        }\n        return false\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23159898",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "174459336",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.export = function(app, passport){\n       var router = app.Router();\n       \n       // routes go here\n       // do stuff with passport\n    \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    module.exports = function(app, passport){\n       var router = express.Router();\n       \n       // routes go here\n       // do stuff with passport\n       \n       return router;\n    \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23333454",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "176487825",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      init: {\n        files: [{\n          cwd: 'init/php/templates',\n          src: '<%= init.php.templates %>',\n          dest: 'src/php/templates',\n          expand: true\n        }, {\n          cwd: 'init/php/includes',\n          src: '<%= init.php.includes %>',\n          dest: 'src/php/includes',\n          expand: true\n        }, {\n          cwd: 'init/js',\n          src: '<%= init.scripts %>',\n          dest: 'src/js',\n          expand: true\n        }, {\n          cwd: 'init/css',\n          src: 'style.css',\n          dest: 'src/css',\n          expand: true\n        }],\n        options: {\n          process: function (content, srcpath) {\n            return grunt.template.process(content);\n          }\n        }\n      }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9523809523809523,
        "Content": "    module.exports = function (grunt) {\n      return {\n          init: {\n            files: [{\n              cwd: 'init/php/templates',\n              src: '<%= init.php.templates %>',\n              dest: 'src/php/templates',\n              expand: true\n            }, {\n              cwd: 'init/php/includes',\n              src: '<%= init.php.includes %>',\n              dest: 'src/php/includes',\n              expand: true\n            }, {\n              cwd: 'init/js',\n              src: '<%= init.scripts %>',\n              dest: 'src/js',\n              expand: true\n            }, {\n              cwd: 'init/css',\n              src: 'style.css',\n              dest: 'src/css',\n              expand: true\n            }],\n            options: {\n              process: function (content, srcpath) {\n                return grunt.template.process(content);\n              }\n            }\n          }\n      }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23342273",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "176585021",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // user.js\n    var User = function () {};\n    User.prototype.test = function () {\n      var Room = require('./room');\n      return new Room();\n    };\n    module.exports = User;\n    \n    // room.js\n    var Room = function () {};\n    Room.prototype.test = function () {\n      var User = require('./user');\n      return new User();\n    };\n    module.exports = Room;\n   \n    // index.js\n    var User = require('./user.js');\n    var Room = require('./room.js');\n    var user = new User(Room);\n    var room = new Room(User);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9545454545454546,
        "Content": "    // user.js\n    var User = function () {};\n    User.prototype.test = function () {\n      var Room = require('./room');\n      return new Room();\n    };\n    module.exports = User;\n    \n    // room.js\n    var Room = function () {};\n    Room.prototype.test = function () {\n      var User = require('./user');\n      return new User();\n    };\n    module.exports = Room;\n   \n    // index.js\n    var User = require('./user.js');\n    var Room = require('./room.js');\n    var user = new User();\n    var room = new Room();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23581541",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "179378753",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var bodyParser = require('body-parser');\n    app.use(bodyParser());  // for express 4.x",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express    = require('express')\n    var bodyParser = require('body-parser')\n    var app = express()\n    app.use(bodyParser());  // for express 4.x",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23581541",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "179378751",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.use(express.bodyParser());  // for express 3.x",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express')\n    var app = express()\n    app.use(express.bodyParser());  // for express 3.x",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23659837",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "180276450",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.browse2 = function(request, response) {\n\tgetFolderContents(\n\t\t\t'C:\\\\Users\\\\AccountName\\\\folder1\\\\folder2\\\\folder3\\\\test\\\\',\n\t\t\tfunction(err, tree) {\n\t\t\t\tif (err)\n\t\t\t\t\tthrow err;\n\t\t\t\tresponse.send(tree);\n\t\t\t});\n    };\n    function getFolderContents(route, callback) {\n\tvar branch = {};\n\tbranch.title = path.basename(route);\n\tbranch.folder = true;\n\tbranch.children = [];\n\tfs.readdir(route, function(err, files) {\n\t\tif (err)\n\t\t\treturn callback(err);\n\t\tvar pending = files.length;\n\t\tif (!pending)\n\t\t\treturn callback(null, branch);\n\t\tfiles.forEach(function(file) {\n\t\t\tvar concatPath = path.join(route, file);\n\t\t\tfs.lstat(concatPath, function(err, stats) {\n\t\t\t\tif (stats && stats.isDirectory()) {\n\t\t\t\t\tgetFolderContents(concatPath, function(err, res) {\n\t\t\t\t\t\tbranch.children.push(res);\n\t\t\t\t\t\tif (!--pending)\n\t\t\t\t\t\t\tcallback(null, branch);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tbranch.children.push({\n\t\t\t\t\t\t\"title\" : path.basename(file),\n\t\t\t\t\t\t\"path\" : file\n\t\t\t\t\t});\n\t\t\t\t\tif (!--pending)\n\t\t\t\t\t\tcallback(null, branch);\n\t\t\t\t}\n\t\t\t});\n\t\t});\n\t});\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "\t\tvar path = require('path');\n\t    var fs = require('fs');\n\t\texports.browse2 = function(request, response) {\n\t\tgetFolderContents(\n\t\t\t\t'C:\\\\Users\\\\AccountName\\\\folder1\\\\folder2\\\\folder3\\\\test\\\\',\n\t\t\t\tfunction(err, tree) {\n\t\t\t\t\tif (err)\n\t\t\t\t\t\tthrow err;\n\t\t\t\t\tresponse.send(tree);\n\t\t\t\t});\n\t\t};\n\t\tfunction getFolderContents(route, callback) {\n\t\tvar branch = {};\n\t\tbranch.title = path.basename(route);\n\t\tbranch.folder = true;\n\t\tbranch.children = [];\n\t\tfs.readdir(route, function(err, files) {\n\t\t\tif (err)\n\t\t\t\treturn callback(err);\n\t\t\tvar pending = files.length;\n\t\t\tif (!pending)\n\t\t\t\treturn callback(null, branch);\n\t\t\tfiles.forEach(function(file) {\n\t\t\t\tvar concatPath = path.join(route, file);\n\t\t\t\tfs.lstat(concatPath, function(err, stats) {\n\t\t\t\t\tif (stats && stats.isDirectory()) {\n\t\t\t\t\t\tgetFolderContents(concatPath, function(err, res) {\n\t\t\t\t\t\t\tbranch.children.push(res);\n\t\t\t\t\t\t\tif (!--pending)\n\t\t\t\t\t\t\t\tcallback(null, branch);\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tbranch.children.push({\n\t\t\t\t\t\t\t\"title\" : path.basename(file),\n\t\t\t\t\t\t\t\"path\" : file\n\t\t\t\t\t\t});\n\t\t\t\t\t\tif (!--pending)\n\t\t\t\t\t\t\tcallback(null, branch);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t\t}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23701218",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "180747205",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //create websocket protocol via socket.io\n    var io = require('socket.io').listen(chatApp);\n    //send data to client\n    io.sockets.on('connection', function(socket) {\n      socket.on('message_to_server', function(data) {\n        io.sockets.emit(\"message_to_client\",{ message: data[\"message\"] });\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    //create websocket protocol via socket.io\n    var io = require('socket.io').listen(8080);\n    //send data to client\n    io.sockets.on('connection', function(socket) {\n      socket.on('message_to_server', function(data) {\n        io.sockets.emit(\"message_to_client\",{ message: data[\"message\"] });\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23919305",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "183242651",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var re = /^site_.*_name$/;\n    re.test(array_item);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var _ = require('nimble');\n    var files = [\n        \"user_parse_info\",\n        \"user_parse_age\",\n        \"site_render_info\",\n        \"site_parse_name\"\n    ];\n    var re = /^site_.*_name$/;\n    var result = _.filter(files, function (val) {\n         return re.test(val);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "23981079",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "183945396",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //clients.js\n    var clients = {\n        _db: []\n    }\n    \n    clients.findById = function(id){\n     //...\n     return found;\n    }\n    \n    clients.addClient = function(client) {\n      //...\n    }\n    \n    module.exports = clients;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    //clients.js\n    \"use strict\";\n    \n    var clients = {\n    \t_db: []\n    };\n    \n    clients.findById = function(id){\n    \tfor(var i=0; i < this._db.length; i++){\n    \t\tvar client = this._db[i];\n    \t\tif(client.id === id){\n    \t\t\treturn client;\n    \t\t}\n    \t}\n    \treturn null;\n    };\n    \n    clients.addClient = function(client) {\n    \tif(!this.findById(client.id)){\n    \t\tthis._db.push(client);\n    \t}\n    };\n    \n    module.exports = clients;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24012855",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "184306867",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var cookieParser = require('cookie-parser');\n    var bodyParser = require('body-parser');\n    var cookieSession = require('cookie-session');\n    app.use(cookieParser());\n    app.use(cookieParser());\n    app.use(cookieParser());",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7407407407407407,
        "Content": "    var express = require('express');\n    var app = express();\n    \n    var cookieParser = require('cookie-parser');\n    var bodyParser = require('body-parser');\n    var cookieSession = require('cookie-session');\n    \n    app.use(cookieParser());\n    app.use(bodyParser());\n    app.use(cookieSession({secret: 'app_1'}));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24033896",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "184544867",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function start(response){\n        console.log(\"Request handler 'start' was called.\");\n    \n        exec(\"dir\",function(error,stdout,stderr){ //<== dir unstead of ls\n            response.writeHead(200,{\"Content-Type\":\"text/plain\"});\n            response.write(stdout);\n            response.end();\n       });\n    \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8421052631578947,
        "Content": "    var exec = require(\"child_process\").exec;\n    function start(response){\n        console.log(\"Request handler 'start' was called.\");\n    \n        exec(\"dir\",function(error,stdout,stderr){ //<== dir instead of ls\n            response.writeHead(200,{\"Content-Type\":\"text/plain\"});\n            response.write(stdout);\n            response.end();\n       });\n    \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24075043",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "185022125",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    results[0][\"PersonId\"];",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3333333333333333,
        "Content": "    var results = JSON.parse(results);\n    results[0][\"PersonID\"];",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24211831",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "186593171",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function ClassB(myVar){\n      this.myvar = myVar;\n    };\n    ClassB.prototype.get = function(){\n      return this.myvar;\n    };\n    module.exports = ClassB;\n    $ node ClassA.js \n    Test",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function ClassB(myVar){\n      this.myvar = myVar;\n    };\n    ClassB.prototype.get = function(){\n      return this.myvar;\n    };\n    module.exports = ClassB;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24225699",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "186756698",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\t{\n\t\tenvironments : {\n\t\t\tlibraries : {\n\t\t\t\tjQuery : '//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js'\n\t\t\t}\n\t\t\t, localLibraries : {\n\t\t\t\tjQuery : '/js/jquery-2.1.0.js'\n\t\t\t}\n\t\t\t, web_server : {\n\t\t\t\t          task : 'web_server'\n\t\t\t\t,     includes : [ 'cdn', 'libraries' ]\n\t\t\t\t,         port : 12567\n\t\t\t\t, csrfMaxAgeMs : 1000 * 60 * 60 * 24 * 30 // 30 days\n\t\t\t\t,  csrfHashAlg : 'sha256'\n\t\t\t\t,  apiHostName : '(^|\\\\.)api.*'\n\t            ,     frontend : '/frontend'\n\t\t\t\t,   jsonSpaces : 0\n\t\t\t}\n\t\t\t, local_web_server : {\n\t\t\t\t         task : 'web_server'\n\t\t\t\t,    includes : { __local: 'web_server', libraries: 'localLibraries' }\n\t\t\t\t,  jsonSpaces : 4\n\t\t\t\t,         dev : true\n\t\t\t}\n\t\t}\n\t};",
        "MostRecentVersion": "0",
        "Errors": 34,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9743589743589743,
        "Content": "\tmodule.exports =\n\t{\n\t\tenvironments : {\n\t\t\tlibraries : {\n\t\t\t\tjQuery : '//ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js'\n\t\t\t}\n\t\t\t, localLibraries : {\n\t\t\t\tjQuery : '/js/jquery-2.1.0.js'\n\t\t\t}\n\t\t\t, web_server : {\n\t\t\t\t          task : 'web_server'\n\t\t\t\t,     includes : [ 'cdn', 'libraries' ]\n\t\t\t\t,         port : 12567\n\t\t\t\t, csrfMaxAgeMs : 1000 * 60 * 60 * 24 * 30 // 30 days\n\t\t\t\t,  csrfHashAlg : 'sha256'\n\t\t\t\t,  apiHostName : '(^|\\\\.)api.*'\n\t            ,     frontend : '/frontend'\n\t\t\t\t,   jsonSpaces : 0\n\t\t\t}\n\t\t\t, local_web_server : {\n\t\t\t\t         task : 'web_server'\n\t\t\t\t,    includes : { __local: 'web_server', libraries: 'localLibraries' }\n\t\t\t\t,  jsonSpaces : 4\n\t\t\t\t,         dev : true\n\t\t\t}\n\t\t}\n\t};",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24310069",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "187710513",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (function(){\n       console.lot(this==global); //yields true\n    })()",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7272727272727273,
        "Content": "    //module.js\n    (function(){\n       console.log(this==global); //yields true\n    })()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24345775",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "188116393",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = express();\n    app.get('/user/:name', function(req, res){\n      res.send('hello \" + req.params.name + \", id=\" + req.query.id);\n    });\n    app.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8823529411764706,
        "Content": "    var express = require('express');\n    var app = express();\n    app.get('/user/:name', function(req, res){\n      res.send('hello ' + req.params.name + ', id=' + req.query.id);\n    });\n    app.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24597509",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "190984634",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var domain = require('domain').create();\n    \n    domain.on('error', function(err) {\n      console.log(err);\n    });\n    \n    d.run(function() {\n      // Your code that might throw\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    var domain = require('domain').create();\n    \n    domain.on('error', function(err) {\n      console.log(err);\n    });\n    \n    domain.run(function() {\n      // Your code that might throw\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24650924",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191594209",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var querystring = require('querystring');\n    var req = require('request');\n    \n    var form = {\n        username: 'usr',\n        password: 'pwd',\n        opaque: 'opaque',\n        logintype: '1'\n    };\n    \n    var formData = querystring.stringify(form);\n    var contentLength = formData.length;\n    \n    request({\n        headers: {\n          'Content-Length': contentLength,\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        uri: 'http:/myUrl',\n        body: formData,\n        method: 'POST'\n      }, function (err, res, body) {\n        //it works!\n      });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9722222222222222,
        "Content": "    var querystring = require('querystring');\n    var request = require('request');\n    \n    var form = {\n        username: 'usr',\n        password: 'pwd',\n        opaque: 'opaque',\n        logintype: '1'\n    };\n    \n    var formData = querystring.stringify(form);\n    var contentLength = formData.length;\n    \n    request({\n        headers: {\n          'Content-Length': contentLength,\n          'Content-Type': 'application/x-www-form-urlencoded'\n        },\n        uri: 'http://myUrl',\n        body: formData,\n        method: 'POST'\n      }, function (err, res, body) {\n        //it works!\n      });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24657561",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191669637",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function addhttp(url) {\n        if (!/^(?:f|ht)tps?\\:\\/\\//.test(url))) {\n            url = \"http://\" + url;\n        }\n        return url;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function addhttp(url) {\n        if (!/^(?:f|ht)tps?\\:\\/\\//.test(url)) {\n            url = \"http://\" + url;\n        }\n        return url;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24852307",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193919445",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = express();\n    app.use(express.static(path.join(__dirname, 'public')));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    var express = require('express');\n    var path = require('path');\n    var app = express();\n    app.use(express.static(path.join(__dirname, 'public')));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24883847",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194283211",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var casper1 = require('casper').create();\n    var casper2done = false;\n    \n    casper1.start(\"http://www.example.com\").then(function(){\n    \tcasper1.capture(\"casper1_1.png\");\n    \tvar casper2 = require('casper').create();\n    \tcasper2.start(\"http://stackoverflow.com/contact\").then(function(){\n    \t\tcasper1.echo(casper2.getCurrentUrl(), casper2.getTitle());\n    \t\tcasper2.capture(\"casper2.png\");\n    \t}).run(function(){\n    \t\tthis.echo(\"DONE 2\");\n    \t\tcasper2done = true;\n    \t});\n    }).waitFor(function check(){\n    \treturn casper2done;\n    }).then(function(){\n    \tcasper1.echo(casper.getCurrentUrl(), casper.getTitle());\n    \tcasper1.capture(\"casper1_2.png\");\n    }).run(function(){\n    \tthis.echo(\"DONE\");\n    \tthis.exit();\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8064516129032258,
        "Content": "    var casper1 = require('casper').create();\n    var casper2done = false;\n    \n    casper1.start(\"http://www.example.com\").then(function(){\n    \tcasper1.capture(\"casper1_1.png\");\n    \tvar casper2 = require('casper').create();\n    \tcasper2.start(\"http://stackoverflow.com/contact\").then(function(){\n    \t\tcasper1.echo(casper2.getCurrentUrl(), casper2.getTitle());\n    \t\tcasper2.capture(\"casper2.png\");\n    \t}).run(function(){\n    \t\tthis.echo(\"DONE 2\");\n    \t\tcasper2done = true;\n    \t});\n    }).waitFor(function check(){\n    \treturn casper2done;\n    }).then(function(){\n    \tcasper1.echo(casper1.getCurrentUrl(), casper1.getTitle()); // Comment to fix answer (min 6 chars)\n    \tcasper1.capture(\"casper1_2.png\");\n    }).run(function(){\n    \tthis.echo(\"DONE\");\n    \tthis.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24925276",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194762683",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var MongooseDocumentArray = mongoose.Types.DocumentArray\n    ...\n    var docArray = new MongooseDocumentArray(arrayOfChildren);\n    docArray.id(someId);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var mongoose = require('mongoose');\n    var Schema = mongoose.Schema;\n    \n    var AddressSchema = Schema({\n        street: String,\n        city: String,\n        state: String,\n        zip: Number\n    });\n    \n    var PlaceSchema = Schema({\n        name: String,\n        addresses: [AddressSchema]\n    });\n    \n    module.exports = mongoose.model('Place', PlaceSchema);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24938108",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194912287",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var gulp   = require('gulp');\n    var plugins = require('gulp-load-plugins')();\n    var es   = require('event-stream');\n    var path = require('path');\n    var config = require('./build.config');\n    \n    // ------------------------------------\n    \n    function forEachModule(modules, subtaskFunc) {\n      var subtaskStreams = modules.map(subtaskFunc);\n      return es.concat.apply(null, subtaskStreams);\n    }\n    \n    // ------------------------------------\n    \n    gulp.task('templates', function() {\n      return forEachModule(config.modules, function(module) {\n        return gulp.src(path.join(config.src, 'templates', module, '**/*.hbs'))\n          .pipe(plugins.handlebars())\n          .pipe(plugins.defineModule('plain'))\n          .pipe(plugins.declare({\n            namespace: 'app.' + name + '.templates'\n          }))\n          .pipe(gulp.dest(path.join(config.dest, 'templates')));\n      })\n        .pipe(plugins.concat('all.js'))\n        .pipe(gulp.dest(config.dest));\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var gulp   = require('gulp');\n    var plugins = require('gulp-load-plugins')();\n    var es   = require('event-stream');\n    var path = require('path');\n    var config = require('./build.config');\n    \n    // ------------------------------------\n    \n    /*\n     * For each module execute subtaskFunc and get result stream, then\n     * combine all of the streams and return that.\n     *\n     * @param [{Object}] modules       array of module objects\n     * @param {Function} subtaskFunc   function(module) -> stream\n     * @return {Object} a stream\n     */\n    function forEachModule(modules, subtaskFunc) {\n      var subtaskStreams = modules.map(subtaskFunc);\n      return es.concat.apply(null, subtaskStreams);\n    }\n    \n    // ------------------------------------\n    \n    gulp.task('templates', function() {\n      var dest = path.join(config.dest, 'templates');\n      \n      return forEachModule(config.modules, function(module) {\n        var src = path.join(config.src, 'templates', module, '**/*.hbs');\n        \n        // Compile .hbs files, wrap in a CommonJS module, combine into `<module>.js` and write to dest.\n        return gulp.src(src)\n          .pipe(plugins.handlebars().on('error', plugins.util.log))\n          .pipe(plugins.defineModule('plain'))\n          .pipe(plugins.declare({\n            namespace: 'app.templates.' + module\n          }))\n          .pipe(plugins.concat(module + '.js'))\n          .pipe(gulp.dest(dest));\n      })\n        // Combine all module template files into one?\n        .pipe(plugins.concat('templates.js'))\n        .pipe(gulp.dest(config.dest));\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24946878",
    "RootLocalId": "12",
    "RootPostBlockVersionId": "195019465",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    mongoose.connect(\"mongodb://localhost/test\");\n    var testSchema = new Schema({\n      name: String,\n      body: { type: String, required: true },\n    },{\n     toObject: { virtuals: true },\n     toJSON: { virtuals: true }\n    });\n    testSchema.virtual('favourite').get(function() {\n      return \"Fred\";\n    });\n    var Test = mongoose.model( \"Test\", testSchema, \"textscore\" );\n    Test.aggregate([\n      { \"$match\": {\n        \"$text\": { \"$search\": \"term\" }\n      }},\n      { \"$project\": {\n        \"name\": 1,\n        \"body\": 1,\n        \"textScore\": { \"$meta\": \"textScore\" },\n        \"nameScore\": {\n          \"$cond\": [\n            { \"$ifNull\": [ \"$name\", false ] },\n            1,\n            0\n          ]\n        }\n      }},\n      { \"$sort\": { \"nameScore\": -1, \"textScore\": -1 } },\n    ],function(err,result) {\n      if (err) throw err;\n      result = result.map(function(doc) {\n        return new Test( doc );\n      });\n      console.log( JSON.stringify( result, undefined, 4 ));\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.896,
        "Content": "    var async = require('async'),\n        mongoose = require('mongoose'),\n        Schema = mongoose.Schema;\n    mongoose.connect(\"mongodb://localhost/test\");\n    var testSchema = new Schema({\n      name: String,\n      body: { type: String, required: true },\n      textScore: Number,\n      nameScore: Number\n    },{\n      toObject: { virtuals: true },\n      toJSON: { virtuals: true }\n    });\n    testSchema.virtual('favourite').get(function() {\n      return \"Fred\";\n    });\n    var Test = mongoose.model( \"Test\", testSchema, \"textscore\" );\n    Test.aggregate([\n      { \"$match\": {\n        \"$text\": { \"$search\": \"term\" }\n      }},\n      { \"$project\": {\n        \"name\": 1,\n        \"body\": 1,\n        \"textScore\": { \"$meta\": \"textScore\" },\n        \"nameScore\": {\n          \"$cond\": [\n            { \"$ne\": [{ \"$ifNull\": [ \"$name\", \"\" ] }, \"\" ] },\n            1,\n            0\n          ]\n        }\n      }},\n      { \"$sort\": { \"nameScore\": -1, \"textScore\": -1 } },\n    ],function(err,result) {\n      if (err) throw err;\n      result = result.map(function(doc) {\n        return new Test( doc );\n      });\n      console.log( JSON.stringify( result, undefined, 4 ));\n      process.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "24998583",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195631217",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var config = {\n      configurable: true,\n      value: function() {\n        var alt = {};\n        var storeKey = function(key)\n          alt[key] = this[key];\n        Object.getOwnPropertyNames(this).forEach(storeKey, this);\n        return alt;\n      }\n    };\n    Object.defineProperty(Error.prototype, 'toJSON', config);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var config = {\n      configurable: true,\n      value: function() {\n        var alt = {};\n        var storeKey = function(key) {\n          alt[key] = this[key];\n        };\n        Object.getOwnPropertyNames(this).forEach(storeKey, this);\n        return alt;\n      }\n    };\n    Object.defineProperty(Error.prototype, 'toJSON', config);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25039054",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "196102508",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    test: {},\n    jshint: {},\n    csslint: {}",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.25,
        "Content": "    module.exports = function(grunt) {\n      grunt.initConfig({\n    \t\texec: {\n    \t\t\ttest: \"npm test\",\n                jshint: \"jshint .\",\n                csslint: \"csslint .\"\n    \t\t}\n      });\n    \n      grunt.loadNpmTasks(\"grunt-exec\");\n    \n      grunt.registerTask(\"default\", [\"exec:test\"]);\n      grunt.registerTask(\"test\", [\"exec:test\"]);\n      grunt.registerTask(\"lint\", [\"exec:jshint\", \"exec:csslint\"]);\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25107845",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "196923398",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var async = require('async');\n    \n    \n    //actes as a wrapper for the passed api\n    module.exports = function(obj) {\n        \n        var self = this;\n        \n        var q = async.queue(function (task, callback) {\n            var args = task.args;\n            args.push(function(err, data){\n                task.cb(err, data);\n                if (err) return callback(err);\n                callback();\n            })\n            obj[task.func].apply(obj, args);\n        }, 1);\n        \n        var keys = Object.keys(obj);\n        \n        var buildFuncWrapper = function(i) {\n           self[keys[i]] = function() {\n                var task = {\n                    func: keys[i],\n                    args: arguments.slice(0, arguments.length - 1),\n                    cb: arguments.slice(arguments.length - 1, arguments.length)\n                };\n                q.push(task, function(){\n                    if (global.DEBUG) console.log(\"[SYNC WRAPPER] finished wrapped call to: \", keys[1]);\n                })\n            } \n        }\n        \n        for (var i = 0; i < keys.length; i++) {\n            buildFuncWrapper(i);\n        }\n    }  ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9878048780487805,
        "Content": "    var async = require('async');\n    //actes as a wrapper for the passed api\n    module.exports = function(obj) {\n        \n        var self = this;\n        \n        var q = async.queue(function (task, callback) {\n            var args = task.args;\n            args.push(function(err, data){\n                task.cb(err, data);\n                if (err) return callback(err);\n                callback();\n            })\n            obj[task.func].apply(obj, args);\n        }, 1);\n        \n        var keys = Object.keys(obj);\n        \n        var buildFuncWrapper = function(i) {\n           self[keys[i]] = function() {\n                var args = Array.prototype.slice.call(arguments);\n                var task = {\n                    func: keys[i],\n                    args: args.slice(0, args.length - 1),\n                    cb: args.slice(args.length - 1, args.length)[0]\n                };\n                q.push(task, function(){\n                    if (global.DEBUG) console.log(\"[SYNC WRAPPER] finished wrapped call to: \", keys[i]);\n                })\n            } \n        }\n        \n        var buildPropWrapper = function(i) {\n            Object.defineProperty(self, keys[i], {\n                get: function () { return obj[keys[i]]},\n                writable : false,\n                enumerable: true\n            })\n        }\n        \n        for (var i = 0; i < keys.length; i++) {\n            if (typeof(obj[keys[i]]) === \"function\" ) {\n                buildFuncWrapper(i);\n            } else {\n                buildPropWrapper(i);\n            }\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25149432",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "197399824",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function clean(obj,target) {\n        var tmpobj = obj;\n        for (key in tmpobj) {\n            if (key === target) {\n                delete obj[key];\n            }\n            else if (typeof obj[key] === \"object\") {\n                obj[key] = clean(obj[key],target); \n            }\n        }\n        return obj;\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9523809523809523,
        "Content": "    function clean(obj,target) {\n        var tmpobj = obj;\n        for (var key in tmpobj) {\n            if (key === target) {\n                delete obj[key];\n            }\n            else if (typeof obj[key] === \"object\") {\n                obj[key] = clean(obj[key],target); \n            }\n        }\n        return obj;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25156802",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "197484576",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var express = require(\"express\");\n    var app = express();\n    app.server = require('http').createServer(app);\n    \n    io = require(\"socket.io\").listen(app.server);\n    \n    app.get('/', function(req, res){\n        res.sendfile(__dirname + '/index.html');\n    });\n    \n    app.use(express.static(__dirname + '/public'));\n    \n    io.sockets.on('connection', function(socket) {\n        socket.on('send coordinates',function(data){\n            io.sockets.emit('coordinates', data);\n        });\n    });\n    \n    app.server.listen(8000);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var express = require(\"express\");\n    var app = express();\n    app.server = require('http').createServer(app);\n    var io = require(\"socket.io\").listen(app.server);\n    \n    app.get('/', function(req, res){\n        res.sendfile(__dirname + '/public/index.html'); // I would move this file to public\n    });\n    \n    app.use(express.static(__dirname + '/public'));\n    \n    io.sockets.on('connection', function(socket) {\n        socket.on('send coordinates',function(data){\n            io.sockets.emit('coordinates', data);\n        });\n    });\n    \n    app.server.listen(8000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25183330",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "197793181",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    app.get('<insert route here>', function(req, res){\n\t    // do stuff\n    });\n    app.listen(3000);\n    console.log(\"The server is now running on port 3000.\");",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var request = require('request');\n    request('<API Call>', function (error, response, body) {\n        if (!error && response.statusCode == 200) {\n          var info = JSON.parse(body)\n        }\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25199200",
    "RootLocalId": "14",
    "RootPostBlockVersionId": "197979612",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    export.testcases = [\n        {\n            name: \"sometest\",\n            func: function(test){\n                test.assert(true)\n                this.echo(this.getCurrenturl());\n            }\n        },\n        {\n            name: \"sometest2\",\n            func: function(test){\n                test.assert(true)\n                this.echo(this.getCurrenturl());\n            }\n        },\n    ];",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    exports.testcases = [\n        {\n            name: \"sometest\",\n            func: function(test){\n                test.assert(true)\n                this.echo(this.getCurrenturl());\n            }\n        },\n        {\n            name: \"sometest2\",\n            func: function(test){\n                test.assert(true)\n                this.echo(this.getCurrenturl());\n            }\n        },\n    ];",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25210806",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "198115492",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Http = require('http');\n    var Archiver = require('archiver');\n    \n    Http.createServer(function (request, response) {\n        // Tell the browser that this is a zip file.\n    \tresponse.writeHead(200, {\n    \t\t'Content-Type': 'application/zip',\n    \t\t'Content-disposition': 'attachment; filename=myFile.zip'\n    \t});\n    \n    \tvar zip = Archiver('zip');\n    \n        // Send the file to the page output.\n    \tzip.pipe(response);\n    \n        // Create zip some files. Two dynamic, one static. Put #2 in a sub folder.\n    \tzip.append('Some text to go in file 1.', { name: '1.txt' })\n    \t\t.append('Some text to go in file 2. I go in a folder!', { name: 'somefolder/2.txt' })\n                .file('staticFiles/3.txt', { name: '3.txt' })\n    \t\tfinalize();\n    }).listen(process.env.PORT);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var Http = require('http');\n    var Archiver = require('archiver');\n    \n    Http.createServer(function (request, response) {\n        // Tell the browser that this is a zip file.\n    \tresponse.writeHead(200, {\n    \t\t'Content-Type': 'application/zip',\n    \t\t'Content-disposition': 'attachment; filename=myFile.zip'\n    \t});\n    \n    \tvar zip = Archiver('zip');\n    \n        // Send the file to the page output.\n    \tzip.pipe(response);\n    \n        // Create zip with some files. Two dynamic, one static. Put #2 in a sub folder.\n    \tzip.append('Some text to go in file 1.', { name: '1.txt' })\n    \t    .append('Some text to go in file 2. I go in a folder!', { name: 'somefolder/2.txt' })\n            .file('staticFiles/3.txt', { name: '3.txt' })\n    \t    .finalize();\n    }).listen(process.env.PORT);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25322868",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "199432206",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    MongoClient.connect('mongodb://127.0.0.1:27017/test', function(err, db){\n        if (err) throw err;\n        //Find one document in our collection\n        db.collection('allClasses').findOne({}, function(err, doc){\n            console.log \"Got the data!\"\n            //Print the result\n            console.dir(doc);\n            //close the DB\n            db.close();\n        });\n    \n        console.log \"Data is being fetched and I do something else\"\n    });\n    console.log \"Mongo connection is being set up and I do something else\"",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8705882352941177,
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    \n    MongoClient.connect('mongodb://127.0.0.1:27017/test', function(err, db){\n        if (err) throw err;\n    \n        //Find one document in our collection\n        db.collection('allClasses').findOne({}, function(err, doc){\n            console.log(\"Got the data!\")\n    \n            //Print the result\n            console.dir(doc);\n    \n            //close the DB\n            db.close();\n        });\n    \n        console.log(\"Data is being fetched and I do something else\")\n    });\n    \n    console.log(\"Mongo connection is being set up and I do something else\")",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25344728",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "199689744",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var module.exports.test = \"Hello world\";",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    module.exports.test = \"Hello world\";",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25474247",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "201207248",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    \n    var dbName = \"ystocks\";\n    var port = \"27017\";\n    var host = \"localhost\";\n    function getNumOfDocs (collectionName, host, port, dbName, callback) {\n        MongoClient.connect(\"mongodb://\" + host + \":\" + port + \"/\" + dbName, function (error, db){\n            if(error) return callback(err);\n            db.collection(collectionName).count({}, function(error, numOfDocs){\n                if(error) return callback(err);\n    \n                db.close();\n                callback(null, numOfDocs);\n            });\n        }); \n    } ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    \n    var dbName = \"ystocks\";\n    var port = \"27017\";\n    var host = \"localhost\";\n    function getNumOfDocs (collectionName, host, port, dbName, callback) {\n        MongoClient.connect(\"mongodb://\" + host + \":\" + port + \"/\" + dbName, function (error, db){\n            if(error) return callback(error);\n            db.collection(collectionName).count({}, function(error, numOfDocs){\n                if(error) return callback(error);\n    \n                db.close();\n                callback(null, numOfDocs);\n            });\n        }); \n    } ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25497976",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "201480385",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var async = require('async');\n    async.auto({\n        app1: require('./app1/app.js'),\n        app2: require('./app2/app.js'),\n        app3: require('./app3/app.js')\n    \n    }, function doneLoadingApps(err, apps) {\n        app\n          .use(vhost('app1.io', apps.app1.hooks.http.app))\n          .use(vhost('app2.io', apps.app2.hooks.http.app))\n\t      .use(vhost('app3.io', apps.app3.hooks.http.app))\n\t      .listen(8080);\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8857142857142857,
        "Content": "    // Module dependencies\n    var express = require('express');\n    var vhost = require('vhost');\n    var app = express();\n    var async = require('async');\n    async.auto({\n        app1: require('./app1/app.js'),\n        app2: require('./app2/app.js'),\n        app3: require('./app3/app.js')\n    \n    }, function doneLoadingApps(err, apps) {\n        app\n          .use(vhost('app1.io', apps.app1.hooks.http.app))\n          .use(vhost('app2.io', apps.app2.hooks.http.app))\n\t      .use(vhost('app3.io', apps.app3.hooks.http.app))\n          // Mix in a vanilla Express app as well\n          .use(vhost('app4.io', require('./app4/app.js')))\n\t      .listen(8080);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25509795",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "201612835",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function(MainReview){\n    \n    \n        MainReview.greet = function(msg, cb) {\n          var MainReviewModel = this;\n          MainReviewModel.count(function(err, result) {\n            cb(err, 'Greetings... ' + result );\n          }\n        }\n    \n        MainReview.remoteMethod(\n            'greet', \n            {\n              accepts: {arg: 'msg', type: 'Object'},\n              returns: {arg: 'greeting', type: 'string'}\n            }\n        );\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9310344827586207,
        "Content": "    module.exports = function(MainReview){\n    \n    \n        MainReview.greet = function(msg, cb) {\n          var MainReviewModel = this;\n          MainReviewModel.count(function(err, result) {\n            cb(err, 'Greetings... ' + result );\n          }); \n        }\n    \n        MainReview.remoteMethod(\n            'greet', \n            {\n              accepts: {arg: 'msg', type: 'Object'},\n              returns: {arg: 'greeting', type: 'string'}\n            }\n        );\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25590510",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "202567310",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var dictstring = JSON.stringify(dict);\nTo save a file in NodeJS:\n    var fs = require('fs');\n    fs.writeFile(\"thing.json\", dictstring);\nAlso, objects in javascript use colons, not equals: \n    var dict = {\"one\" : [15, 4.5],\n            \"two\" : [34, 3.3],\n            \"three\" : [67, 5.0],\n            \"four\" : [32, 4.1]};",
        "MostRecentVersion": "0",
        "Errors": 20,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6122448979591837,
        "Content": "    var dict = {\"one\" : [15, 4.5],\n            \"two\" : [34, 3.3],\n            \"three\" : [67, 5.0],\n            \"four\" : [32, 4.1]};",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "25840470",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205489807",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tRating.afterRemote('create', function(ctx, inst, next) {\n\t\n\t\t\t\n\t\tvar loopback = require('loopback');\n\t\tvar ratingsaggregate = loopback.getModel('ratingsaggregate');\n\t\t\n\t\tratingsaggregate.create({\"source\":\"foobar\",\"restaurantID\":\"foobar\",\"itemMenuName\":\"foobar\",\"itemSectionName\":\"foobar\",\"itemName\":\"foobar\",\"nRatings1\":123,\"nRatings2\":123,\"nRatings3\":123,\"nRatings4\":123,\"nRatings5\":123,\"hasImage\":true,\"imageSize\":123,\"latestImageRatingID\":\"foobar\",\"imageCount\":123,\"lastUpdated\":\"foobar\"}, function(err, response) {\n\t\t\tif (err) console.error(err);\n\t\t\tnext();\n\t\t});\n  \n      });\n  \n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9473684210526315,
        "Content": "    module.exports = function(Rating) {\n\t\n\t\n\tRating.afterRemote('create', function(ctx, inst, next) {\n\t\n\t\t\t\n\t\tvar loopback = require('loopback');\n\t\tvar ratingsaggregate = loopback.getModel('ratingsaggregate');\n\t\t\n\t\tratingsaggregate.create({\"source\":\"foobar\",\"restaurantID\":\"foobar\",\"itemMenuName\":\"foobar\",\"itemSectionName\":\"foobar\",\"itemName\":\"foobar\",\"nRatings1\":123,\"nRatings2\":123,\"nRatings3\":123,\"nRatings4\":123,\"nRatings5\":123,\"hasImage\":true,\"imageSize\":123,\"latestImageRatingID\":\"foobar\",\"imageCount\":123,\"lastUpdated\":\"foobar\"}, function(err, response) {\n\t\t\tif (err) console.error(err);\n\t\t\tnext();\n\t\t});\n  \n      });\n  \n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26007248",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207409374",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http'),\n        options = {method: 'HEAD', host: 'stackoverflow.com', port: 80, path: '/'},\n        req = http.request(opts, function(r) {\n            console.log(JSON.stringify(r.headers));\n        });\n    req.end();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9473684210526315,
        "Content": "    var http = require('http'),\n        options = {method: 'HEAD', host: 'stackoverflow.com', port: 80, path: '/'},\n        req = http.request(options, function(r) {\n            console.log(JSON.stringify(r.headers));\n        });\n    req.end();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26197789",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209641098",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        var _ = require('underscore')\n        var x = { major_id: 1234, minor_id: 5678};\n        var y = { major_id: 1234, minor_id: 5678};\n        if(_.isEqual(moe, clone)){\n          //Do stuff\n        }\n ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "        var _ = require('underscore')\n        var x = { major_id: 1234, minor_id: 5678};\n        var y = { major_id: 1234, minor_id: 5678};\n        if(_.isEqual(x, y)){\n          //Do stuff\n        }\n ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26304699",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210885164",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var phantom = require('phantom');\n    \n    phantom.create(function (ph) {\n        ph.createPage(function (page) {\n            if (process.argv.length === 1) {\n                console.log('Usage: netlog.js <some URL>');\n                ph.exit(1);\n            } else {\n                var address = process.argv[1]; // or \"http://google.com/\"\n    \n                page.onResourceRequested = function (req) {\n                    console.log('requested: ' + JSON.stringify(req, undefined, 4));\n                };\n    \n                page.onResourceReceived = function (res) {\n                    console.log('received: ' + JSON.stringify(res, undefined, 4));\n                };\n    \n                page.open(address, function (status) {\n                    if (status !== 'success') {\n                        console.log('FAIL to load the address');\n                    }\n                    ph.exit();\n                });\n            });\n        });\n    }, {\n        dnodeOpts: {\n            weak: false\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8222222222222222,
        "Content": "    var phantom = require('phantom');\n    \n    var address = \"http://google.com/\";\n    phantom.create(function (ph) {\n        ph.createPage(function (page) {\n            page.set(\"onResourceRequested\", function (req) {\n                console.log('requested: ' + JSON.stringify(req, undefined, 4));\n            });\n    \n            page.set(\"onResourceReceived\", function (res) {\n                console.log('received: ' + JSON.stringify(res, undefined, 4));\n            });\n    \n            page.open(address, function (status) {\n                if (status !== 'success') {\n                    console.log('FAIL to load the address');\n                }\n                ph.exit();\n            });\n        });\n    }, {\n        dnodeOpts: {\n            weak: false\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26351821",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "211424473",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var crypto = require('crypto');\n    function genUuid4() {\n      var rnd = crypto.randomBytes(16).toString('hex');\n      rnd = rnd.match(/(.{8})(.{4})(.{4})(.{4})(.{12})/);\n      rnd.shift();\n      rnd[2] = rnd[2].replace(/^./, '4')\n      rnd[3] = rnd[3].replace(/^./, 'a');\n      return rnd.join('-');\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8656716417910447,
        "Content": "    var crypto = require('crypto');\n    module.exports = genUuid;\n    function genUuid(callback) {\n      if (typeof(callback) !== 'function') {\n        return uuidFromBytes(crypto.randomBytes(16));\n      }\n      crypto.randomBytes(16, function(err, rnd) {\n        if (err) return callback(err);\n        callback(null, uuidFromBytes(rnd));\n      });\n    }\n    function uuidFromBytes(rnd) {\n      rnd[6] = (rnd[6] & 0x0f) | 0x40;\n      rnd[8] = (rnd[8] & 0x3f) | 0x80;\n      rnd = rnd.toString('hex').match(/(.{8})(.{4})(.{4})(.{4})(.{12})/);\n      rnd.shift();\n      return rnd.join('-');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26409145",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "212090324",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http'),\n        qs = require('querystring');\n    var server = http.createServer(function(req, res) {\n      if (req.method == POST && req.url == '/login') {\n        var body = '';\n        req.on('data', function(chunk) {\n          body += chunk;\n        });\n        req.on('end', function() {\n          var data = qs.parse(body);\n          // now you can access `data.email` and `data.password`\n          res.writeHead(200);\n          res.end(JSON.stringify(data));\n        });\n      } else {\n        res.writeHead(404);\n        res.end();\n      }\n    });\n    server.listen(80);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9512195121951219,
        "Content": "    var http = require('http'),\n        qs = require('querystring');\n    var server = http.createServer(function(req, res) {\n      if (req.method === 'POST' && req.url === '/login') {\n        var body = '';\n        req.on('data', function(chunk) {\n          body += chunk;\n        });\n        req.on('end', function() {\n          var data = qs.parse(body);\n          // now you can access `data.email` and `data.password`\n          res.writeHead(200);\n          res.end(JSON.stringify(data));\n        });\n      } else {\n        res.writeHead(404);\n        res.end();\n      }\n    });\n    server.listen(80);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26455242",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "212625043",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function (context) {\n    \n      var cordova_util = context.requireCordovaModule(\"cordova-lib/src/cordova/util\"),\n          ConfigParser = context.requireCordovaModule('cordova-lib/src/configparser/ConfigParser'),\n          platforms = context.requireCordovaModule('cordova-lib/src/cordova/platforms'),\n          projectRoot = cordova_util.isCordova(),\n          xml = cordova_util.projectConfig(projectRoot),\n          cfg = new ConfigParser(xml);\n    \n      function getDestFilePath(platform, destFile) {\n        var platform_path = path.join(projectRoot, 'platforms', platform),\n            parser = (new platforms[platform].parser(platform_path));\n        return path.join(parser.cordovaproj, destFile);\n      }\n      console.log(getDestFilePath('ios', 'res/ios/Default~iphone.png'));\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.96875,
        "Content": "    var path = require(\"path\");\n    module.exports = function (context) {    \n      var cordova_util = context.requireCordovaModule(\"cordova-lib/src/cordova/util\"),\n          ConfigParser = context.requireCordovaModule('cordova-lib/src/configparser/ConfigParser'),\n          platforms = context.requireCordovaModule('cordova-lib/src/cordova/platforms'),\n          projectRoot = cordova_util.isCordova(),\n          xml = cordova_util.projectConfig(projectRoot),\n          cfg = new ConfigParser(xml);\n    \n      function getDestFilePath(platform, destFile) {\n        var platform_path = path.join(projectRoot, 'platforms', platform),\n            parser = (new platforms[platform].parser(platform_path));\n        return path.join(parser.cordovaproj, destFile);\n      }\n      console.log(getDestFilePath('ios', 'res/ios/Default~iphone.png'));\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26467631",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "212760448",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function reflectionSet(obj, propString, value) {\n        return propString.split(\".\").reduce(function(result, part, index, array) {\n            if (index === array.length - 1) {\n                result[part] = value;\n                return result;\n            }\n            return result[currentItem];\n        }, obj);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9836065573770492,
        "Content": "    function reflectionSet(obj, propString, value) {\n        return propString.split(\".\").reduce(function(result, part, index, array) {\n            if (index === array.length - 1) {\n                result[part] = value;\n                return obj;\n            }\n            return result[part];\n        }, obj);\n    }\n    var test = {\n        a: {\n            s: 'asd',\n            g: 'asasdasdd'\n        }\n    };\n    \n    console.log(reflectionSet(test, 'a.g', \"otherValue\"));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26598879",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214279832",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var b = new Blob([{test:'one two three'}], {type: \"text/plain;charset=UTF-8\"});\n    b.size //=> 15",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var b = new Blob(['{\"test\":\"one two three\"}'], {type: \"text/plain;charset=UTF-8\"});\n    b.size //=> 24",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26618019",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214498016",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    io.on('connection', function(socket){ ...\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var app = require('express').createServer();\n    var io = require('socket.io')(app);\n    \n    app.listen(8181);\n    \n    io.on('connect', function(socket) {\n        socket.on('example', function(data) {\n            //parse the data, do something, create response data object, etc.\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26673588",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "215137803",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.list = function(req, res, next) {\n        req.getConnection(function(err, connection) {\n                /* find user's major */\n            var user_major = function(id, callback) {\n                connection.query('SELECT major FROM user WHERE user_id=' + id, function(err, row) {\n                    if (err) {\n                        return callback(\"Error Selecting : %s \", err);\n                    }\n                    callback(null, row[0].major);\n                });\n            });\n    \n            user_major(req.params.id, function(error, major) {\n                if (error) return next(error);\n                res.render('main/main', {\n                    page_title: 'USER MAJOR',\n                    data: major\n                });\n            });\n    \n        });\n    };",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    exports.list = function(req, res, next) {\n        req.getConnection(function(err, connection) {\n            if (err) return next(err);\n                /* find user's major */\n            var user_major = function(id, callback) {\n                connection.query('SELECT major FROM user WHERE user_id=' + id, function(err, row) {\n                    if (err) {\n                        return callback(\"Error Selecting : %s \", err);\n                    }\n                    callback(null, row[0].major);\n                });\n            };\n    \n            user_major(req.params.id, function(error, major) {\n                if (error) return next(error);\n                res.render('main/main', {\n                    page_title: 'USER MAJOR',\n                    data: major\n                });\n            });\n    \n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26763749",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "216186118",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require('mongoose');\n    \n    module.exports = mongoose.model('Block',{\n      name:String,\n      status:String,\n      type:String,\n      user_id:Schema.Types.ObjectId,\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9565217391304348,
        "Content": "    var mongoose = require('mongoose');\n    var Schema=mongoose.Schema;\n    module.exports = mongoose.model('Block',{\n      name:String,\n      status:String,\n      type:String,\n      user_id:Schema.Types.ObjectId\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26787620",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "216469997",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    {\n      \"name\": \"Anders\",\n      \"dur\": 3600000,\n      \"staff\": [\n        \"Eric\",\n        \"John\",\n      ],\n      \"unwantedProp\": \"foo\"\n    }\n        \n    var schema = {\n      \"name\": \"string\",\n      \"dur\": \"number\",\n      \"staff\": [\"string\"],\n      \"unwantedProp\": \"foo\"\n    }\n    \n    function validate(source, schema, result){\n    \tresult = result||{}\n    \tvar error\n    \tObject.keys(schema).forEach(function(key){\n    \t\tvar val = source[key]\n    \t\tvar type = schema[key]\n    \t\tif(type === \"string\"){\n    \t\t\tif(typeof val ===\"string\"){\n    \t\t\t\tresult[key] = val\n    \t\t\t}else{\n    \t\t\t\terror = {success:false, message:val+\" is not a string.\"}\n    \t\t\t}\n    \t\t}else if(type === \"number\"){\n    \t\t\tif(typeof val ===\"number\"){\n    \t\t\t\tresult[key] = val\n    \t\t\t}else if (!isNaN(parseInt(val))){\n    \t\t\t\tresult[key] = parseInt(val)\n    \t\t\t}else{\n    \t\t\t\terror = {success:false, message:val+\" is not a number.\"}\n    \t\t\t}\n    \t\t}else if (type.constructor === Array){\n    \t\t\tif(val.constructor === Array){\n    \t\t\t\tvar arr_type = type[0]\n    \t\t\t\tvar valid = true\n    \t\t\t\tval.forEach(function(mem){\n    \t\t\t\t\tif(typeof mem !==arr_type){valid = false}\n    \t\t\t\t})\n    \t\t\t\tif(valid){\n    \t\t\t\t\tresult[key] = val\n    \t\t\t\t}else{\n    \t\t\t\t\terror = {success:false, message:val+\" is not a \"+ arr_type+\" array.\"}\n    \t\t\t\t}\n    \t\t\t}else{\n    \t\t\t\treturn {success:false, message:val+\" is not an array.\"}\n    \t\t\t}\n    \t\t}\n    \t})\n    \treturn error||{sucess:true, result:result}\n    }",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8918918918918919,
        "Content": "    var source ={\n      \"name\": \"Anders\",\n      \"dur\": 3600000,\n      \"staff\": [\n        \"Eric\",\n        \"John\",\n      ],\n      \"unwantedProp\": \"foo\"\n    }\n    \n    var schema = {\n      \"name\": function(name){return typeof name ===\"string\"&&name.length<10},\n      \"dur\": \"number\",\n      \"staff\": [\"string\"],\n    }\n    \n    function validate(source, schema, result){\n        result = result||{}\n        var error\n        Object.keys(schema).forEach(function(key){\n            var val = source[key]\n            var type = schema[key]\n            if(type === \"string\"){\n                if(typeof val ===\"string\"){\n                    result[key] = val\n                }else{\n                    error = {success:false, message:val+\" is not a string.\"}\n                }\n            }else if(type === \"number\"){\n                if(typeof val ===\"number\"){\n                    result[key] = val\n                }else if (!isNaN(parseInt(val))){\n                    result[key] = parseInt(val)\n                }else{\n                    error = {success:false, message:val+\" is not a number.\"}\n                }\n            }else if (type.constructor === Array){\n                if(val.constructor === Array){\n                    var arr_type = type[0]\n                    var valid = true\n                    val.forEach(function(mem){\n                        if(typeof mem !==arr_type){valid = false}\n                    })\n                    if(valid){\n                        result[key] = val\n                    }else{\n                        error = {success:false, message:val+\" is not a \"+ arr_type+\" array.\"}\n                    }\n                }else{\n                    error = {success:false, message:val+\" is not an array.\"}\n                }\n            }else if (typeof type === \"function\"){\n            \tif(type(val)){\n            \t\t result[key] = val\n            \t}else{\n            \t\terror = {success:false, message:\"Custom validation \"+type+ \" returned false for \"+val+\".\"}\n            \t}\n            }\n        })\n        return error||{sucess:true, result:result}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "26967090",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "218540114",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var request = require('request');\n    var cheerio = require('cheerio');\n    var fs = require('fs');\n    var path = require('path');\n    \n    setInterval(function () {\n      request('https://2ch.hk/rf/res/1490589.html', function (error, response, html) {\n        if (!error && response.statusCode == 200) {\n          var $ = cheerio.load(html), text = [];  \n    \n          $('.post-message').each(function (i, element) {\n            fs.appendFileSync(path.join(process.cwd(), 'index.html'), $(this).text(), encoding='utf8');\n          });\n        }\n      });\n    }, 5000);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8354430379746836,
        "Content": "    var request  = require('request');\n    var cheerio  = require('cheerio');\n    var fs       = require('fs');\n    var path     = require('path');\n    var $$       = cheerio.load(fs.readFileSync('./index.html'));\n    \n    setInterval(function () {\n    \n      request('https://2ch.hk/rf/res/1490589.html', function (error, response, html) {\n    \n        if (!error && response.statusCode == 200) {\n          var $ = cheerio.load(html), text = [];  \n    \n          $('.post-message').each(function (i, element) {\n            $$('ul').append('<li>' + $(this).text().trim() + '</li>');\n          });\n    \n          fs.writeFileSync(path.join(process.cwd(), 'index.html'), $$.html(), {'encoding': 'utf-8'});\n       }\n      });\n    \n    }, 5000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27006391",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "218983814",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var parser = document.createElement('a');\n    parser.href = \"http://example.com:3000/pathname/?search=test#hash\";\n     \n    parser.protocol; // => \"http:\"\n    parser.hostname; // => \"example.com\"\n    parser.port;     // => \"3000\"\n    parser.pathname; // => \"/pathname/\"\n    parser.search;   // => \"?search=test\"\n    parser.hash;     // => \"#hash\"\n    parser.host;     // => \"example.com:3000\"",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.12903225806451613,
        "Content": "    var url = require(\"url\");\n    var path = require(\"path\");\n    var parsed = url.parse(\"http://example.com:8080/test/someFile.txt/?attr=100\");\n    console.log(path.basename(parsed.pathname));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27242927",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "221699702",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var crypto=require(\"crypto\"),\n      expiration= new Date();\n    expiration.setDate(expiration.getDate()+1);\n    var policy={\n      expiration:expiration.toISOString(),\n      conditions:[\n        {bucket:bucketName},\n        {key:options.s3Key}\n      ]\n    },\n      encodedPolicy=new Buffer(JSON.stringify(policy)).toString(\"base64\"),\n      signature=crypto.createHmac(\n        \"sha1\", secretKey\n      ).update(encodedPolicy).digest(\"base64\");",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8717948717948718,
        "Content": "    var crypto=require(\"crypto\"),\n      bucketName=\"BUCKETNAME\",\n      secretKey=\"SECRET_KEY\",\n      s3Key=\"KEY\",\n      expiration= new Date();\n    expiration.setDate(expiration.getDate()+1);\n    var policy={\n      expiration:expiration.toISOString(),\n      conditions:[\n        {bucket:bucketName},\n        {key:s3Key}\n      ]\n    },\n      encodedPolicy=new Buffer(JSON.stringify(policy)).toString(\"base64\"),\n      signature=crypto.createHmac(\n        \"sha1\", secretKey\n      ).update(encodedPolicy).digest(\"base64\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27345933",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "222898851",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs'),\n        crypto = require('crypto');\n    var key = '14189dc35ae35e75ff31d7502e245cd9bc7803838fbfd5c773cdcd79b8a28bbd',\n        cipher = crypto.createCipher('aes-256-cbc', key);\n        input = fs.createReadStream('test.txt'),\n        output = fs.createWriteStream('test.txt.enc');\n    input.pipe(cipher).pipe(output);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs');\n    var crypto = require('crypto');\n    var key = '14189dc35ae35e75ff31d7502e245cd9bc7803838fbfd5c773cdcd79b8a28bbd';\n    var cipher = crypto.createCipher('aes-256-cbc', key);\n    var input = fs.createReadStream('test.txt');\n    var output = fs.createWriteStream('test.txt.enc');\n    input.pipe(cipher).pipe(output);\n    output.on('finish', function() {\n      console.log('Encrypted file written to disk!');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27423672",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223796807",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var path = require('path');\n    \n    var views = function (view) { \n        path.join(__dirname, '../views/', view);\n    };\n    \n    router.get('/', function (req, res) {\n        res.sendfile(views('index.html'));\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var router = express.Router();\n    var path = require('path');\n    \n    var views = function (view) { \n        path.join(__dirname, '../views/', view);\n    };\n    \n    router.get('/', function (req, res) {\n        res.sendfile(views('index.html'));\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27430474",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223875919",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    $('#browse-results li').each(function(i, elm) {\n        console.log($(this).text()) // for testing do text() \n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.425531914893617,
        "Content": "    var cheerio = require('cheerio');\n    \n    var html = '<div id=\"browse-results\"> \\\n        <ul class=\"tips cf\"> \\\n            <li>tip11</li> \\\n            <li>tip12</li> \\\n            <li>tip13</li> \\\n        </ul> \\\n        <ul class=\"tips cf\"> \\\n            <li>tip21</li> \\\n            <li>tip22</li> \\\n            <li>tip23</li> \\\n        </ul> \\\n        <ul class=\"tips cf\"> \\\n            <li>tip31</li> \\\n            <li>tip32</li> \\\n            <li>tip33</li> \\\n        </ul> \\\n        <ul class=\"tips cf\"> \\\n            <li>tip41</li> \\\n            <li>tip42</li> \\\n            <li>tip43</li> \\\n        </ul> \\\n    </div>';\n    \n    var $ = cheerio.load(html);\n    \n    $('#browse-results li').each(function(i, elm) {\n    \tconsole.log($(this).text()) // for testing do text() \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27491497",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224581401",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.create = function(req, res) {\n      var reg = new Registration(req.body);\n    \n      reg.save(function(err, registration) {\n        if(err) { return handleError(res, err); }\n    \n          //update history of the user\n          var tripId = mongoose.Types.ObjectId(registration.tripId);\n          var userId = mongoose.Types.ObjectId(req.user._id);\n          var childId = mongoose.Types.ObjectId(registration.childId);\n          User.findById(userId, function (err, user) {\n              if (err) {\n                return handleError(res, err);\n              }\n              if (!user){\n               return res.send(401);}\n    \n    \n            if(registration.isReservation){\n                  user.reservations.push({\n                      childId: childId,\n                      tripId: tripId,\n                      registrationId: registration._id});\n              } else {\n                  user.tripsHistory.push({\n                      childId: childId,\n                      tripId: tripId});\n              }\n              user.save(function (err) {\n                  if (err) return handleError(res, err);\n              });\n          });\n    \n          //update capacity of trip\n          Trip.findById(tripId, function (err, trip) {\n              if (err) return handleError(res, err);\n              if (!trip) return res.send(404);\n              trip.attendingChildren = trip.attendingChildren+1;\n              trip.save(function (err) {\n                  if (err) return handleError(res, err);\n              });\n          });\n    \n        return res.json(201, registration);\n      }); \n    };",
        "MostRecentVersion": "0",
        "Errors": 11,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.19834710743801653,
        "Content": "    'use strict';\n    \n    var mongoose = require('mongoose'),\n        Schema = mongoose.Schema;\n    \n    mongoose.connect('mongodb://localhost/createid');\n    \n    var RegistrationSchema = new Schema({\n    \n        isReservation: Boolean,\n    \n        //Id of the trip\n        tripId: String,\n    \n        //socialMutuality\n        codeGerechtige: String,\n        socialMutualityNumberParent1: String,\n        socialMutualityNumberParent2: String,\n    \n        //contact\n        userId: String,\n        firstnameContact: String,\n        lastnameContact: String,\n        emailContact: String,\n        streetContact: String,\n        streetNumberContact: String,\n        zipcodeContact: String,\n        busContact: String,\n        cityContact: String,\n        phoneContact: String,\n        gsmContact: String,\n        socialSecurityNumberContact: String,\n    \n        //coordinats of person that pays\n    \n        //child information\n    \n        //emergency contacts\n        emergencyContacts: [{\n            firstName: String,\n            lastName: String,\n            phone: String\n        }],\n    \n        extraInfo: String\n    \n    });\n    \n    var Registration = mongoose.model('Registration', RegistrationSchema);\n    \n    var reg = {\n        userId: '1234',\n        tripId: '2345',\n        firstnameContact: 'Timothy',\n        lastnameContact: 'Strimple',\n        emailContact: 'tim@tstrimple.com'\n    };\n    \n    Registration.create(reg, function(err, registration) {\n        if(err) { throw err; }\n        console.log(registration._id);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27519790",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224911956",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //Put a *LAST* test to clear all if needed:\n    exports.last_test = function(test){\n        do_clear_all_things();\n        setTimeout(process.exit, 500); // exit in 500 milli-seconds    \n        test.done(); \n    } ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9523809523809523,
        "Content": "    //Put a *LAST* test to clear all if needed:\n    exports.last_test = function(test){\n        //do_clear_all_things_if_needed();\n        setTimeout(process.exit, 500); // exit in 500 milli-seconds    \n        test.done(); \n    } ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27526880",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224991292",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var foo = (your code here...)\n    \n    // Hack to use same file in npm and Bower\n    if ((typeof module === 'undefined') && !(typeof module.exports === 'undefined')) {\n      module.exports = foo;\n    }",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.14285714285714285,
        "Content": "    module.exports = require('your-original-module.js');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27533293",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "225065990",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var sendgrid = require('./sendgrid');\n    sendgrid.send( from_address, text_body, html_body, callback );",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.16666666666666666,
        "Content": "    module.exports.set = function(app) {\n      app.post('/', function(req, res) { \n          /* the post code goes here */ \n      });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27550983",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225277935",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function streamChunk(stream, size, dataCallback, doneCallback) {\n      function getChunk() {\n        var data = stream.read(size);\n        if(data != null) {\n          dataCallback(data);\n          setImmediate(getChunk);\n        }\n      }\n    \n      stream.on('readable', function() {\n        function getChunk() {\n          stream.read(n)\n        }\n      });\n    \n      stream.on('end', doneCallback);  \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8947368421052632,
        "Content": "    function streamChunk(stream, size, dataCallback, doneCallback) {\n      function getChunk() {\n        var data = stream.read(size);\n        if(data != null) {\n          dataCallback(data);\n          setImmediate(getChunk);\n        }\n      }\n    \n      stream.on('readable', getChunk);\n      stream.on('end', doneCallback);  \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27567436",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225471010",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    let person = {name: 'John Smith'};   \n    tag `My name is ${person.name}.`",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    let person = {name: 'John Smith'}; \n    let tag = (strArr, name) => strArr[0] + name.toUpperCase() + strArr[1];  \n    tag `My name is ${person.name}!` // Output: My name is JOHN SMITH!",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27823828",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "228519252",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var module = {\n        events: [],\n        item: { 'name': 'Test module' },\n        updateName: function(value) {\n            this.item.name = value;\n            if (callback) {\n                callback(this.item);\n            }\n            this.dispatchEvent('update', this.item);\n        },\n        addEvent: function(name, callback) {\n            if (!this.events[name]) { this.events[name] = []; }\n            this.events[name].push(callback);\n        },\n        removeEvent: function(name, callback) {\n            if (this.events[name]) {\n                if (callback) {\n                    for (var i=0; i<this.events[name].length; ++i) {\n                      if (this.events[name][i] === callback) { this.events[name].splice(i, 1); return true; }\n                    }\n                }\n                else { delete this.events[name]; }\n            }\n        },\n        dispatchEvent: function(name, data) {\n            if (this.events[name]) {\n                for (var i=0; i<this.events[name].length; ++i) {\n                    this.events[name][i]({ data: data, target: this, type: name});\n                }\n            }\n        }\n    };\n    module.updateName('Dan'); // no callback, no event\n    module.updateName('Ted', function (item) { console.log(item); }); // callback, no event\n    module.addEvent('update', function (item) { console.log(item); }); // add an event\n    module.updateName('Sal'); // no callback, event callback\n    module.addEvent('update', function (item) { console.log('event2', item); }); // add a second event\n    module.updateName('Jim'); // no callback, two event callbacks",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var module = {\n        events: [],\n        item: { 'name': 'Test module' },\n        updateName: function(value, callback) {\n            this.item.name = value;\n            if (callback) {\n                callback(this.item);\n            }\n            this.dispatchEvent('update', this.item);\n        },\n        addEvent: function(name, callback) {\n            if (!this.events[name]) { this.events[name] = []; }\n            this.events[name].push(callback);\n        },\n        removeEvent: function(name, callback) {\n            if (this.events[name]) {\n                if (callback) {\n                    for (var i=0; i<this.events[name].length; ++i) {\n                      if (this.events[name][i] === callback) { this.events[name].splice(i, 1); return true; }\n                    }\n                }\n                else { delete this.events[name]; }\n            }\n        },\n        dispatchEvent: function(name, data) {\n            if (this.events[name]) {\n                for (var i=0; i<this.events[name].length; ++i) {\n                    this.events[name][i]({ data: data, target: this, type: name});\n                }\n            }\n        }\n    };\n    module.updateName('Dan'); // no callback, no event\n    module.updateName('Ted', function (item) { console.log(item); }); // callback, no event\n    module.addEvent('update', function (item) { console.log(item); }); // add an event\n    module.updateName('Sal'); // no callback, event callback\n    module.addEvent('update', function (item) { console.log('event2', item); }); // add a second event\n    module.updateName('Jim'); // no callback, two event callbacks",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27868341",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "229046472",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var gulp = require('gulp'\n    var react = require('gulp-react')\n    \n    gulp.task('transpile-js', function() {\n      return gulp.src('./src/**/*.jsx')\n        .pipe(react({harmony: true}))\n        .pipe(gulp.dest('./lib'))\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    var gulp = require('gulp')\n    var react = require('gulp-react')\n    \n    gulp.task('transpile-js', function() {\n      return gulp.src('./src/**/*.jsx')\n        .pipe(react({harmony: true}))\n        .pipe(gulp.dest('./lib'))\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27913446",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "229577561",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function addTask(task) {\n       if (task.when*1000 < MAX_TIME) {\n           setTimeout(task.what, task.when);\n       }\n       else {\n           task.when -= MAX_TIME/1000;\n           setTimeout(addTask.bind(null, task), MAX_TIME);\n       }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var MAX_TIME = 2147483647;\n    function addTask(task) {\n       if (task.when*1000 < MAX_TIME) {\n           setTimeout(task.what, task.when);\n       }\n       else {\n           task.when -= MAX_TIME/1000;\n           setTimeout(addTask.bind(null, task), MAX_TIME);\n       }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "27997178",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "230559547",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    otherscript = require('otherscript');\n    var obj = otherscript();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var otherscript = require('otherscript');\n    var obj = otherscript();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28023320",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "230863168",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs'),\n        sleep = require('sleep'),\n        exec = require('child_process').exec,\n        async = require('async'),\n        readline = require('readline');\n    \n    var rd = readline.createInterface({\n        input: fs.createReadStream('file.txt'),\n        output: process.stdout,\n        terminal: false\n    });\n    \n    var q = async.queue(function (task, callback) {\n        var child = exec('casperjs check.js ' + line );\n        child.on('close', function(code) {\n            callback(code);\n        });\n    }, 1);\n    \n    rd.on('line', function(line) {\n        q.push({line: line}, function (code) {\n            console.log('closing code: ' + code);\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs'),\n    sleep = require('sleep'),\n    exec = require('child_process').exec,\n    async = require('async'),\n    readline = require('readline');\n    var rd = readline.createInterface({\n    input: fs.createReadStream('file.txt'),\n    output: process.stdout,\n    terminal: false\n    });\n    var q = async.queue(function (task, callback) {\n    var child = exec('casperjs check.js ' + task.line );\n    \n    child.on('close', function(code) {\n        callback(code);\n    });\n    }, 1);\n    rd.on('line', function(line) {\n    q.push({line: line}, function (code) {\n        console.log('closing code: ' + code + line);\n        JSON.stringify();\n    });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28023320",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "230863166",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs'),\n        sleep = require('sleep'),\n        exec = require('child_process').exec,\n        readline = require('readline');\n    \n    var rd = readline.createInterface({\n        input: fs.createReadStream('file.txt'),\n        output: process.stdout,\n        terminal: false\n    });\n    \n    var lines = [];\n    rd.on('line', function(line) {\n        lines.push(line);\n    });\n    rd.on('end', function() {\n        var i=0;\n        if(i < lines.length) {\n            child = exec('casperjs check.js ' + lines[i], function execCallback(code) {\n                console.log('closing code: ' + code);\n                i++;\n                if(i < lines.length) exec('casperjs check.js ' + lines[i], execCallback);\n            });\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs'),\n        sleep = require('sleep'),\n        exec = require('child_process').exec,\n        readline = require('readline');\n    \n    var rd = readline.createInterface({\n        input: fs.createReadStream('file.txt'),\n        output: process.stdout,\n        terminal: false\n    });\n    \n    var lines = [];\n    rd.on('line', function(line) {\n        lines.push(line);\n    });\n    rd.on('end', function() {\n        var i=0;\n        if(i < lines.length) {\n            exec('casperjs check.js ' + lines[i], function execCallback(code) {\n                console.log('closing code: ' + code);\n                i++;\n                if(i < lines.length) exec('casperjs check.js ' + lines[i], execCallback);\n            });\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28032438",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "230970459",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function task(callback) {\n        return function() {\n            var generator = callback.apply(this, [].splice(arguments));\n    \n            return new Promise(function(resolve, reject) {\n                (function onValue(lastValue) {\n                    var result = generator.next(lastValue);\n    \n                    var value = result.value;\n                    var done  = result.done;\n    \n                    done ? resolve(value) : value.then(onValue, reject);\n                })();\n            });\n        };\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function spawn(generator) {\n      return function() {    \n        var iter = generator.apply(this, arguments);\n        return Promise.resolve().then(function onValue(lastValue){\n          var result = iter.next(lastValue); \n          var done  = result.done;\n          var value = result.value;\n          if (done) return value; // generator done, resolve promise\n          return Promise.resolve(value).then(onValue, iter.throw.bind(iter)); // repeat\n        });\n      };\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28094050",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "231692375",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Benchmark = require('benchmark')\n    var suite = new Benchmark.Suite\n    \n    myEventHandler = function() {\n      // do something\n    }\n    \n    function myEventHandler2() {\n      // do something\n    }\n    \n    suite.add('Anonymous', function() {\n      for (var i = 0; i < 10000; ++i) {\n        var x = function() {};\n      }\n    })\n    .add('Function Expression', function() {\n      for (var i = 0; i < 10000; ++i) {\n        var x = myEventHandler();\n      }\n    })\n    .add('Function Declaration', function() {\n      for (var i = 0; i < 10000; ++i) {\n        var x = myEventHandler2();\n      }\n    })\n    .on('cycle', function(e) {\n      console.log(String(e.target))\n    })\n    .on('complete', function() {\n      console.log('Fastest is ' + this.filter('fastest').pluck('name'))\n    })\n    .run({ 'async': true })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    \"use strict\";\n    \n    var Benchmark = require('benchmark')\n    var suite = new Benchmark.Suite\n    \n    var stuff = [1,2,3,4,5,6,9,8,9,10,11,12,13,14,15];\n    \n    var myEventHandler = function() {\n      // do something\n    };\n    \n    function myEventHandler2() {\n      // do something\n    };\n    \n    suite.add('Anonymous', function() {\n      for (var i = 0; i < 10000; ++i) {\n        stuff.forEach(function() {\n          // do something\n        });\n      }\n    })\n    .add('Function Expression', function() {\n      for (var i = 0; i < 10000; ++i) {\n        stuff.forEach(myEventHandler);\n      }\n    })\n    .add('Function Declaration', function() {\n      for (var i = 0; i < 10000; ++i) {\n        stuff.forEach(myEventHandler2);\n      }\n    })\n    .on('cycle', function(e) {\n      console.log(String(e.target))\n    })\n    .on('complete', function() {\n      console.log('Fastest is ' + this.filter('fastest').pluck('name'))\n    })\n    .run({ 'async': true });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28116372",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "231957505",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //in the main file\n    var express = require(\"express\");\n    var bodyparser = require(\"body-parser\");\n    var app = express();\n    app.use(bodyparser);\n    app.put(\"/api/model/:model\", model.put);\n    app.listen(8000);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.631578947368421,
        "Content": "    //in the main file\n    var express = require(\"express\");\n    var app = express();\n    var body = require('body-parser');\n    app.use(body.json());\n    app.put(\"/api/model/:model\", function (req, res){\n        console.log(req.body);\n        res.json({\"hello\": \"world\"});\n    });\n    app.listen(8000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28160274",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "232468561",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    MongoClient.connect('mongodb://localhost:27017/school', function(err, db) {\n      if(err) throw err;\n    \n      var collection = db.collection('students');\n      var cursor = collection.find({});\n    \n      cursor.each(function(err, doc) {\n            if(err) throw err;\n    \t\t\n    \t\tif(doc == null)\t{\n    \t\t\treturn db.close();\n    \t\t}\n    \t\t\n    \t\tupdateScore(err, doc);\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n     \n    var cursor = null,\n        collection = null,\n        dbSrc = null;\n     \n    var removeLowestHWScore = function(scores) {\n      var lowestHWID = -1;\n      for(var i=0;i<scores.length; i++) {\n        if (scores[i].type === 'homework') {\n          if (lowestHWID === -1) {\n            lowestHWID = i;\n          } else if (scores[i].score < scores[lowestHWID].score) {\n            lowestHWID = i;\n          }\n        }\n      }\n      // scores.splice(lowestHWID);\n      if (lowestHWID >= 0)\n        scores.splice(lowestHWID, 1);\n      return scores;\n    };\n     \n    var callback = function(err, r) {\n      if (err) throw err;\n      console.log('updated record');\n      cursor.nextObject(updateScore);\n    };\n     \n    var updateScore = function(err, doc) {\n      if (err) throw err;\n     \n      if (doc === null)\n        return dbSrc.close();\n      var updatedScores = removeLowestHWScore(doc.scores);\n      collection.update({_id:doc._id},\n                           {$set: {scores: updatedScores }},\n                           callback);\n    };\n     \n    MongoClient.connect('mongodb://localhost:27017/school', function(err, db) {\n      if(err) throw err;\n     \n      dbSrc = db;\n      collection = db.collection('students');\n      cursor = collection.find({});\n     \n      cursor.nextObject(updateScore);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28341858",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "234566493",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var find = ['blockID3', 'blockID4'];\n    var out = {};\n    \n    for (var p in obj) {\n        if (find.indexOf(p) > -1) {\n          out[p] = obj[p];\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8292682926829268,
        "Content": "    var obj = {\"blockID1\":{\"name\":\"name here\",\"locale\":\"en_GB\"},\"blockID2\":{\"name\":\"name here\",\"locale\":\"en_GB\"},\"blockID3\":{\"name\":\"name here\",\"locale\":\"en_GB\"},\"blockID4\":{\"name\":\"name here\",\"locale\":\"en_GB\"}};\n    var find = ['blockID3', 'blockID4'];\n    var out = {};\n    for (var p in obj) {\n        if (find.indexOf(p) > -1) {\n          out[p] = obj[p];\n        }\n    }\n    console.log(out);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28397970",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "235230394",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    foo = BAR",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7058823529411765,
        "Content": "    class Custom {\n        constructor(foo) {\n            this.foo = foo;\n        }\n    \n        inspect(depth, opts) {\n            return 'foo = ' + this.foo.toUpperCase();\n        }\n    }\n    \n    var custom = new Custom('bar');\n    console.log(custom);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28434859",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "235655533",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function SetToNoneIfEmpty (out value) {\n        if (value === '') {\n            value = 'none';\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    function setToNoneIfEmpty (stringInput) {\n        if (stringInput === '') {\n            stringInput = 'none';\n        }\n        return stringInput;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28443976",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "235761647",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var onevar = 'value'; // <-- superbad! You just ended this statement!\n        another = 'val2'; // <-- now this variable leaked into global scope!\n    // Proper:\n    var var onevar = 'value';\n    var another = 'val2';\n    // Also proper:\n    var onevar = 'value',\n        another = 'val2';",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var onevar = 'value'; // <-- superbad! You just ended this statement!\n        another = 'val2'; // <-- now this variable leaked into global scope!\n    // Proper:\n    var onevar = 'value';\n    var another = 'val2';\n    // Also proper:\n    var onevar = 'value',\n        another = 'val2';",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28482722",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "236206712",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "var path = require('path');\nvar userName = process.env['USERPROFILE'].split(path.sep)[2];\nvar loginId = path.join(\"domainName\",userName);\nconsole.log(loginid);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var path = require('path');\n    var userName = process.env['USERPROFILE'].split(path.sep)[2];\n    var loginId = path.join(\"domainName\",userName);\n    console.log(loginId);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28485885",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "236243300",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.stdin.setEncoding('utf8');\n    process.stdin.setRawMode(true);      \n    \n    var util = require('util');\n    var pty = require('pty.js');\n    var term = pty.spawn('bash', [], {\n       name: 'xterm-color',\n       cols: process.stdout.cols,\n       rows: process.stdout.rows,\n       cwd: '.',\n       env: process.env\n    });\n    term.pipe(process.stdout);\n    process.stdin.pipe(term);\n    term.on('close', function () {\n        process.exit();\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    process.stdin.setEncoding('utf8');\n    process.stdin.setRawMode(true);      \n    \n    var pty = require('pty.js');\n    var term = pty.spawn('bash', [], {\n       name: 'xterm-color',\n       cols: process.stdout.columns,\n       rows: process.stdout.rows,\n       cwd: '.',\n       env: process.env\n    });\n    term.pipe(process.stdout);\n    process.stdin.pipe(term);\n    term.on('close', function () {\n        process.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28533885",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "236814113",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "var cp = require('child_process');\ncp.fork(__dirname + '/request data.js');\nSee\nhttp://nodejs.org/api/child_process.html",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    var cp = require('child_process');\n    cp.fork(__dirname + '/request data.js');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28622667",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "237857955",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var User = new require('../lib/user')();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    var User = new (require('../lib/user'))();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28627700",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237916625",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    [\n        { key: \"ES\", value: 5 },\n        { key: \"EN\", value: 3 },\n        { key: \"IT\", value: 4 }\n    }]",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    [\n        { key: \"ES\", value: 5 },\n        { key: \"EN\", value: 3 },\n        { key: \"IT\", value: 4 }\n    ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28670571",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "238422286",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var object = {\n      a: [\"A1\"],\n      b: [\"B1\", \"B2\"],\n      c: [\"C1\", \"C2\", \"C3\", \"C4\"]\n    };\n    var keys = Object.keys(object);\n    var obj = {};\n    $(keys).each(function(k, v) {\n      for (var i = 0; i < object[v].length; i++) {\n        obj[object[v][i]] = v;\n      }\n    });\n    console.log(obj);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "2",
        "PredEqual": "0",
        "PredSimilarity": 0.8070175438596491,
        "Content": "    var object = {\n      a: [\"A1\"],\n      b: [\"B1\", \"B2\"],\n      c: [\"C1\", \"C2\", \"C3\", \"C4\"]\n    };\n    var keys = Object.keys(object);\n    var obj = {};\n    for(var j=0,l=keys.length;j<l;j++){\n      for (var i = 0; i < object[keys[j]].length; i++) {\n        obj[object[keys[j]][i]] = keys[j];\n      }\n    }\n    console.log(obj);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28670571",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "238422281",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var object = {\n        a: [\"A1\"],\n        b: [\"B1\", \"B2\"],\n        c: [\"C1\", \"C2\", \"C3\", \"C4\"]\n    };\n    var obj={};\n    $(object).each(function(k,v){\n       $(this).each(function(i,j){\n           obj[j]=k;\n       });\n    });\n    console.log(obj);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "2",
        "PredEqual": "0",
        "PredSimilarity": 0.8070175438596491,
        "Content": "    var object = {\n      a: [\"A1\"],\n      b: [\"B1\", \"B2\"],\n      c: [\"C1\", \"C2\", \"C3\", \"C4\"]\n    };\n    var keys = Object.keys(object);\n    var obj = {};\n    for(var j=0,l=keys.length;j<l;j++){\n      for (var i = 0; i < object[keys[j]].length; i++) {\n        obj[object[keys[j]][i]] = keys[j];\n      }\n    }\n    console.log(obj);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28729682",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "239113700",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express')\n    var app = express()\n    var serv = require('http').createServer(app)\n    var io = io.listen(server)\n    \n    serv.listen(80);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7272727272727273,
        "Content": "    var express = require('express')\n    var app = express()\n    var server = require('http').createServer(app)\n    var io = require('socket.io')(server)\n    \n    server.listen(80);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28749643",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "239342954",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var fs = require('fs');\n    var Q = require('q');\n    \n    function readFirstLine (path) {\n      return Q.promise(function (resolve, reject) {\n        var rs = fs.createReadStream(path, {encoding: 'utf8'});\n        var acc = '';\n        var first = true;\n        var pos = 0;\n        var index;\n        rs\n          .on('data', function (chunk) {\n            if (first) {\n              index = chunk.indexOf('\\n');\n              if (index !== -1) {\n                acc = chunk;\n                rs.close();\n              } else {\n                acc += chunk;\n                pos += chunk.length;\n                first = false;\n              }\n            } else {\n              index = chunk.indexOf('\\n');\n              acc += chunk;\n              index !== -1 ? rs.close() : pos += chunk.length;\n            }\n          })\n          .on('close', function () {\n            first ? resolve(acc.slice(0, index)) : resolve(acc.slice(0, pos + index));\n          })\n          .on('error', function (err) {\n            reject(err);\n          })\n      });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs');\n    var Q = require('q');\n    \n    function readFirstLine (path) {\n      return Q.promise(function (resolve, reject) {\n        var rs = fs.createReadStream(path, {encoding: 'utf8'});\n        var acc = '';\n        var pos = 0;\n        var index;\n        rs\n          .on('data', function (chunk) {\n            index = chunk.indexOf('\\n');\n            acc += chunk;\n            index !== -1 ? rs.close() : pos += chunk.length;\n          })\n          .on('close', function () {\n            resolve(acc.slice(0, pos + index));\n          })\n          .on('error', function (err) {\n            reject(err);\n          })\n      });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28784989",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "239759560",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var foo = function(d) { return d + 1 })\n    var bar = function(d) { return foo(d) + 2 }\n    var baz = function(d) { return foo(d) + bar(d) + 3 })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9655172413793104,
        "Content": "    var foo = function(d) { return d + 1 }\n    var bar = function(d) { return foo(d) + 2 }\n    var baz = function(d) { return foo(d) + bar(d) + 3 }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28955050",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241744925",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    (function (exports, require, module, __filename, __dirname) {\n        // our actual module code\n    \\n});",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    (function (exports, require, module, __filename, __dirname) {\n        // our actual module code\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "28974099",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241960803",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var main = async(function* () {\n        var reading = yield readSensor();\n        console.log(reading);\n        var reading = yield readSensor();\n        console.log(reading);\n    });\n    main();",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Promise = require('q');\n    var main = async(function* () {\n        var reading = yield readSensor();\n        console.log(reading);\n        reading = yield readSensor();\n        console.log(reading);\n    });\n    main();\n    function readSensor() {\n        return Promise.delay(2000).thenResolve(Math.random() * 100);\n    }\n    /***********************************************************\n     * From here down,                                         *\n     * boilerplate  async() function from article linked above *\n     ***********************************************************/\n    \n    function async(makeGenerator){\n      return function () {\n        var generator = makeGenerator.apply(this, arguments);\n    \n        function handle(result){\n          // result => { done: [Boolean], value: [Object] }\n          if (result.done) return Promise.resolve(result.value);\n    \n          return Promise.resolve(result.value).then(function (res){\n            return handle(generator.next(res));\n          }, function (err){\n            return handle(generator.throw(err));\n          });\n        }\n    \n        try {\n          return handle(generator.next());\n        } catch (ex) {\n          return Promise.reject(ex);\n        }\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29069322",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243074881",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var net = require('net');\n    var Promise = require('bluebird');\n    \n    function checkConnection(host, port, timeout) {\n        return new Promise(function(resolve, reject) {\n            timeout = timeout || 10000;     // default of 10 seconds\n            var timer = setTimeout(function() {\n                reject(\"timeout\");\n                socket.end();\n            }, timeout);\n            var socket = net.createConnection([port, host, function() {\n                clearTimeout(timer);\n                resolve();\n                socket.end();\n            });\n            socket.on('error', function(err) {\n                clearTimeout(timer);\n                reject(err);\n            });\n        });\n    }\n    \n    checkConnection(\"example1.com\", 8080).then(function() {\n        // successful\n    }, function(err) {\n        // error\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975,
        "Content": "    var net = require('net');\n    var Promise = require('bluebird');\n    \n    function checkConnection(host, port, timeout) {\n        return new Promise(function(resolve, reject) {\n            timeout = timeout || 10000;     // default of 10 seconds\n            var timer = setTimeout(function() {\n                reject(\"timeout\");\n                socket.end();\n            }, timeout);\n            var socket = net.createConnection(port, host, function() {\n                clearTimeout(timer);\n                resolve();\n                socket.end();\n            });\n            socket.on('error', function(err) {\n                clearTimeout(timer);\n                reject(err);\n            });\n        });\n    }\n    \n    checkConnection(\"example1.com\", 8080).then(function() {\n        // successful\n    }, function(err) {\n        // error\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29107332",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "243512151",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    getSomething: function(request, reply) {\n       Promise.resolve()\n       .then(function() {\n           return db.find() //etc. etc.\n       })\n       .then(function(){  \n           //refactor your implementation to return a promise\n           return stuff.doSomeReallyLongAndBoringFunction(resultFromPromise);\n       })\n       .then(function(data) {\n           ...\n       });\n    };",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.24489795918367346,
        "Content": "    var Promise = require('bluebird');     \n    \n    function myAsync() {\n        setTimeout(function(){\n            return 'done sleeping';\n        }, 2000);\n    };\n    \n    //The way your code is running \n    Promise.resolve()\n        .then(function(){\n            return 'hello';\n        })\n        .then(function(done){\n            console.log(done);\n            return myAsync();   //your error is here\n        })\n        .then(function(done){\n            console.log(done);\n        });\n    \n    \n    //refactored\n    Promise.resolve()\n        .then(function(){\n            return 'hello';\n        })\n        .then(function(done){\n            console.log(done);\n    \n            return new Promise(function(resolve) {\n                setTimeout(function(){\n                    resolve('done sleeping');\n                }, 2000);\n            });\n        })\n        .then(function(done){\n            console.log(done);\n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29148372",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243986601",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log(arguments.callee.name); // output is \"myMethod\"",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    var myMethod = function myMethod () {    \n        console.log(arguments.callee.name); // output is \"myMethod\"\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29186825",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "244434660",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function loadAll(list, fn) {\n        var cnt = list.length;\n        var responses = [];\n        \n        list.forEach(function(url, index) {\n            request(url, function(error, response, body) {\n                if (error) {\n                    fn(error);\n                } else {\n                    responses[index] = response;\n                    --cnt;\n                    if (cnt === 0) {\n                        fn(0, responses);\n                    }\n                }\n            });\n        })\n        \n    }\n    \n    \n    loadAll(['yahoo.com', 'gmail.com'], function(err, results) {\n        if (!err) {\n            // process results array here\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9210526315789473,
        "Content": "    var request = require('request');\n    function loadAll(list, fn) {\n        var cnt = list.length;\n        var responses = [];\n        \n        list.forEach(function(url, index) {\n            request(url, function(error, response, body) {\n                if (error) {\n                    fn(error);\n                } else {\n                    responses[index] = response;\n                    --cnt;\n                    if (cnt === 0) {\n                        fn(0, responses);\n                    }\n                }\n            });\n        })\n        \n    }\n    \n    \n    loadAll(['http://www.yahoo.com', 'http://www.gmail.com'], function(err, results) {\n        if (!err) {\n            // process results array here\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29346218",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "246298984",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var pg = require('pg');\n    var connectionString = \"connection string\";\n    var myType = [\n      12345,\n      'you'\n    ];\n    pg.connect(connectionString, function(err, client, done) {\n       client.query('SELECT myFunction($1::myType)', \n         ['(' + myType.toString() + ')' ],   \n         function(err, result) {\n          // do stuff\n        done();\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9642857142857143,
        "Content": "    var pg = require('pg');\n    var connectionString = \"connection string\";\n    var myType = [\n      12345,\n      'you'\n    ];\n    pg.connect(connectionString, function(err, client, done) {\n       client.query('SELECT myFunction($1::myType)', \n         ['(' + myType.join(',') + ')' ],   \n         function(err, result) {\n          // do stuff\n        done();\n       });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29379055",
    "RootLocalId": "14",
    "RootPostBlockVersionId": "246685701",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require(\"mongoose\");\n    module.exports = config => {\n        configure(mongoose, config);\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var mongoose = require(\"mongoose\");\n    function configure (db, cfg) { /* ... */ return db; }\n    module.exports = config => {\n        var configuredDB = configure(mongoose, config);\n        return configuredDB;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29379055",
    "RootLocalId": "12",
    "RootPostBlockVersionId": "246685698",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = mongoose => {\n        doSomethingWithMongoose(mongoose);\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function doSomeInitWithMongoose (db) { /* ... */ }\n    function doSomeRuntimeWithMongoose (db, params) { /* ... */ }\n    module.exports = mongoose => {\n        doSomeInitWithMongoose(mongoose);\n        return {\n          run: params => {\n            /* ... app is run here ... */\n            doSomeRuntimeWithMongoose(mongoose, params);\n          }\n        };\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29544804",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "248623398",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (function (global) {\n        \"use strict\";\n        gloabl.echo = function echo(input) {\n            process.stdout.write(input);\n        }\n    })(this);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    \"use strict\";\n    global.echo = function echo(input) {\n        process.stdout.write(input);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29681533",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250032358",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "module.exports = function setupJustServeTheAppEverywhere() {\n   return function (req, res, next) {\n      res.sendFile(__dirname + '/public/index.html');\n   }\n};\nAnd have the config load that.",
        "MostRecentVersion": "0",
        "Errors": 12,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7857142857142857,
        "Content": "    module.exports = function setupJustServeTheAppEverywhere() {\n       return function (req, res, next) {\n          res.sendFile(__dirname + '/public/index.html');\n       }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29693936",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250165312",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = express();\n    \n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({\n            extended: false\n    }));\n    \n    var api = require('./api');\n    app.use('/api', api);\n    \n    \n    var server = app.listen(3000, function () {\n    \n      var host = server.address().address;\n      var port = server.address().port;\n    \n      console.log('Example app listening at http://%s:%s', host, port);\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8615384615384616,
        "Content": "    var express = require('express');\n    var app = express();\n    var bodyParser = require('body-parser');\n    app.use(bodyParser.json()); // for parsing application/json\n    app.use(bodyParser.urlencoded({ extended: true })); // for parsing application/x-www-form-urlencoded\n    \n    var api = require('./api');\n    app.use('/api', api);\n    \n    \n    var server = app.listen(3000, function () {\n    \n      var host = server.address().address;\n      var port = server.address().port;\n    \n      console.log('Example app listening at http://%s:%s', host, port);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29734376",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250599774",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    }\n    \n    //...\n    \n    global.api = new Api(global);\n    \n    //...\n    \n    function Api(global) {\n      var port = global.settings.port;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var global = {\n      settings: {\n        port: 8080\n      }\n    }\n    \n    //...\n    \n    global.api = new Api(global);\n    \n    //...\n    \n    function Api(global) {\n      var port = global.settings.port;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29759982",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250868096",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.use(express.static(__dirname + '/public'));\n    \n    app.get('/report', function(req, res){\n        res.sendFile(__dirname + '/public/report.html');\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.64,
        "Content": "    var express = require(\"express\");\n    var app = express();\n    \n    app.use(express.static(__dirname + '/public'));\n    \n    app.get('/report', function(req, res){\n        res.sendFile(__dirname + \"/public/report.html\");\n    });\n    \n    app.listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29838102",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "251707824",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    module.exports = gulp;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4,
        "Content": "    var gulp = require('gulp');\n    require('./gulpfile');\n    gulp.start('someTask');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29851396",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "251848117",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // we want cool stuff from routes.js\n    var coolStuff = require('./app/routes.js');\n    // someVariable from ./app/routes.js is now assigned to coolStuff\n    someVariable(); // ERROR: object is not a function",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    // we want cool stuff from routes.js\n    var coolStuff = require('./app/routes.js');\n    // someObject from ./app/routes.js is now assigned to coolStuff\n    coolStuff(); // ERROR: object is not a function\n    console.log(typeof coolStuff) // \"object\"",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "29989918",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "253133203",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "       module.exports = function (app, passport) {\n           app.post('/', handler);\n           // no need to return app\n       }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "       module.exports = function (app, passport) {\n           app.post('/', function(req, res) {\n             //...\n           });\n           // no need to return app\n       }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30110223",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253937886",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var sockets = {};\n    \n    sockets.init = function (server) {\n        // socket.io setup\n        io = require('socket.io').listen(server);\n        io.sockets.on('connection', function (socket) {\n            console.log('socket connected');\n            // other logic\n        }\n        \n    }\n    \n    module.exports = sockets;\n    ",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.972972972972973,
        "Content": "    var sockets = {};\n    \n    sockets.init = function (server) {\n        // socket.io setup\n        var io = require('socket.io').listen(server);\n        io.sockets.on('connection', function (socket) {\n            console.log('socket connected');\n            // other logic\n        });\n        \n    }\n    \n    module.exports = sockets;\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30112604",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253954989",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    fs.access(__dirname, fs.W_OK, function(err) {\n      if(err){\n        console.error(\"can't write\");\n        process.exit(1);\n      }\n      console.log(\"can write\");\n      process.exit(0);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    var fs = require('fs');\n    fs.access(__dirname, fs.constants.W_OK, function(err) {\n      if(err){\n        console.error(\"can't write\");\n        process.exit(1);\n      }\n      console.log(\"can write\");\n      process.exit(0);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30195286",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "128352908",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function validatorDayOfMonth(v) {\n      // Obviously replace the year with the correct value for leap years.\n      // Within a validation function `this` refers to the root document being validated.\n      return ((v == '*') || new Date(2015, this.date.months + 1, v).getDate() === v;)\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9428571428571428,
        "Content": "    function validatorDayOfMonth(v) {\n      // Obviously replace the year with the correct value to account for leap years.\n      // Within a validation function `this` refers to the root document being validated.\n      return ((v === '*') || new Date(2015, this.date.months, v).getDate() === v);\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30282425",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "129387002",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    /*\n     * Dependencies\n     */\n    var textUtils = require('path/to/lib').Text;\n    \n    /*\n     * Model\n     */\n    function Twitter() {}\n    /*\n     * Instance Methods\n     */\n    Twitter.prototype.parseTweet = function(data)\n        \n        // other code...\n        this.text = textUtils.cleanText(data);\n        // other code...\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    /*\n     * Dependencies\n     */\n    var textUtils = require('path/to/lib').Text;\n    \n    /*\n     * Model\n     */\n    function User() {}\n    /*\n     * Instance Methods\n     */\n    User.prototype.setBio = function(data) {\n        this.bio = textUtils.cleanText(data);\n    }\n    module.exports = User;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30356582",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "130240196",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const express = require('express')\n    // require route handlers. they will all include the same connection pool\n    const set1    = require('./routes/set1')\n    const set2    = require('./routes/set2')\n    \n    // generic express stuff\n    const app = express()\n    \n    // ...\n    app.use('/set1', set1Router)\n    app.use('/set1', set2Router)\n    \n    // No need to connect the pool.\n    // Just start the web server\n    const server = app.listen(process.env.PORT || 3000, () => {\n      const host = server.address().address\n      const port = server.address().port\n  \n      console.log(`Example app listening at http://${host}:${port}`)\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const express = require('express')\n    // require route handlers.\n    // they will all include the same connection pool\n    const set1Router = require('./routes/set1')\n    const set2Router = require('./routes/set2')\n    \n    // generic express stuff\n    const app = express()\n    \n    // ...\n    app.use('/set1', set1Router)\n    app.use('/set2', set2Router)\n    \n    // No need to connect the pool\n    // Just start the web server\n    const server = app.listen(process.env.PORT || 3000, () => {\n      const host = server.address().address\n      const port = server.address().port\n  \n      console.log(`Example app listening at http://${host}:${port}`)\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30356983",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "130244805",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Question = require('../schemas/questions');\n    exports.testing = function(req,res){\n    \tif (!req.body) return res.sendStatus(400)\n    \n    \tvar ques_set = 'xyz';\n    \tvar question_array = [\n    \t\t{\n    \t\t\tquestion_id: \"id_1\",\n    \t\t\tquestion_no: 1\n    \t\t},\n    \t\t{\n    \t\t\tquestion_id: \"id_2\",\n    \t\t\tquestion_no: 2\n    \t\t},\n    \t\t{\n    \t\t\tquestion_id: \"id_3\",\n    \t\t\tquestion_no: 3\n    \t\t}\n    \t];\n      \n    \tvar data = Question({question_set: ques_set, questions: question_array);\n    \n        data.save(function(err) {\n    \t\tif (err) throw err;\n    \t\telse {\n    \t\t\tconsole.log('Question Inserted');\n    \t\t\tres.send(\"Question Inserted\");    \n    \t\t}\n    \t});\n      };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var Question = require('../schemas/questions');\n    exports.testing = function(req,res){\n    \tif (!req.body) return res.sendStatus(400)\n    \n    \tvar ques_set = 'xyz';\n    \tvar question_array = [\n    \t\t{\n    \t\t\tquestion_id: \"id_1\",\n    \t\t\tquestion_no: 1\n    \t\t},\n    \t\t{\n    \t\t\tquestion_id: \"id_2\",\n    \t\t\tquestion_no: 2\n    \t\t},\n    \t\t{\n    \t\t\tquestion_id: \"id_3\",\n    \t\t\tquestion_no: 3\n    \t\t}\n    \t];\n      \n    \tvar data = Question({question_set: ques_set, questions: question_array});\n    \n        data.save(function(err) {\n    \t\tif (err) throw err;\n    \t\telse {\n    \t\t\tconsole.log('Question Inserted');\n    \t\t\tres.send(\"Question Inserted\");    \n    \t\t}\n    \t});\n      };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30390378",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "130643115",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = { foo: 'bar };\n    require('B'); // at this point A.exports is not empty anymore",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    module.exports = { foo: 'bar' };\n    require('B'); // at this point A.exports is not empty anymore",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30390378",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "130643111",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    export.namedExport = function() { /* ... */ }; // extends\n    module.exports = { namedExport: function() { /* ... */ } }; // overrides",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    exports.namedExport = function() { /* ... */ }; // extends\n    module.exports = { namedExport: function() { /* ... */ } }; // overrides",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30444067",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131269619",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    function include(inc) {\n      with (global) {\n        eval(fs.readFileSync(inc, 'utf-8').toString());\n      }\n    }\n    console.log(\"Running myapp.js with arg[2]=[%s]\", process.argv[2]);\n    var test = function() { console.log(\"Test working\")};\n    if (process.argv[2])\n      include(process.argv[2]);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975609756097561,
        "Content": "    var fs = require('fs');\n    function include(inc) {\n        eval(fs.readFileSync(inc, 'utf-8').toString());\n    }\n    console.log(\"Running myapp.js with arg[2]=[%s]\", process.argv[2]);\n    var test = function() { console.log(\"Test working\")};\n    if (process.argv[2])\n      include(process.argv[2]);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30574228",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "132790297",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    eventEmitter.on('newBlog', console.log);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2857142857142857,
        "Content": "    var myEvent = require('./my-event');\n    myEvent.on('newBlog', console.log);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30803332",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "135480232",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var httpProxy = require('http-proxy');\n    var proxy = httpProxy.createProxyServer({});\n    app.use('/blog', function(req, res, next) {\n        proxy.web(req, res, {\n            target: 'http://your_blog.com'\n        }, next);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var app = module.exports = express();\n    \n    var proxy = require('http-proxy').createProxyServer({\n        host: 'http://your_blog.com',\n        // port: 80\n    });\n    app.use('/blog', function(req, res, next) {\n        proxy.web(req, res, {\n            target: 'http://your_blog.com'\n        }, next);\n    });\n    \n    app.listen(80, function(){\n        console.log('Listening!');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30935314",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "137011641",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Q = require(\"q\");\n    \n    function delay(millis) {\n        var deferred = Q.defer();\n        setTimeout(deferred.resolve, millis);\n        return deferred.promise;\n    }\n    \n    async(function () {\n        console.log('message 1');\n        await(delay(100));\n        console.log('message 2');\n    })();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Q = require(\"q\");\n    var async = require('asyncawait/async');\n    var await = require('asyncawait/await');\n    \n    function delay(millis) {\n        var deferred = Q.defer();\n        setTimeout(deferred.resolve, millis);\n        return deferred.promise;\n    }\n    \n    async(function () {\n        console.log('message 1');\n        await(delay(100));\n        console.log('message 2');\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30950616",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "137192071",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.use(methodOverride());\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({extended: true}));",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // set up ======================================================================\n    var express  = require('express');\n    var app      = express();                               // create our app w/ express\n    var port     = process.env.PORT || 8080;                // set the port\n    var bodyParser = require('body-parser');\n    var methodOverride = require('method-override')\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({extended: true}));\n    \n    app.use(function(req, res, next) {\n        //the code hits this point!\n        var data = '';\n        req.on('data', function(chunk) {\n            data += chunk;\n        });\n        req.on('end', function() {\n            req.rawBody = data;\n            next();\n        });\n        console.log(data);\n    });\n    app.use(methodOverride());\n    // routes ======================================================================\n    require('./routes.js')(app);\n    \n    // listen (start app with node server.js) ======================================\n    app.listen(port);\n    console.log(\"App listening on port \" + port);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "30968029",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "137390183",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Data vars\n    var dataRaw, data;\n    http.createServer(function(req, res){\n      \n      // Empty old data.\n      dataRaw = new Buffer(\"\");\n      req.on(\"data\", function(chunk){\n        dataRaw = Buffer.concat([dataRaw, chunk]);\n      });\n      req.on(\"end\", function(){\n        data = dataRaw.toString();\n        \n        // Here you can use `data`\n        console.log(data);\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var http = require(\"http\"),\n    server = http.createServer(function(req, res){\n      var dataChunks = [],\n          dataRaw,\n          data;\n    \n      req.on(\"data\", function(chunk){\n        dataChunks.push(chunk);\n      });\n    \n      req.on(\"end\", function(){\n        dataRaw = Buffer.concat(dataChunks);\n        data = dataRaw.toString();\n    \n        // Here you can use `data`\n        res.end(data);\n      });\n    });\n    \n    server.listen(80)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31061352",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "138461783",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var crypto = require(\"crypto\");\n    var path = require(\"path\");\n    var fs = require(\"fs\");\n    var encryptStringWithRsaPublicKey = function(toEncrypt, relativeOrAbsolutePathToPublicKey) {\n        var absolutePath = path.resolve(relativeOrAbsolutePathToPublicKey);\n        var publicKey = fs.readFileSync(absolutePath, \"utf8\");\n        var buffer = new Buffer(toEncrypt);\n        var encrypted = crypto.publicEncrypt(publicKey, buffer);\n        return encrypted.toString(\"base64\");\n    };\n    var decryptStringWithRsaPrivateKey = function(toDecrypt, relativeOrAbsolutePathtoPrivateKey) {\n        var absolutePath = path.resolve(relativeOrAbsolutePathtoPrivateKey);\n        var privateKey = fs.readFileAsync(absolutePath, \"utf8\");\n        var buffer = new Buffer(toDecrypt, \"base64\");\n        var decrypted = crypto.privateDecrypt(privateKey, buffer);\n        return decrypted.toString(\"utf8\");\n        });\n    };\n    module.exports = {\n        encryptStringWithRsaPublicKey: encryptStringWithRsaPublicKey,\n        decryptStringWithRsaPrivateKey: decryptStringWithRsaPrivateKey\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var crypto = require(\"crypto\");\n    var path = require(\"path\");\n    var fs = require(\"fs\");\n    var encryptStringWithRsaPublicKey = function(toEncrypt, relativeOrAbsolutePathToPublicKey) {\n        var absolutePath = path.resolve(relativeOrAbsolutePathToPublicKey);\n        var publicKey = fs.readFileSync(absolutePath, \"utf8\");\n        var buffer = Buffer.from(toEncrypt);\n        var encrypted = crypto.publicEncrypt(publicKey, buffer);\n        return encrypted.toString(\"base64\");\n    };\n    var decryptStringWithRsaPrivateKey = function(toDecrypt, relativeOrAbsolutePathtoPrivateKey) {\n        var absolutePath = path.resolve(relativeOrAbsolutePathtoPrivateKey);\n        var privateKey = fs.readFileSync(absolutePath, \"utf8\");\n        var buffer = Buffer.from(toDecrypt, \"base64\");\n        var decrypted = crypto.privateDecrypt(privateKey, buffer);\n        return decrypted.toString(\"utf8\");\n    };\n    module.exports = {\n        encryptStringWithRsaPublicKey: encryptStringWithRsaPublicKey,\n        decryptStringWithRsaPrivateKey: decryptStringWithRsaPrivateKey\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31080163",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "138684795",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // cloud/app.js\n    var express = require('express');\n    \n    var app = express();\n    app.set('views','cloud/views');\n    app.set('view engine', 'ejs');\n    \n    app.get('/*', function(req, res) {\n    \tres.render('index.ejs'),\n    });\n    \n    app.listen();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    // cloud/app.js\n    var express = require('express');\n    \n    var app = express();\n    app.set('views','cloud/views');\n    app.set('view engine', 'ejs');\n    \n    app.get('/*', function(req, res) {\n    \tres.render('index.ejs');\n    });\n    \n    app.listen();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31107198",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "139009039",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = new express();\n    var apiRouter = require('./routes/APIRouter');\n    app.use('/api',APIRouter);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var app = new express();\n    var apiRouter = require('./routes/APIRouter');\n    app.use('/api',apiRouter);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31193204",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "139986210",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.format = {\n        GREEN: {irc: '\\u000309', mc: 'a'},\n        RED: {irc: '\\u000304', mc: 'c'},\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    module.exports.format = {\n        GREEN: {irc: '\\u000309', mc: 'a'},\n        RED: {irc: '\\u000304', mc: 'c'},\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31196669",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "140027576",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Parse = require('parse').Parse;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var Parse = require('parse').Parse;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31198141",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "140044664",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    [...]\n    var mongoose = require('mongoose');\n    var MongoStore = require('connect-mongo')(express.session);\n    \n    var sessionStore = new MongoStore({ mongooseConnection: mongoose.connection });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    exports.someVar = [5,4,3,2,1];\n    exports.printSize = function(){\n\t    console.log(exports.someVar.length);\n    }  ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31198141",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "140044662",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require('mongoose');\n    mongoose.connect(...);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.782608695652174,
        "Content": "    var myLib = require(\"./lib/myLib.js\");\n\texports.start = function(){\n\t\tconsole.log(\"http.js:\");\n\t\tmyLib.printSize(); // will print 6\n\t\tmyLib.someVar.push(200);\n\t}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31237306",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "140507945",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "var User = require('./node_modules/user-app/user').User`;\nThis is because in your export statement when you define a user you have the line:\nmodule.exports = {User:User};\nSo, you are exporting an object that has a User property on it.",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.17647058823529413,
        "Content": "    var User = require('./node_modules/user-app/user').User;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31254689",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "140707614",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var tables = [\n    \t{\"art\":\"A\",\"count\":\"0\",\"name\":\"name1\",\"ean\":\"802.0079.127\",\"marker\":\"null\",\"stammkost\":\"A\",\"tablename\":\"IWEO_IWBB_01062015\"},\n    \t{\"art\":\"A\",\"count\":\"0\",\"name\":\"2\",\"ean\":\"657.7406.559\",\"marker\":\"null\",\"stammkost\":\"A\",\"tablename\":\"IWEO_IWBB_02062015\"}\n    ];\n    \n    tables.forEach(function(table) {\n        var tableName = table.name;\n\t    console.log(tableName););\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9090909090909091,
        "Content": "    var tables = [\n    \t{ \"art\":\"A\",\"count\":\"0\",\"name\":\"name1\",\"ean\":\"802.0079.127\",\"marker\":\"null\",\"stammkost\":\"A\",\"tablename\":\"IWEO_IWBB_01062015\" },\n    \t{ \"art\":\"A\",\"count\":\"0\",\"name\":\"2\",\"ean\":\"657.7406.559\",\"marker\":\"null\",\"stammkost\":\"A\",\"tablename\":\"IWEO_IWBB_02062015\" }\n    ];\n    \n    tables.forEach(function(table) {\n        var tableName = table.name;\n\t    console.log(tableName);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31414472",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142553463",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var items = [1, 2, 3, 4, 5];\n    var fn = function asyncMultiplyBy2(v){ // sample async action\n        return new Promise(function(resolve){ setTimeout(function(){\n           resolve(v * 2);\n        }, 100)});\n    }\n    // map over forEach since it returns\n    var actions = items.map(fn); // run the function over all items.\n    // we now have a promises array and we want to wait for it\n    var results = Promise.all(action); // pass array of promises\n    results.then(function(data){\n        console.log(data); // [2, 4, 6, 8, 10]\n    });\n    \n    // we can nest this of course, as I said, `then` chains:\n \n    var res2 = Promise.all([1,2,4,5].map(fn).then(function(data){\n        return Promise.all(data.map(fn));\n    }).then(function(data){\n        // the next `then` is executed after the promise returned from the previous\n        // `then` fulfilled, in this case it's an aggregate promise because of \n        // the `.all` \n        return Promise.all(data.map(fn));\n    }).then(function(data){\n        // just for good measure\n        return Promise.all(data.map(fn));\n    }));\n   \n    // now to get the results:\n    res2.then(function(data){\n        console.log(data); [8, 16, 24, 32, 40]\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9950248756218906,
        "Content": "    var items = [1, 2, 3, 4, 5];\n    var fn = function asyncMultiplyBy2(v){ // sample async action\n        return new Promise(resolve => setTimeout(() => resolve(v * 2), 100));\n    };\n    // map over forEach since it returns\n    var actions = items.map(fn); // run the function over all items\n    // we now have a promises array and we want to wait for it\n    var results = Promise.all(actions); // pass array of promises\n    results.then(data => // or just .then(console.log)\n        console.log(data) // [2, 4, 6, 8, 10]\n    );\n    \n    // we can nest this of course, as I said, `then` chains:\n \n    var res2 = Promise.all([1, 2, 3, 4, 5].map(fn)).then(\n        data => Promise.all(data.map(fn))\n    ).then(function(data){\n        // the next `then` is executed after the promise has returned from the previous\n        // `then` fulfilled, in this case it's an aggregate promise because of \n        // the `.all` \n        return Promise.all(data.map(fn));\n    }).then(function(data){\n        // just for good measure\n        return Promise.all(data.map(fn));\n    });\n   \n    // now to get the results:\n    res2.then(function(data){\n        console.log(data); // [16, 32, 48, 64, 80]\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31421769",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "142638256",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var Promise = require('bluebird');\n    var request = Promise.promisify(require(\"request\"));\n    \n    var url = 'http://www.google.com';\n    var obj = {};\n    \n    function apiCall(url) {\n        return request(url).spread(function(response, body) {\n            return resolve(body);\n        });\n    }\n    \n    function checkPromise(url) {\n        if(obj.hasOwnProperty(url)) {   \n            var rp = obj[url];\n            // if it's a promise object in the cache, then loading \n            // this result is currently underway\n            if (typeof rp === \"object\") {\n                // return the promise\n                return rp;\n            } else {\n                // rp is already the cached result\n                // do something\n                return Promise.resolve(rp);\n        }\n        else {\n            var p = apiCall(url).then(function(result) {\n                obj[url] = result; \n                //do something\n                return result;\n            });\n            obj[url] = p;\n            return p;\n        }\n    }\n    \n    checkPromise(url).then(function(result) {\n        // use result\n    });\n    \n    checkPromise(url).then(function(result) {\n        // use result\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9795918367346939,
        "Content": "    var Promise = require('bluebird');\n    var request = Promise.promisify(require(\"request\"));\n    \n    var url = 'http://www.google.com';\n    var obj = {};\n    \n    function apiCall(url) {\n        return request(url).spread(function(response, body) {\n            return body;\n        });\n    }\n    \n    function checkPromise(url) {\n        if(obj.hasOwnProperty(url)) {   \n            // If it's a promise object in the cache, then loading \n            // If it's a value, then the value is already available\n            // Either way, we wrap it in a promise and return that\n            return Promise.resolve(obj[url]);\n        } else {\n            var p = apiCall(url).then(function(result) {\n                obj[url] = result; \n                //do something\n                return result;\n            });\n            obj[url] = p;\n            return p;\n        }\n    }\n    \n    checkPromise(url).then(function(result) {\n        // use result\n    });\n    \n    checkPromise(url).then(function(result) {\n        // use result\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31422114",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142641431",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function findTargetById(targetId) {\n      return Target.findById(targetId).exec();\n    }\n    \n    function findFeedback(criteria) {\n      return Feedback.find(criteria).exec();\n    }\n    \n    function updateFeeback(feedback) {\n      var fieldsChanged;\n      var feedBackId = feedback.id;\n      var query = {id: feedBackId};\n      // some process\n      return Feedback.update(query, fieldsChanged).exec();\n    }\n    \n    function saveFeedback(feedback) {\n      return Feedback.create(feedback);\n    }\n    findTargetByd(1)\n      .then(function(target) {\n        var criteria;\n        // some process\n        return findFeedback(criteria);\n      })\n      .then(function(feedbacks) {\n        var feedback = feedbacks[0];\n        // some process\n        return updateFeedback(feedback);\n      })\n      .then(function(feedback) {\n        var targetId;\n    \n        return findTargetById(targetById);\n      })\n      .then(function(target) {\n        return res.json(target);\n      });",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8901098901098901,
        "Content": "    // database\n    var mongoose = require('mongoose');\n    var Schema = mongoose.Schema;\n    var ItemSchema = new Schema({\n      id: String,\n      name: String,\n      userId: String\n    });\n    \n    var PersonSchema = new Schema({\n      id: String,\n      name: String\n    });\n    \n    var Person = mongoose.model('Person', PersonSchema);\n    var Item = mongoose.model('Item', ItemSchema);\n    \n    mongoose.connect('mongodb://localhost:27017/mongoose-promise');\n    function generateData() {\n      var item = {\n        id: 1,\n        name: 'Iphone 5S',\n        userId: '6500151'\n      };\n      var person = {\n        id: '6500151',\n        name: 'Wilson'\n      };\n    \n      createPerson(person)\n        .then(function(person) {\n          return createItem(item);\n        })\n        .then(function(item) {\n          console.log('data generated');\n        })\n        .then(null, function(err) {\n          console.log('err: ' + err);\n        });\n    }\n    \n    function createPerson(person) {\n      return Person.create(person);\n    }\n    \n    function createItem(item) {\n      return Item.create(item);\n    }\n    \n    function getItem(itemId) {\n      console.log('getting item');\n      return Item.findOne({id: itemId}).exec();\n    }\n    \n    function getPerson(personId, item) {\n      var promise = new mongoose.Promise;\n    \n      Person.findOne({id: personId}, function(err, person) {\n        if (err) return promise.error(err);\n    \n        promise.complete(person, item);\n      });\n    \n      return promise;\n    }\n    \n    // Generating data\n    generateData();\n    \n    // server\n    var express = require('express');\n    var app = express();\n    \n    app.get('/items/:itemId/person', function(req, res) {\n    \n      var itemId = req.params.itemId;\n    \n      getItem(itemId)\n        .then(function(item) {\n          var userId = item.userId;\n          return getPerson(userId, item);\n        })\n        .then(function(person, item) {\n          //throw new Error('something happened sorry!');\n          res.send({person: person});\n        })\n        .then(null, function(err) {\n          res.send({error: err.message});\n        });\n    });\n    \n    app.listen(4040, function() {\n      console.log('server up and running at http://localhost:4040');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31441074",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142863473",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var https = require('https');\n    var fs = require('fs');\n    \n    var options = {\n      key: fs.readFileSync('~/.certs/my-sub.key'),\n      cert: fs.readFileSync('~/.certs/my-sub.crt')\n    };\n    \n    app = https.createServer(options);\n    io = require('socket.io')(app);\n    \n    app.listen(1337);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var https = require('https');\n    var fs = require('fs');\n    \n    var options = {\n      key: fs.readFileSync('~/.certs/my-sub.key'),\n      cert: fs.readFileSync('~/.certs/my-sub.crt')\n    };\n    \n    var app = https.createServer(options);\n    var io = require('socket.io')(app);\n    \n    app.listen(1337);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31518569",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "143773314",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // init + update nodeId\n    var nodeId = 0;\n    setInterval(function() {\n        ++nodeId;\n    }, 1000);\n    // create server  (port 5500)\n    var http = require('http');\n    http.createServer(function(req, res) {\n      if (req.url === '/stream') return serverStream(res);\n      serverMain(res);\n    }).listen(5500);\n    // serve nodeId\n    function serverStream(res) {\n        // headers\n        res.writeHead(200, {\n            'Content-Type'                : 'text/plain',\n            'Access-Control-Allow-Origin' : '*',\n        });\n        // remember last served id\n        var last = null;\n        // output interval\n        setInterval(function() {\n            // output on new node\n            if(last != nodeId) {\n                res.write('[node id=\"'+(nodeId)+'\"]');\n                last = nodeId;\n            }\n        }, 250);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var crypto = require('crypto');\n    // init + update nodeId\n    var nodeId     = 0;\n    var nodeIdRand = '0000000000000000000000000000000000000000';\n    setInterval(function() {\n        // regular id\n        ++nodeId;\n        //random id\n        nodeIdRand = crypto.createHash('sha1').update(nodeId.toString()).digest('hex');\n    }, 1000);\n    // create server  (port 5500)\n    var http = require('http');\n    http.createServer(function(req, res) {\n      if(req.url === '/stream') {\n          return serverStream(res);\n      }\n      else if(req.url === '/streamRandom') {\n          return serverStream(res, true);\n      }\n    }).listen(5500);\n    // serve nodeId\n    function serverStream(res, rand) {\n        // headers\n        res.writeHead(200, {\n            'Content-Type'                : 'text/plain',\n            'Access-Control-Allow-Origin' : '*',\n        });\n        // remember last served id\n        var last = null;\n        // output interval\n        setInterval(function() {\n            // output on new node\n            if(last != nodeId) {\n                res.write('[node id=\"'+(rand ? nodeIdRand : nodeId)+'\"]');\n                last = nodeId;\n            }\n        }, 250);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31639494",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "145192767",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var request = require('request');\n    var split = require('split');\n    var fs = require('fs');\n    \n    var currLine = 1;\n    var header;\n    \n    parser._transform = function(line, encoding, done) {\n        var time = {};\n        var data = line.toString();\n    \n        if (currLine === 1) {\n            header = line;\n            console.log(header);\n            var regEx = /[0-9][0-9]:[0-9][0-9]/;\n    \n            var m = regEx.exec(header);\n            var splitTime = m[0].split(':');\n            time = {\n                hours: splitTime[0],\n                minutes: splitTime[1]\n            };\n            console.log(time);\n            var pushjson = JSON.stringify(time, null, 2);\n            this.push(pushjson);\n        }\n    \n        currLine++;\n        done();\n    \n    \n    };\n    \n    request\n        .get('http://maps.weather.gov.hk/r4/input_files/latestReadings_AWS1')\n        .on('error', function(err) {\n            console.log(err);\n        }).\n    pipe(split()).pipe(parser)\n        .pipe(fs.createWriteStream('result.json'));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9818181818181818,
        "Content": "    var stream = require('stream');\n    var parser = new stream.Transform({\n    objectMode: true\n    });\n    var request = require('request');\n    var split = require('split');\n    var fs = require('fs');\n    \n    var currLine = 1;\n    var header;\n    \n    parser._transform = function(line, encoding, done) {\n        var time = {};\n        if (currLine === 1) {\n            header = line;\n            console.log(header);\n            var regEx = /[0-9][0-9]:[0-9][0-9]/;\n    \n            var m = regEx.exec(header);\n            var splitTime = m[0].split(':');\n            time = {\n                hours: splitTime[0],\n                minutes: splitTime[1]\n            };\n            console.log(time);\n            var pushjson = JSON.stringify(time, null, 2);\n            this.push(pushjson);\n        }\n        currLine++;\n        done();\n    };\n    \n    request\n        .get('http://maps.weather.gov.hk/r4/input_files/latestReadings_AWS1')\n        .on('error', function(err) {\n            console.log(err);\n        }).\n    pipe(split()).pipe(parser)\n        .pipe(fs.createWriteStream('result.json'));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31708440",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "145984031",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.use(function(req, res, next) {\n      res.header(\"Access-Control-Allow-Origin\", \"*\");\n      res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n      next();\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var app = require(\"express\")(),\n     restler = require(\"restler\"),\n     bodyParser = require(\"body-parser\");\n    \n    app.use(bodyParser.json());\n    \n    app.use(function(request, response, next) {\n        response.header(\"Access-Control-Allow-Origin\", \"*\");\n        response.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n        next();\n    });\n    \n    \n    app.post(\"/\", function(request, response) {\n        var options = {\n            username: \"replace\",\n            password: \"replace\"\n        };\n    \n        var url = \"https://brsv2-6855bc66.ng.bluemix.net/DecisionService/rest\" + \"/vacationsRuleApp/1.0/vacationsRuleProject/json\";\n    \n        restler.postJson(url, request.body, options).on('complete', function(data) {\n            response.send(data);\n        });\n    });\n    \n    app.listen(process.env.VCAP_APP_PORT || 8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31708644",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "145986718",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var router = express.Router();\n    var rest = require('restler');\n    var async = require('async');\n    router.get('/myroute', function(req, res, next){\n        parameterArray = [ /* A list of parameter values in here gathered from two more API calls */];\n        returnArray = [];\n        async.eachLimit(parameterArray, 5, function(param, eachCb) {\n            var url = 'https://api.example.org?parameter=' + param;\n            rest.get(url).on('success', function(data){\n                var processedData;\n                // after some processing on data\n                returnArray.push(processedData);\n                eachCb(null);\n            });\n        }, function(err) {\n            // done with all ajax calls\n            res.json(returnArray);\n        });\n    });\n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9833333333333333,
        "Content": "    var express = require('express');\n    var router = express.Router();\n    var rest = require('restler');\n    var async = require('async');\n    router.get('/myroute', function(req, res, next){\n        var parameterArray = [ /* A list of parameter values in here gathered from two more API calls */];\n        var returnArray = [];\n        async.eachLimit(parameterArray, 5, function(param, eachCb) {\n            var url = 'https://api.example.org?parameter=' + param;\n            rest.get(url).on('complete', function(data){\n                var processedData;\n                // after some processing on data\n                returnArray.push(processedData);\n                eachCb(null);\n            });\n        }, function(err) {\n            // done with all ajax calls\n            res.json(returnArray);\n        });\n    });\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31765792",
    "RootLocalId": "5",
    "RootPostBlockVersionId": "146660235",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    export default {\n      func1(a, b) {...}\n      func2(a, b) {...}\n    }",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    export default {\n      func1(a, b) {/* stuff */},\n      func2(a, b) {/* stuff */}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31765792",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "146660229",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class {\n      method(args) {}\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    class MyClass {\n      method(args) {}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31773125",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "146746325",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    events = require('events');\n    fs = require('fs');\n    var e = new events.EventEmitter();\n    var data;\n    fs.readFile('path/to/my/config.json', function (err, res) {\n      if (err) throw err;\n      data = JSON.parse(res);\n      e.emit('ready', data);\n    })\n    module.exports = function (cb) {\n      if (data) {\n        // data is ready\n        cb(data);\n      } else {\n        // wait for data\n        e.once('ready', cb);\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // initialization.js\n    var glob = require('glob')\n    var path = require('path')\n    module.exports = function initialization (done) {\n      var data = {}\n      glob('./config/*.json', function (err, files) {\n        if (err) throw err\n        files.forEach(function (file) {\n          var filename = path.basename(file)\n          data[filename] = require(file)\n        })\n        done(data);\n      })\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31806875",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "147129210",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get(/^\\/category\\/\\d+/,function(req,res,next){\n       var id = req.path.match(/^\\/category\\/(\\d+)/)[1];\n       //do your work here.\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.16,
        "Content": "    function replace_tokens(string,data){\n        var keys = Object.keys(data);\n        for(var i in keys){\n            string = string.replace(\":\" + keys[i],data[keys[i]]);\n        }\n        return string;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31819516",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "147278357",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    echo('two');\n    function echo(){\n      console.log(\"we are in include.js\");\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "2",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    echo('two');\n    function echo(txt){\n      console.log(\"we are in include.js\", txt);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31933499",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "148603038",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        sass: {\n            src: {\n                files: [{\n                    expand: true,\n                    cwd: 'source/styles/',\n                    src: ['**/*.scss'],\n                    dest: 'destination/styles/',\n                    ext: '.css'\n                }]\n            }\n        },",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "        sass: {\n            src: {\n                files: [{\n                    expand: true,\n                    cwd: 'source/styles/',\n                    src: ['**/*.scss'],\n                    dest: 'destination/styles/',\n                    ext: '.css'\n                }]\n            }\n        }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "31949787",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "148794635",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import Ember from 'ember'; \n    \n    export default Ember.Controller.extend({\n      \n      // Username for the new user\n      username: '',\n      // Password for the new user\n      password: '',\n      actions: {\n        \n        // Create a new user\n        createUser() {\n          const username = this.get('username');\n          const password = this.get('password');\n    \n          this.get('store').createRecord('user', {\n            username\n            password\n          }).save()\n          .then(() => {\n            this.send('clearForm');  // Invokes the `clearForm` action on the controller\n          })\n          .catch(() => {\n            // Do some kind of error handling if the creation fails\n          });\n        },\n         \n        // Clear the form\n        clearForm() {\n          this.set('username', '');\n          this.set('password', '');\n        }\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    import Ember from 'ember'; \n    \n    export default Ember.Controller.extend({\n      \n      // Username for the new user\n      username: '',\n      // Password for the new user\n      password: '',\n      actions: {\n        \n        // Create a new user\n        createUser() {\n          const username = this.get('username');\n          const password = this.get('password');\n    \n          this.get('store').createRecord('user', {\n            username,\n            password\n          }).save()\n          .then(() => {\n            this.send('clearForm');  // Invokes the `clearForm` action on the controller\n          })\n          .catch(() => {\n            // Do some kind of error handling if the creation fails\n          });\n        },\n         \n        // Clear the form\n        clearForm() {\n          this.set('username', '');\n          this.set('password', '');\n        }\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32019535",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "149608459",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Hapi = require('hapi');\n    var Inert = require('inert'),; \n    var Path = require('path');\n    var server = new Hapi.Server(), \n    var port = process.env.PORT || 8000;\n    server.register(Inert, function () {}); // requires a callback function but can be blank\n    server.connection({ port: port });\n    server.route( { \n      method: 'GET', \n      path: '/{param*}', \n      handler: {\n        directory: { path: Path.normalize(__dirname + '/') }\n      }\n    });\n    server.start(function() { console.log('Visit: http://127.0.0.1:' +port) });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8157894736842105,
        "Content": "    var Hapi = require('hapi');\n    var Inert = require('inert');\n    var Path = require('path');\n    var server = new Hapi.Server();\n    var port = process.env.PORT || 8000;\n    server.register(Inert, function () {\n      server.connection({ port: port });\n      server.route( {\n        method: 'GET',\n        path: '/{param*}',\n        handler: {\n          directory: { path: Path.normalize(__dirname + '/') }\n        }\n      });\n      server.start(function() { console.log('Visit: http://127.0.0.1:' +port)   });\n    });\n   ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32024654",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "149670511",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var async = require(\"async\"),\n        mongoose = require(\"mongoose\");\n    mongoose.connect(\"mongodb://localhost/usertest\");\n    var userSchema = mongoose.Schema({\n        list_users_ticket: [\n            {\n                whoChecked_name: String,\n                whoChecked_id: String,\n                what_checked: String\n            }\n        ]}\n    });\n    var User = mongoose.model( \"User\", userSchema );\n    var userData = {\n        whoChecked_name: \"bob\",\n        whoChecked_id: \"1\"\n        what_checked: \"something\"\n    };\n    async.waterfall(\n        [\n            function(callback) {\n                var user = new User({ \"list_users_ticket\": userData });\n                user.save(function(err,user) {\n                    callback(err,user);\n                });\n            },\n            function(user,callback) {\n                User.findByIdAndUpdate(user._id,\n                    { \"$addToSet\": { \"list_users_ticket\": userData } },\n                    { \"new\": true },\n                    function(err,doc) {\n                        if (err) callback(err);\n                        console.log(doc);\n                        callback();\n                    }\n                );\n            }\n        ],\n        function(err) {\n           // error ot complete here\n           mongoose.disconnect();\n        }\n    );",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var async = require('async'),\n        mongoose = require('mongoose'),\n        Schema = mongoose.Schema;\n    mongoose.connect('mongodb://localhost/usertest');\n    mongoose.set(\"debug\",true);\n    var ticketSchema = new Schema({\n      whoChecked_name: String,\n      whoChecked_id: String,\n      what_checked: String\n    },{ \"_id\": false });\n    var userSchema = new Schema({\n      list_users_ticket: [ticketSchema]\n    });\n    var User = mongoose.model( \"User\", userSchema );\n    var userData = {\n      whoChecked_name: \"bob\",\n      whoChecked_id: \"1\",\n      what_checked: \"something\"\n    };\n    function logger(data) {\n      return JSON.stringify( data, undefined, 2 );\n    }\n    async.waterfall(\n      [\n        function(callback) {\n          User.remove({},function(err) {\n            callback(err);\n          })\n        },\n        function(callback) {\n          var user= new User({ \"list_users_ticket\": userData });\n          user.save(function(err,user) {\n            callback(err,user);\n          });\n        },\n        function(user,callback) {\n          console.log(\"Previous State: %s\", logger(user));\n          User.findByIdAndUpdate(user._id,\n            { \"$addToSet\": { \"list_users_ticket\": userData } },\n            { \"new\": true },\n            function(err,doc) {\n              if (err) callback(err);\n              console.log(\"Modified: %s\", logger(doc));\n              callback();\n            }\n          );\n        }\n      ],\n      function(err) {\n        if (err) throw err;\n        mongoose.disconnect();\n      }\n    );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32037033",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "149819818",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var ssh = require('./workflow/ssh.js');\n    \n    ssh.resetPassword('test122', '192.168.0.101', 'root' , 'password', function(err, code) {\n        if (!err) {\n            console.log(result);\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    var ssh = require('./workflow/ssh.js');\n    \n    ssh.resetPassword('test122', '192.168.0.101', 'root' , 'password', function(err, code) {\n        if (!err) {\n            console.log(code);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32171288",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "151399699",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Usage.update({_id: id}, {$push: {coordinates: {$each: pushCoordinates}}}, callback);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    function persistCoordinates(id, coordinates, callback) {\n      this.Usage.update({_id: id}, {$push: {coordinates: {$each: coordinates}}}, callback);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32246373",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "152284578",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Please look at line number 624 of same file \n    function emit (parser, event, data) {\n      parser[event] && parser[event](data)\n    }",
        "MostRecentVersion": "0",
        "Errors": 15,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.64,
        "Content": "    function emit (parser, event, data) {\n      parser[event] && parser[event](data)\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32317549",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "153117042",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var config = {\n      userName: 'username',\n      password: 'password',\n      server: 'XXXXX',\n      options: {\n        port: 49175\n        database: 'databasename',\n        instancename: 'SQLEXPRESS'\n      }\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var config = {\n      userName: 'username',\n      password: 'password',\n      server: 'XXXXX',\n      options: {\n        port: 49175,\n        database: 'databasename',\n        instancename: 'SQLEXPRESS'\n      }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32513247",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "155408686",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n    var _ = require('lodash');\n    var request = require('request');\n    var asynce = require('async');\n    exports.index = function (req, res) {\n        function cleanip(str) {\n            return str.replace(\"/\", \"%2F\");\n        }\n        var myUrls = [];\n        var IpBlockedForSpam = [];\n        var list = [\"127.0.0.1/32\", \"192.168.0.1/32\"];\n        request(\"http://localhost:9000/myapi/ip\", function(error, response, body) {\n            // add the IP address array retrieved from this request\n            list = list.concact(JSON.parse(body));\n            list.forEach(function(item, i) {\n                myUrls.push(\"http://localhost:9000/myapi/ip/blockedForSpam/\" + cleanip(item));\n            }\n            asynce.map(myUrls, function (url, callback) {\n                request(url, function (error, response, html) {\n                    var r = JSON.parse(html);\n                    for (var i in r) {\n                        IpBlockedForSpam.push(r[i]);\n                    }\n                    callback(error, html);\n                });\n            }, function (err, results) {\n                res.jsonp(IpBlockedForSpam);\n            });\n        });\n    };",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9838709677419355,
        "Content": "    'use strict';\n    var _ = require('lodash');\n    var request = require('request');\n    var asynce = require('async');\n    exports.index = function (req, res) {\n        function cleanip(str) {\n            return str.replace(\"/\", \"%2F\");\n        }\n        var myUrls = [];\n        var IpBlockedForSpam = [];\n        var list = [\"127.0.0.1/32\", \"192.168.0.1/32\"];\n        request(\"http://localhost:9000/myapi/ip\", function(error, response, body) {\n            // add the IP address array retrieved from this request\n            list = list.concat(JSON.parse(body));\n            list.forEach(function(item, i) {\n                myUrls.push(\"http://localhost:9000/myapi/ip/blockedForSpam/\" + cleanip(item));\n            });\n            asynce.map(myUrls, function (url, callback) {\n                request(url, function (error, response, html) {\n                    var r = JSON.parse(html);\n                    for (var i in r) {\n                        IpBlockedForSpam.push(r[i]);\n                    }\n                    callback(error, html);\n                });\n            }, function (err, results) {\n                res.jsonp(IpBlockedForSpam);\n            });\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32570168",
    "RootLocalId": "12",
    "RootPostBlockVersionId": "156058448",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function(app){\n    \t\n        \tvar authentication = require('./middlewares/autenticador')\n        \t\t\t, another_page = app.controllers.another_page;\n        \n        \tapp.get('/home/action', authentication, another.action);\t\n        \n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9,
        "Content": "    module.exports = function(app){\n    \t\n        \tvar authentication = require('./middlewares/autenticador')\n        \t\t\t, another_page = app.controllers.another_page;\n        \n        \tapp.get('/home/action', authentication, another_page.action);\t\n        \n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32591235",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "156299989",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n      prop1: \"some value1,\n      prop2: \"some value2\" \n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    module.exports = {\n      prop1: \"some value1\",\n      prop2: \"some value2\" \n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32655964",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "157061137",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class Example {\n    \n      constructor() {\n        this.val = 0\n      }\n    \n      async (callback) {\n        setTimeout(() => {\n          this.val += 1\n          callback()\n        }, 5000)\n      }\n    \n      sync () {\n        this.val += 1\n        return this\n      }\n    \n      check () {\n        console.log('checker', this.val)\n        return this\n      }\n    \n    }\n    // execution\n    new Example().async(check)",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    class Example {\n    \n      constructor() {\n        this.val = 0\n      }\n    \n      async (callback) {\n        setTimeout(() => {\n          this.val += 1\n          callback()\n        }, 5000)\n      }\n    \n      sync () {\n        this.val += 1\n        return this\n      }\n    \n      check () {\n        console.log('checker', this.val)\n        return this\n      }\n    \n    }\n    // execution\n    var ex = new Example();\n    ex.async(ex.check)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32722528",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "157846456",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mysql_results = [\n      { date: \"2015-09-21\", value: \"val_a\", score: 2 },\n      { date: \"2015-09-21\", value: \"val_b\", score: 4 },\n      { date: \"2015-09-22\", value: \"val_a\", score: 4 },\n      { date: \"2015-09-22\", value: \"val_b\", score: 8 }\n    ]\n    /** convert the array into a date:values format*/\n    var transmogrify = (function(data) {\n        return {\n            date: data.date,\n            values: [{ value: data.value, score: data.score }]\n        }\n    })\n    var output = mysql_results.reduce(function (result, cur) {\n        cur = transmogrify(cur);\n        if (!result.length) {\n            // array is empty, insert first element\n            result.push(cur);\n            return result;\n        }\n        var prev = result[result.length - 1];\n        if (prev.date === cur.date) {\n            // prev item date matches current - merge the values arrays\n            prev.values = prev.values.concat(cur.values)\n            result[result.length - 1] = prev;\n            return result;\n        }\n        // prev item date is different, add new element\n        result.push(cur);\n        return result;\n    }, []);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6451612903225806,
        "Content": "    var mysql_results = [\n      { date: \"2015-09-21\", value: \"val_a\", score: 2 },\n      { date: \"2015-09-21\", value: \"val_b\", score: 4 },\n      { date: \"2015-09-22\", value: \"val_a\", score: 4 },\n      { date: \"2015-09-22\", value: \"val_b\", score: 8 }\n    ]\n    \n    var output = mysql_results\n        .map(function (result) {\n            // format the records as { date, values: [] }\n            return {\n                date: result.date,\n                values: [{value: result.value, score: result.score}]\n            }\n        })\n        .reduce(function (result, cur) {\n            if (!result.length) {\n                // no previous records\n                result.push(cur);\n                return result;\n            }\n            var prev = result[result.length - 1];\n            if (prev.date === cur.date) {\n                \n                // prev record has same date - merge values\n                prev.values = prev.values.concat(cur.values)\n                result[result.length - 1] = prev;\n                return result;\n            }\n            // dates don't match, add new record\n            result.push(cur);\n            return result;\n        }, []);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32759984",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "158271063",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var globalThis = global;\n    \n    function a() {\n      console.log('is this the global object? ' + (globalThis === this));\n    }\n    \n    a();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function a() {\n      console.log('is this the global object? ' + (global === this));\n    }\n    \n    a();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32775728",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "158460162",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class Base {\n       constructor() {\n          console.log('Base constructor')\n       }\n       foo() {\n          console.log('Base foo')\n       }\n       bar() {\n         console.log('Base bar')\n         Base.foo.call(this);\n      }\n    }\n    class Test extends Base {\n      foo() {\n        console.log('Test foo');\n        super.foo();\n      }\n      bar() {\n        console.log('Test bar');\n        super.bar();\n      }\n    }\n    const test = new Test();\n    test.bar();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9047619047619048,
        "Content": "    'use strict'\n    class Base {\n       constructor() {\n          console.log('Base constructor')\n       }\n       foo() {\n          console.log('Base foo')\n       }\n       bar() {\n         console.log('Base bar')\n         Base.prototype.foo.call(this);\n      }\n    }\n    class Test extends Base {\n      foo() {\n        console.log('Test foo');\n        super.foo();\n      }\n      bar() {\n        console.log('Test bar');\n        super.bar();\n      }\n    }\n    const test = new Test();\n    test.bar();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32844903",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "159265639",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var router = express.Router();\n    \n    var data = require('./lib/data.js')(dataRecieved);\n    \n    function dataRecieved ()\n      router.get('/', function(req, res, next) {\n        res.render('index', { \n          title: 'Express' \n          data: data\n        });\n      });\n    }\n    \n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var router = express.Router();\n    \n    var data = require('./lib/data.js');\n    data( function(data) {\n        router.get('/', function(req, res, next) {\n            res.render('index', { title: 'Express', data: data });\n        });\n    });\n    \n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32854442",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "159374736",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "// assets to be used by the 'hapi-assets' module based on process.env.NODE_ENV\nmodule.exports = {\n    development: {\n        js: ['js/jquery-2.1.4.js', 'js/bootstrap.js'],\n        css: ['css/bootstrap.css', 'css/bootstrap-theme.css', 'css/3-col-portfolio.css'],\n        host: 'http://development:PORT/'\n    },\n    production: {\n        // TODO: Add the resources minified.\n        js: ['js/jquery-2.1.4.js', 'js/bootstrap.js'],\n        css: ['css/bootstrap.css', 'css/bootstrap-theme.css', 'css/3-col-portfolio.css'],\n        host: 'http://production:PORT/'\n    }\n}\nand in the **view**:\n<script src=\"<%=assets.host%><%=js%><%=version.cache%>\">\nBut, with the initial '/', is better.\n  [1]: https://gist.github.com/favasconcelos/7f3c94002812f8504c39#gistcomment-1584863",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.821917808219178,
        "Content": "    // assets to be used by the 'hapi-assets' module based on process.env.NODE_ENV\n    module.exports = {\n        development: {\n            js: ['js/jquery-2.1.4.js', 'js/bootstrap.js'],\n            css: ['css/bootstrap.css', 'css/bootstrap-theme.css', 'css/3-col-portfolio.css'],\n            host: 'http://development:PORT/'\n        },\n        production: {\n            // TODO: Add the resources minified.\n            js: ['js/jquery-2.1.4.js', 'js/bootstrap.js'],\n            css: ['css/bootstrap.css', 'css/bootstrap-theme.css', 'css/3-col-portfolio.css'],\n            host: 'http://production:PORT/'\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32903089",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "159929341",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var readline = r\n    equire('readline');\n    \n    var rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout\n    });\n    \n    rl.question(\"What do you think of Node.js? \", function(answer) {\n      // TODO: Log the answer in a database\n      console.log(\"Thank you for your valuable feedback:\", answer);\n    \n      rl.close();\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9565217391304348,
        "Content": "    var readline = require('readline');\n    \n    var rl = readline.createInterface({\n      input: process.stdin,\n      output: process.stdout\n    });\n    \n    rl.question(\"What do you think of Node.js? \", function(answer) {\n      // TODO: Log the answer in a database\n      console.log(\"Thank you for your valuable feedback:\", answer);\n    \n      rl.close();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "32942705",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "160394587",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var content = fs.readFileSync(file);\n    Papa.parse(content, {\n        step: function(row){\n            console.log(\"Row: \", row.data);\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8125,
        "Content": "    var Papa = require('babyparse');\n    var fs = require('fs');\n    var file = 'test.csv';\n    var content = fs.readFileSync(file, { encoding: 'binary' });\n    Papa.parse(content, {\n        step: function(row){\n            console.log(\"Row: \", row.data);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33098429",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "162185049",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var spawn = require('child_process').spawn,\n    var script_process = spawn('test.bat');\n    // Noprmal output\n    script_process.stdout.on('data', function (data) {\n      console.log('stdout: ' + data);\n    });\n    // Error output\n    script_process.stderr.on('data', function (data) {\n      console.log('stderr: ' + data);\n    });\n    // Process exit\n    script_process.on('close', function (code) {\n      console.log('child process exited with code ' + code);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7123287671232876,
        "Content": "    // Child process is required to spawn any kind of asynchronous process\n    var childProcess = require(\"child_process\");\n    // This line initiates bash\n    var script_process = childProcess.spawn('/bin/bash',[\"test.sh\"],{env: process.env});\n    // Echoes any command output \n    script_process.stdout.on('data', function (data) {\n      console.log('stdout: ' + data);\n    });\n    // Error output\n    script_process.stderr.on('data', function (data) {\n      console.log('stderr: ' + data);\n    });\n    // Process exit\n    script_process.on('close', function (code) {\n      console.log('child process exited with code ' + code);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33138680",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "162646345",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Sequelize      = require('sequelize');\n    var sequelize = new Sequelize('db', 'admin', 'pwd', {\n        host: 'database-host',\n        port: 3306,\n        dialect: 'mysql'\n    });\n    \n    \n    var Images = sequelize.define('images', {\n        pattern: {\n            type: DataTypes.STRING,\n            field: 'pattern'\n        },\n        color: {\n            type: DataTypes.STRING,\n            field: 'color'\n        },\n        imageUrl: {\n            type: DataTypes.STRING,\n            field: 'imageUrl'\n        },\n        imageSource: {\n            type: DataTypes.STRING,\n            field: 'imageSource'\n        },\n        description_id: {\n            type: DataTypes.INTEGER,\n            field: 'description_id'\n        }\n    });\n    \n    module.exports = Images;",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9375,
        "Content": "    var Sequelize      = require('sequelize');\n    var sequelize = new Sequelize('db', 'admin', 'pwd', {\n        host: 'database-host',\n        port: 3306,\n        dialect: 'mysql'\n    });\n    \n    \n    var Images = sequelize.define('images', {\n        pattern: {\n            type: Sequelize.STRING,\n            field: 'pattern'\n        },\n        color: {\n            type: Sequelize.STRING,\n            field: 'color'\n        },\n        imageUrl: {\n            type: Sequelize.STRING,\n            field: 'imageUrl'\n        },\n        imageSource: {\n            type: Sequelize.STRING,\n            field: 'imageSource'\n        },\n        description_id: {\n            type: Sequelize.INTEGER,\n            field: 'description_id'\n        }\n    });\n    \n    module.exports = Images;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33261362",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "164053598",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    \n    var router = express.Router();\n    \n    router.get('/', function(req, res) {\n      res.send('GET handler for /dogs route.');\n    );\n    \n    router.post('/', function(req, res) {\n      res.send('POST handler for /dogs route.');\n    });\n    \n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    \n    var router = express.Router();\n    \n    router.get('/', function(req, res) {\n        res.send('GET handler for /dogs route.');\n    });\n    \n    router.post('/', function(req, res) {\n        res.send('POST handler for /dogs route.');\n    });\n    \n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33261362",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164053592",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express'),\n        dogs    = require('./routes/dogs),\n        cats    = require('./routes/cats),\n        birds   = require('./routes/birds);\n    \n    var app = express();\n    \n    app.use('/dogs',  show);\n    app.use('/cats',  cats);\n    app.use('/birds', birds);\n    \n    app.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 13,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express'),\n        dogs    = require('./routes/dogs'),\n        cats    = require('./routes/cats'),\n        birds   = require('./routes/birds');\n    \n    var app = express();\n    \n    app.use('/dogs',  dogs);\n    app.use('/cats',  cats);\n    app.use('/birds', birds);\n    \n    app.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33351352",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "165084336",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var options = {\n        host: '<PROXY_HOST>'\n        port: '<PROXY_PORT>'\n        path: 'www.boardgamegeek.com/xmlapi/boardgame/1?stats=1',\n        method: 'GET'\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var options = {\n        host: '<PROXY_HOST>',\n        port: '<PROXY_PORT>',\n        path: 'http://www.boardgamegeek.com/xmlapi/boardgame/1?stats=1',\n        method: 'GET',\n        headers: {\n            Host: 'www.boardgamegeek.com'\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33394213",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "165570634",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var routes = require('./server/routes');\n    var users  = requier('./server/routes/users');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var routes = require('./server/routes');\n    var users  = require('./server/routes/users');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33527883",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "167087364",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    module.exports = {\n      entry: [\"babel-polyfill\", \"src/main.js\"]\n      ...\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    module.exports = {\n      entry: ['babel-polyfill', './test.js'],\n    \n      output: {\n        filename: 'bundle.js'       \n      },\n    \n      module: {\n        loaders: [\n          { test: /\\.jsx?$/, loader: 'babel', }\n        ]\n      }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33577843",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "167658742",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Promise = require('bluebird');\n    var Converter = Promise.promisifyAll(require(\"csvtojson\").Converter;\n    ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Promise = require('bluebird');\n    var Converter = Promise.promisifyAll(require(\"csvtojson\").Converter);\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33590238",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "167802369",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    db.taskmap.update({ _id: \"k4loE7XR5gioQk54\", UserName:\"xxx\" }, { $set: { taskDone: \"true\"} }, {},function (err, numReplaced) {\n    console.log(\"replaced---->\" + numReplaced);\n    });\n    // should give the correct result now\n    db.find({}).exec(function (err, docs) {console.log(docs);});",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6027397260273972,
        "Content": "    var Datastore = require('nedb');\n    var db = new Datastore();\n    db.insert(\n    [\n      {\n        \"UserId\":\"1446943507761\",\n        \"UserName\":\"xxx\",\n        \"link\":\"xxx.html\",\n        \"taskDone\":\"false\",\n        \"id\":14,\n        \"_id\":\"fdaaTWSxloQZdYlT\"\n      },\n     {\n        \"UserId\":\"1446943507761\",\n        \"UserName\":\"xxx\",\n        \"link\":\"xxx.html\",\n        \"taskDone\":\"false\",\n        \"id\":1,\n        \"_id\":\"fzh2cedAXxT76GwB\"\n     },\n     {\n        \"UserId\":\"1446943507761\",\n        \"UserName\":\"xxx\",\n        \"link\":\"xxx.html\",\n        \"taskDone\":\"false\",\n        \"id\":0,\n        \"_id\":\"k4loE7XR5gioQk54\"\n      }], \n      function (err, newDocs) {\n        // empty here\n      }\n      );\n    db.update(\n               { _id: \"k4loE7XR5gioQk54\", UserName:\"xxx\" }, \n               { $set: { taskDone: \"true\"} },\n               {},// this argument was missing\n               function (err, numReplaced) {\n                 console.log(\"replaced---->\" + numReplaced);\n               }\n               );\n    // should give the correct result now\n    db.find({}).exec(function (err, docs) {console.log(docs);});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33595430",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "167858953",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    \n    MongoClient.connect(\"mongodb://localhost:27017/test\", function(err, db) {\n    \t// Handle error\n    \tif(err) throw err;\n      \n    \t// Get the collection and bulk api artefacts\n    \tvar col = db.collection('users'),    \t\t\n    \t\tbulk = col.initializeOrderedBulkOp(), // Initialize the Ordered Batch\n    \t\tcounter = 0;    \t\n  \t\n\t\t// Case 1. Change type of value of property, without changing the value.    \t\n        col.find({\"timestamp\": {\"$exists\": true, \"type\": 2} }).each(function (err, doc) {\n            \t\t\t\n\t\t\tvar newTimestamp = parseInt(doc.timestamp);\n\t\t\tbulk.find({ \"_id\": doc._id }).updateOne({\n\t\t\t\t\"$set\": { \"timestamp\": newTimestamp }\n\t\t\t});\n\t\t\t\t\t\t\n    \t\tcounter++;\n\t\t\t\n    \t\tif (counter % 1000 == 0 ) {\n    \t\t\tbulk.execute(function(err, result) {  \n                    // re-initialise batch operation           \n    \t\t\t\tbulk = col.initializeOrderedBulkOp();\n    \t\t\t});\n            }\n        }\n    \t\n    \tif (counter % 1000 != 0 ){\n            bulk.execute(function(err, result) {\n    \t\t\t// do something with result\n                db.close();\n            }); \n        } \n    });\n\t",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    \n    MongoClient.connect(\"mongodb://localhost:27017/test\", function(err, db) {\n    \t// Handle error\n    \tif(err) throw err;\n      \n    \t// Get the collection and bulk api artefacts\n    \tvar col = db.collection('users'),    \t\t\n    \t\tbulk = col.initializeOrderedBulkOp(), // Initialize the Ordered Batch\n    \t\tcounter = 0;    \t\n  \t\n\t\t// Case 1. Change type of value of property, without changing the value.    \t\n        col.find({\"timestamp\": {\"$exists\": true, \"$type\": 2} }).each(function (err, doc) {\n            \t\t\t\n\t\t\tvar newTimestamp = parseInt(doc.timestamp);\n\t\t\tbulk.find({ \"_id\": doc._id }).updateOne({\n\t\t\t\t\"$set\": { \"timestamp\": newTimestamp }\n\t\t\t});\n\t\t\t\t\t\t\n    \t\tcounter++;\n\t\t\t\n    \t\tif (counter % 1000 == 0 ) {\n    \t\t\tbulk.execute(function(err, result) {  \n                    // re-initialise batch operation           \n    \t\t\t\tbulk = col.initializeOrderedBulkOp();\n    \t\t\t});\n            }\n        });\n    \t\n    \tif (counter % 1000 != 0 ){\n            bulk.execute(function(err, result) {\n    \t\t\t// do something with result\n                db.close();\n            }); \n        } \n    });\n\t",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33840933",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "170681903",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    gulp.task('nodestart', function (cb) {\n      exec('node bin/www.js', function (err, stdout, stderr) {\n        console.log(stdout);\n        console.log(stderr);\n        cb(err);\n      });\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    var gulp = require('gulp')\n      , exec = require('child_process').exec\n    \n    gulp.task('nodestart', function (cb) {\n      exec('node bin/www.js', function (err, stdout, stderr) {\n        console.log(stdout);\n        console.log(stderr);\n        cb(err);\n      });\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33878828",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "171114450",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    session.should.have.property('uuid').which.obj.should.have.length(36);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2222222222222222,
        "Content": "    var session = {\n        \"uuid\": \"60afc3fa-920d-11e5-bd17-b9db323e7d51\",\n        \"type\": \"candy\"\n    };\n    session.should.have.property('uuid').which.obj.should.have.length(36);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33878828",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "171114448",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    session.should.have.property('uuid').with.a.lengthOf(36);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2222222222222222,
        "Content": "    var session = {\n        \"uuid\": \"60afc3fa-920d-11e5-bd17-b9db323e7d51\",\n        \"type\": \"candy\"\n    };\n    session.should.have.property('uuid').with.a.lengthOf(36);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "33903875",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "171406420",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var async = require('async');    \n    var data=0; //data to be interchanged amongst the series of functions\n    \n    async.series([\n        function(callback) {\n                //task 1\n                data=10;\n                callback();\n        },\n        function(callback) {\n                //task 2\n                data=data-5;\n                callback();\n        }\n    ], function(err) { //This function gets called after the two tasks have called their \"task callbacks\"\n        if (err) return next(err);\n    });\n    console.log(data); //5",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7164179104477612,
        "Content": "    var async = require('async');    \n    var data=0; //data to be interchanged amongst the series of functions\n    \n    async.series([\n        function(callback) {\n                //task 1\n                data=10;\n                callback();\n        },\n        function(callback) {\n                //task 2\n                data=data-5;\n                callback();\n        }\n    ]);\n    console.log(data); //5",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34005808",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "172562371",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var frisby = require('frisby');\n    \n    // Customize Frisby.js for the StackExchange REST API\n    exports.frisby = {\n        create: function(describe) {\n            var _frisby = frisby.create(describe);\n    \n            _frisby.expectSEwrapper = function() {\n                return this.expectStatus(200)\n                           .expectHeader('content-type', 'application/json; charset=utf-8')\n                           .expectHeader('content-encoding', 'gzip')\n                           .expectJSONTypes('', {\n                               items: Array,\n                               has_more: Boolean,\n                               quota_max: Number,\n                               quota_remaining: Number\n                           });\n            return _frisby;\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var frisby = require('frisby');\n    \n    // Customize Frisby.js for the StackExchange REST API\n    exports.frisby = {\n        create: function(describe) {\n            var _frisby = frisby.create(describe);\n    \n            _frisby.expectSEwrapper = function() {\n                return this.expectStatus(200)\n                           .expectHeader('content-type', 'application/json; charset=utf-8')\n                           .expectHeader('content-encoding', 'gzip')\n                           .expectJSONTypes('', {\n                               items: Array,\n                               has_more: Boolean,\n                               quota_max: Number,\n                               quota_remaining: Number\n                           });\n            }\n            return _frisby;\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34018909",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "172710378",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n      entry: {\n        \"bundle\": \"./entry.js\",\n        \"bundle.min\": \"./entry.js\",\n      },\n      devtool: \"source-map\",\n      output: {\n        path: \"./dist\",\n        filename: \"[name].js\"\n      },\n      plugins: [\n        new webpack.optimize.UglifyJsPlugin({\n          include: /\\.min\\.js$/,\n          minimize: true\n        })\n      ]\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const webpack = require(\"webpack\");\n    module.exports = {\n      entry: {\n        \"bundle\": \"./entry.js\",\n        \"bundle.min\": \"./entry.js\",\n      },\n      devtool: \"source-map\",\n      output: {\n        path: \"./dist\",\n        filename: \"[name].js\"\n      },\n      plugins: [\n        new webpack.optimize.UglifyJsPlugin({\n          include: /\\.min\\.js$/,\n          minimize: true\n        })\n      ]\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34031741",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "172858179",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var otherThanNull = arr.some(function (el) {\n        return el !== null;\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7692307692307693,
        "Content": "    var arr = [null, 2, null, null];\n    var otherThanNull = arr.some(function (el) {\n        return el !== null;\n    }); // true",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34036323",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "172910683",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tvar YsakON = { // YsakObjectNotation\n\t  stringify: function(o, prefix) {          \n\t\tprefix = prefix || '';\n\t\t\n\t\tswitch (typeof o)\n\t\t{\n\t\t  case 'object':\n\t\t\tif (Array.isArray(o))\n\t\t\t  return prefix + '=' + JSON.stringify(o) + '\\n';\n\t\t\t\n\t\t\tvar output = \"\"; \n\t\t\tfor (var k in o)\n\t\t\t{\n\t\t\t  if (o.hasOwnProperty(k)) \n\t\t\t\toutput += this.stringify(o[k], prefix + '.' + k);\n\t\t\t}\n\t\t\treturn output;\n\t\t  case 'function':\n\t\t\treturn \"\";\n\t\t  default:\n\t\t\treturn prefix + '=' + o + '\\n';\n\t\t}   \n\t  }\n\t};\n    // Usage:\n    YaskON.stringify(obj);\n    ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var YsakON = { // YsakObjectNotation\n      stringify: function(o, prefix) {          \n        prefix = prefix || 'root';\n        \n        switch (typeof o)\n        {\n          case 'object':\n            if (Array.isArray(o))\n              return prefix + '=' + JSON.stringify(o) + '\\n';\n            \n            var output = \"\"; \n            for (var k in o)\n            {\n              if (o.hasOwnProperty(k)) \n                output += this.stringify(o[k], prefix + '.' + k);\n            }\n            return output;\n          case 'function':\n            return \"\";\n          default:\n            return prefix + '=' + o + '\\n';\n        }   \n      }\n    };\n    var o = {\n    \ta: 1,\n      b: true,\n      c: {\n        d: [1, 2, 3]\n      },\n      calc: 1+2+3,\n      f: function(x) { // ignored\n        \n      }\n    };\n    document.body.innerText = YsakON.stringify(o, 'o');\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34065528",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "173247432",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var createBrowserHistory = require('history/lib/createBrowserHistory')\n    module.export = createBrowserHistory()",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var createBrowserHistory = require('history/lib/createBrowserHistory')\n    module.exports = createBrowserHistory()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34088813",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "173520235",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "let ts = require('typescript');\nlet source = ts.transpile('class Test {}', compileOptions);\nThis results in:\n'var Test = (function () {\\n    function Test() {\\n    }\\n    return Test;\\n})();\\n'",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7777777777777778,
        "Content": "    let ts = require('typescript');\n    let source = ts.transpileModule('class Test {}', {}).outputText;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34110182",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "173754028",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var https = require('https');\n    var http = require('http');\n    var app = express();\n    \n    http.createServer(app).listen(80);\n    https.createServer(options, app).listen(443);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.48484848484848486,
        "Content": "    var express = require(\"express\");\n    var https = require('https');\n    var BinaryServer = require('binaryjs').BinaryServer;\n    var fs = require('fs');\n    var options = {\n      key: fs.readFileSync('key.pem'),\n      cert: fs.readFileSync('cert.pem')\n    };\n    var app = express();\n    app.use(express.static('public'));\n    https.createServer(options, app).listen(9000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34120669",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "173875258",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var bcrypt = require(\"bcrypt-nodejs\");\n    \n    module.exports = function(sequelize, DataTypes) {\n    \n    var User = sequelize.define('users', {\n        annotation_id: {\n            type: DataTypes.INTEGER,\n            autoIncrement: true,\n            primaryKey: true\n        },\n        firstName: {\n            type: DataTypes.DATE,\n            field: 'first_name'\n        },\n        lastName: {\n            type: DataTypes.DATE,\n            field: 'last_name'\n        },\n        email: DataTypes.STRING,\n        password: DataTypes.STRING,\n    \n    }, {\n        freezeTableName: true\n        instanceMethods: {\n            generateHash: function(password) {\n                return bcrypt.hashSync(password, bcrypt.genSaltSync(8), null);\n            },\n            validPassword: function(password) {\n                return bcrypt.compareSync(password, this.password);\n            },\n        }\n    });\n    \n        return User;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const bcrypt = require(\"bcrypt\");\n    \n    module.exports = function(sequelize, DataTypes) {\n        const User = sequelize.define('users', {\n            annotation_id: {\n                type: DataTypes.INTEGER,\n                autoIncrement: true,\n                primaryKey: true\n            },\n            firstName: {\n                type: DataTypes.DATE,\n                field: 'first_name'\n            },\n            lastName: {\n                type: DataTypes.DATE,\n                field: 'last_name'\n            },\n            email: DataTypes.STRING,\n            password: DataTypes.STRING\n        }, {\n            freezeTableName: true,\n            instanceMethods: {\n                generateHash(password) {\n                    return bcrypt.hash(password, bcrypt.genSaltSync(8));\n                },\n                validPassword(password) {\n                    return bcrypt.compare(password, this.password);\n                }\n            }\n        });\n        \n        return User;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34230034",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "175130714",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = exports = function objectIdAsString(schema) {\n      schema.methods.objectIdAsString = function objectIdAsString() {\n        return mongoose.Types.ObjectId().toString();\n      };\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var mongoose = require('mongoose');\n    \n    module.exports = exports = function objectIdAsString(schema) {\n      schema.methods.objectIdAsString = function objectIdAsString() {\n        return mongoose.Types.ObjectId().toString();\n      };\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34248299",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "175342772",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tvar request = require('request'); \n\trequest({\n\t    method: 'POST',\n\t    url: 'http://example.com/login',\n\t    headers: {\n\t        \"User-Agent\": \"Chocolate 2.0 XD\",   \n\t    },\n\t    formData: {\n\t\t    user_id: \"some user\",\n\t\t    password: \"some pass\"\n\t    }\n\t    storecookie: 'on',\n\t    checkerrors: 'yes',\n\t},function(error, response,body){\n\t    if(error){\n\t    console.log(error);\n\t    } else if(response.statuscode !== 200) {\n\t    console.log(response.body);   \n\t    }\n\t});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "\tvar request = require('request'); \n\trequest({\n\t    method: 'POST',\n\t    url: 'http://example.com/login',\n\t    headers: {\n\t        \"User-Agent\": \"Chocolate 2.0 XD\",   \n\t    },\n\t    formData: {\n\t\t    user_id: \"some user\",\n\t\t    password: \"some pass\",\n\t\t    storecookie: 'on',\n\t\t    checkerrors: 'yes'\n\t    }\n\t},function(error, response,body){\n\t    if(error){\n\t    console.log(error);\n\t    } else if(response.statuscode !== 200) {\n\t    console.log(response.body);   \n\t    }\n\t});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34298296",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "175921416",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var typeError = new TypeError(\"hey\")\n    for(var prop in typeerror) {\n      console.log(prop) // this does not run\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var typeError = new TypeError(\"hey\")\n    for(var prop in typeError) {\n      console.log(prop) // this does not run\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34314864",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "176120883",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import 'selec2/dist/js/select2.full.js",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    import 'select2/dist/js/select2.full.js'",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34437462",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "177579908",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function httpGet(url, callback) {\n      const options = {\n        url :  url,\n        json : true\n      };\n      request(options,\n        function(err, res, body) {\n          callback(err, body);\n        }\n      );\n    }\n    \n    const urls= [\n      \"http://localhost:3010/alm/build_tool\",\n      \"http://localhost:3010/alm/development_tool\",\n      \"http://localhost:3010/alm/project_architecture\"\n    ];\n    \n    async.map(urls, httpGet, function (err, res){\n      if (err) return console.log(err);\n      console.log(res);\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const async = require('async');\n    const request = require('request');\n    function httpGet(url, callback) {\n      const options = {\n        url :  url,\n        json : true\n      };\n      request(options,\n        function(err, res, body) {\n          callback(err, body);\n        }\n      );\n    }\n    \n    const urls= [\n      \"http://localhost:3010/alm/build_tool\",\n      \"http://localhost:3010/alm/development_tool\",\n      \"http://localhost:3010/alm/project_architecture\"\n    ];\n    \n    async.map(urls, httpGet, function (err, res){\n      if (err) return console.log(err);\n      console.log(res);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34459977",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "177851257",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     require(\"http\").createServer(function (req, res) {\n         res.end(\"Hello from server started by Electron app!\");\n     }).listen(9000).",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "     require(\"http\").createServer(function (req, res) {\n         res.end(\"Hello from server started by Electron app!\");\n     }).listen(9000)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34489905",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "178205359",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var s1 = require('./schema/schema1');\n    var s2 = require('./schema/schema2');\n    module.export = {\n        schema1: s1,\n        schema2: s2\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    var s1 = require('./schema/schema1');\n    var s2 = require('./schema/schema2');\n    module.exports = {\n        schema1: s1,\n        schema2: s2\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34489905",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "178205353",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var s1 = require('./schema/schema1');\n    var s2 = require('./schema/schema2');\n    module.export = function (app) {\n        return {\n            schema1: s1,\n            schema2: s2\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9166666666666666,
        "Content": "    var s1 = require('./schema/schema1');\n    var s2 = require('./schema/schema2');\n    module.exports = function (app) {\n        return {\n            schema1: s1,\n            schema2: s2\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34541194",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "178821305",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "       // valid \n       return false;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    function verifyJson(input){\n       try {\n          JSON.parse(input);\n       } catch(ex) {\n          return ex.message; // Is invalid \n       }\n       return false; // Is valid \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34749179",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "181302578",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var newData = 'var arr = ' + JSON.stringify(array) + ';\\n'\n    fs.writeFileSync('newfile.txt', newData, 'utf8');",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    var fs = require('fs')\n    var inLines = fs.readFileSync('in.txt').toString().split(\"\\n\");\n    var trimmed = inLines.map(function (line) {\n      return line.trim();\n    });\n    // remove any blank lines\n    var noEmpties = trimmed.filter(function (line) {\n      return line;\n    });\n    var newData = 'var arr = ' + JSON.stringify(noEmpties) + ';\\n'\n    fs.writeFileSync('newfile.txt', newData, 'utf8');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34790240",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "181784363",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = express();\n    app.get('/', function (req, res) {\n      console.log('index.html is NOT served by static middleware');\n      res.sendFile(path.resolve(__dirname + '/../client/index.html'));\n    });\n    app.listen(3000, function () {\n      console.log('Server is now listening on port 3000...');\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9666666666666667,
        "Content": "    var path = require('path');\n    var express = require('express');\n    var app = express();\n    app.get('/', function (req, res) {\n        console.log('index.html is NOT served by static middleware');\n        res.sendFile(path.resolve(__dirname + '/../client/index.html'));\n    });\n    app.listen(9000, function () {\n      console.log('Example app listening on port 9000!');\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34818067",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "182110664",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var exec = require('child_process').exec;\n    var complileit = 'java -jar compiler.jar inputcodefile outputexecutablefile';\n    \n    exec(compileit, function(error, stdout, stderr) {\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    var exec = require('child_process').exec;\n    var compileit = 'java -jar compiler.jar inputcodefile outputexecutablefile';\n    \n    exec(compileit, function(error, stdout, stderr) {\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34831405",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "182266646",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var keystone = require('keystone');\n    var Types = keystone.Field.Types;\n    var uniqueValidator = require('mongoose-unique-validator');\n    \n    var Word = new keystone.List('Word', { \n    \tmap: { name: 'word' }\n    });\n    \n    Word.add({\n    \tword: { type: Types.Text, unique: true, index: true, unique: true }\n    });\n    \n    Word.schema.plugin(uniqueValidator);\n    \n    Word.defaultColumns = 'word';\n    \n    Word.register();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var keystone = require('keystone');\n    var Types = keystone.Field.Types;\n    var uniqueValidator = require('mongoose-unique-validator');\n    \n    var Word = new keystone.List('Word', { \n    \tmap: { name: 'word' }\n    });\n    \n    Word.add({\n    \tword: { type: Types.Text, index: true, unique: true }\n    });\n    \n    Word.schema.plugin(uniqueValidator);\n    \n    Word.defaultColumns = 'word';\n    \n    Word.register();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34870006",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "182718655",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const s_name = Symbol();\n    const s_gender = Symbol();\n    \n    const getNameWithInitial = function () {\n      let initial = this.[s_gender] === 'male' ?\n        'Mr. ' :\n        'Mrs. ';\n      return initial + this.[s_name];\n    }\n    \n    export class Person {\n    \n      constructor(name, gender) {\n        this.[s_name] = name;\n        this.[s_gender] = gender;\n      }\n    \n      get name() {\n        return getNameWithInitial.call(this);\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const s_name = Symbol();\n    const s_gender = Symbol();\n    \n    const getNameWithInitial = function () {\n      let initial = this[s_gender] === 'male' ?\n        'Mr. ' :\n        'Mrs. ';\n      return initial + this[s_name];\n    }\n    \n    export class Person {\n    \n      constructor(name, gender) {\n        this[s_name] = name;\n        this[s_gender] = gender;\n      }\n    \n      get name() {\n        return getNameWithInitial.call(this);\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34907989",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "183162539",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var ENV_node = \"the ENV_node value\";\n    function test(envCtor) {\n      var before = envCtor;\n      envCtor = ({ node: ENV_node })[envCtor];\n      snippet.log(before + \" -> \" + envCtor);\n    }\n    test(\"foo\");\n    test(\"node\");\n    test(\"toString\");",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9473684210526315,
        "Content": "    var ENV_node = \"the ENV_node value\";\n    function test(envCtor) {\n        var before = envCtor;\n        envCtor = { node: ENV_node }[envCtor];\n        console.log(before + \" -> \" + envCtor);\n    }\n    test(\"node\");\n    test(\"toString\");\n    test(\"foo\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "34956314",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "183729717",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Define routes\n    app.get('/api/v1', function (req, res, next) {\n      res.json({\n        \"Hello\": \"World\"\n      });\n    });\n    // Export the app object\n    module.exports = app;",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var router = express.Router();\n    // Define routes\n    router.get('/api/v1', function (req, res, next) {\n      res.json({\n        \"Hello\": \"World\"\n      });\n    });\n    // Export the router. This will be used in the 'app.js' file.",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35029308",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "184586557",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var output = [1,2,3,4,5,6,7,8,9,10].reduce((r, v, n) => {\n        if (n%2) {\n            r.push({[r._]: v});\n            delete r._;\n        }\n        else {\n            r._ = v;\n        }\n        return r;\n    }, []);\n    console.log(output);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var output = [1,2,3,4,5,6,7,8,9,10].reduce((result, value, index, array) => {\n        if (index % 2) {\n            result.push({[array[index - 1]]: value});\n        }\n        return result;\n    }, []);\n    console.log(output);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35211188",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "186726138",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var str = 'Type1\\tCode\\tPrice\\tQuantity\\r\\n4X-US0U-R114\\tB004P2NG0K\\t37.99\\t15\\r\\nGC-NP0Y-XPOA\\tB007KAYCGQ\\t150.00\\t4\\r\\nRL-E0ZD-16G1\\tB016FWZDO4\\t28.00\\t\\r\\n'\n    var rows = str.split(/\\n/g);\n    var title = rows.shift().split(/\\t/g);\n    var altered = rows.reduce( function(arr, cur) {\n        var x = {};\n        if(cur.length){\n            var parts = $.trim(cur).split(/\\t/g);    \n            parts.map( function(v,i){\n                x[title[i]] = v;\n            } );\n            arr.push(x);\n        }\n        return arr;\n    }, [] );",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.96,
        "Content": "    var str = 'Type1\\tCode\\tPrice\\tQuantity\\r\\n4X-US0U-R114\\tB004P2NG0K\\t37.99\\t15\\r\\nGC-NP0Y-XPOA\\tB007KAYCGQ\\t150.00\\t4\\r\\nRL-E0ZD-16G1\\tB016FWZDO4\\t28.00\\t\\r\\n'\n    var rows = str.split(/\\r\\n/g);\n    var title = rows.shift().split(/\\t/g);\n    var altered = rows.reduce( function(arr, cur) {\n        var x = {};\n        if(cur.length){\n            var parts = cur.split(/\\t/g);    \n            parts.map( function(v,i){\n                x[title[i]] = v;\n            } );\n            arr.push(x);\n        }\n        return arr;\n    }, [] );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35234746",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "187004629",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function t() {\n      return new Promise(function(resolve, reject) {\n        reslove('j');\n      });\n    }\n    \n    t().then(function(result) {\n      console.log(result);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9,
        "Content": "    function t() {\n      return new Promise(function(resolve, reject) {\n        resolve('j');\n      });\n    }\n    \n    t().then(function(result) {\n      console.log(result);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35271183",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "187434484",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function (req, res, next) {\n         if(!req.session.user) {\n             res.redirect('/login');\n         } else {\n           next();\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    module.exports = function (req, res, next) {\n         if(!req.session.user) {\n             res.redirect('/login');\n         } else {\n           next();\n         }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35301404",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "187781004",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tvar mocha = require('mocha');\n\tvar assert = require('chai').assert;\n\tvar Promise = require(\"bluebird\");\n\tvar fs = Promise.promisifyAll(require(\"fs\")); // allow Bluebird to take the pain out of promisification.\n\tvar parseString = require('xml2js').parseString;\n\tvar xpath = require('xpath');\n\tvar dom = require('xmldom').DOMParser;\n\tvar XLSX = require('xlsx');\n\tvar Excel = require(\"exceljs\");\n\tvar should = require('chai').should();\n\t// var HashMap = require('hashmap');\n\tvar colors = require('colors');\n\trequire('/xmlValidator/dbConnect.js');\n\tconst PASS = \"PASS\";\n\tconst FAIL = \"FAIL\";\n\tconst INVALID_PATH = \"INVALID_PATH\";\n\tfunction printResult(elementMap) {\n\t\tvar key, result, \n\t\t\tmap = { PASS: 0, FAIL: 0, INVALID_PATH: 0 },\n\t\t\tcolorNames = { PASS: 'black', FAIL: 'red', INVALID_PATH: 'yellow' };\n\t\tfor(key in elementMap) {\n\t\t\tresult = elementMap[key];\n\t\t\tmap[(result === PASS || result === FAIL) ? result : INVALID_PATH] += 1;\n\t\t\tconsole.log((key + \": \" + result)[colorNames[result] || 'black']); // presumably colors can be applied with associative syntax? If so, then the code can be very concise.\n\t\t}\n\t\tconsole.log((\"PASS Count: \" + map.PASS)[colorNames.PASS]);\n\t\tconsole.log((\"FAIL Count: \" + map.FAIL).[colorNames.FAIL]);\n\t\tconsole.log((\"Inavlid Path: \" + map.INVALID_PATH)[colorNames.INVALID_PATH]);\n\t}\n\tfunction validate(doc, dataPath, dataValue) {\n\t\tvar subId = xpath.select1(dataPath, doc),\n\t\t\tvalue = subId.lastChild.data,\n\t\t\tresult;\n\t\tif (String(subId) == \"undefined\") {\n\t\t\tresult = INVALID_PATH;\n\t\t} else {\n\t\t\tif (dataValue === null) {\n\t\t\t\tassert.notEqual(value, dataValue, \"value not found\"); // not too sure what this does\n\t\t\t\tresult = PASS;\n\t\t\t} else {\n\t\t\t\tresult = (value === dataValue) ? PASS : FAIL;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\t//Main routine\n\tvar workbook = new Excel.Workbook();\n\tvar promise1 = workbook.xlsx.readFile('utils/' + process.argv[2]); // from the question, workbook.xlsx.readFile() appears to return a promise.\n\tvar promise2 = fs.readFileAsync('utils/' + process.argv[3], 'utf8');\n\tPromise.all([promise1, promise2]).spread(function(data2, data3) {\n\t\tvar worksheet = workbook.getWorksheet(1),\n\t\t\tdoc = new dom().parseFromString(data3),\n\t\t\telementMap = {};\n\t\tworksheet.eachRow(function(row, rowNumber) {\n\t\t\t// var row = worksheet.getRow(rowNumber); // row is already a formal variable ??? \n\t\t\tvar dataPath, dataValue;\n\t\t\tif (!row.getCell('E').value)\n\t\t\t\tdataPath = row.getCell('A').value + row.getCell('B').value;\n\t\t\t\tdataValue = row.getCell('D').value;\n\t\t\t\telementMap[dataPath] = validate(doc, dataPath, dataValue);\n\t\t});\n\t\tprintResult(elementMap);\n\t});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "\tvar mocha = require('mocha');\n\tvar assert = require('chai').assert;\n\tvar Promise = require(\"bluebird\");\n\tvar fs = Promise.promisifyAll(require(\"fs\")); // allow Bluebird to take the pain out of promisification.\n\tvar parseString = require('xml2js').parseString;\n\tvar xpath = require('xpath');\n\tvar dom = require('xmldom').DOMParser;\n\tvar XLSX = require('xlsx');\n\tvar Excel = require(\"exceljs\");\n\tvar should = require('chai').should();\n\t// var HashMap = require('hashmap');\n\tvar colors = require('colors');\n\trequire('/xmlValidator/dbConnect.js');\n\tconst PASS = \"PASS\";\n\tconst FAIL = \"FAIL\";\n\tconst INVALID_PATH = \"INVALID_PATH\";\n\tfunction printResult(elementMap) {\n\t\tvar key, result, \n\t\t\tmap = { PASS: 0, FAIL: 0, INVALID_PATH: 0 },\n\t\t\tcolorNames = { PASS: 'black', FAIL: 'red', INVALID_PATH: 'yellow' };\n\t\tfor(key in elementMap) {\n\t\t\tresult = elementMap[key];\n\t\t\tmap[(result === PASS || result === FAIL) ? result : INVALID_PATH] += 1;\n\t\t\tconsole.log((key + \": \" + result)[colorNames[result] || 'black']); // presumably colors can be applied with associative syntax? If so, then the code can be very concise.\n\t\t}\n\t\tconsole.log((\"PASS Count: \" + map.PASS)[colorNames.PASS]);\n\t\tconsole.log((\"FAIL Count: \" + map.FAIL)[colorNames.FAIL]);\n\t\tconsole.log((\"Inavlid Path: \" + map.INVALID_PATH)[colorNames.INVALID_PATH]);\n\t}\n\tfunction validate(doc, dataPath, dataValue) {\n\t\tvar subId = xpath.select1(dataPath, doc),\n\t\t\tvalue = subId.lastChild.data,\n\t\t\tresult;\n\t\tif (String(subId) == \"undefined\") {\n\t\t\tresult = INVALID_PATH;\n\t\t} else {\n\t\t\tif (dataValue === null) {\n\t\t\t\tassert.notEqual(value, dataValue, \"value not found\"); // not too sure what this does\n\t\t\t\tresult = PASS;\n\t\t\t} else {\n\t\t\t\tresult = (value === dataValue) ? PASS : FAIL;\n\t\t\t}\n\t\t}\n\t\treturn result;\n\t}\n\t//Main routine\n\tvar workbook = new Excel.Workbook();\n\tvar promise1 = workbook.xlsx.readFile('utils/' + process.argv[2]); // from the question, workbook.xlsx.readFile() appears to return a promise.\n\tvar promise2 = fs.readFileAsync('utils/' + process.argv[3], 'utf8');\n\tPromise.all([promise1, promise2]).spread(function(data2, data3) {\n\t\tvar worksheet = workbook.getWorksheet(1),\n\t\t\tdoc = new dom().parseFromString(data3),\n\t\t\telementMap = {};\n\t\tworksheet.eachRow(function(row, rowNumber) {\n\t\t\t// var row = worksheet.getRow(rowNumber); // row is already a formal variable ??? \n\t\t\tvar dataPath, dataValue;\n\t\t\tif (!row.getCell('E').value)\n\t\t\t\tdataPath = row.getCell('A').value + row.getCell('B').value;\n\t\t\t\tdataValue = row.getCell('D').value;\n\t\t\t\telementMap[dataPath] = validate(doc, dataPath, dataValue);\n\t\t});\n\t\tprintResult(elementMap);\n\t});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35302535",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "187795314",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function defer(callback) {\n      return new Promise(function(resolve) {\n        setTimeout(function() {\n          resolve(callback());\n        }, 100);\n      });\n    }\n    async function incrementTwice(num) {\n      const numPlus1 = await defer(() => num + 1);\n      return numPlus1 + 2;\n    }\n    \n    // Logs: 4\n    increment(3).then(num => console.log(num));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function defer(callback) {\n      return new Promise(function(resolve) {\n        setTimeout(function() {\n          resolve(callback());\n        }, 1000);\n      });\n    }\n    async function incrementTwice(num) {\n      const numPlus1 = await defer(() => num + 1);\n      return numPlus1 + 1;\n    }\n    \n    // Logs: 5\n    incrementTwice(3).then(num => console.log(num));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35379935",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "188687558",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var request = youtubeV3.search.list({\n        part: 'snippet',\n        type: 'video',\n        q: 'Cat',\n        maxResults: 50,\n        order: 'date',\n        safeSearch: 'moderate',\n        videoEmbeddable: true\n    });\n    \n    request.execute( (response) => {\n      // your code here\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8135593220338984,
        "Content": "    var google = require('googleapis'),\n        youtubeV3 = google.youtube( { version: 'v3', auth: 'API_KEY' } );\n    \n    var request =  youtubeV3.search.list({\n        part: 'snippet',\n        type: 'video',\n        q: 'Cat',\n        maxResults: 50,\n        order: 'date',\n        safeSearch: 'moderate',\n        videoEmbeddable: true\n    }, (err,response) => {\n      // your code here\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35412848",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "189050894",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function oneref(db, coll, cb) {\n        var pipeline = [{ \"$sample\": { size: 1 } }];\n        coll.aggregate(pipeline, function (err, oneref) {\n            if (err) return cb(err);\n            var hoho = oneref[0].code\n            console.log('hoho?: ' + ohoh);\n            cb(null, hoho);   \n        });    \n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function oneref(db, coll, cb) {\n        var pipeline = [{ \"$sample\": { size: 1 } }];\n        coll.aggregate(pipeline, function (err, oneref) {\n            if (err) return cb(err);\n            var hoho = oneref[0].code\n            console.log('hoho?: ' + hoho);\n            cb(null, hoho);   \n        });    \n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35478865",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "189815214",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var https = request('https');\n    var options = {\n      hostname: 'example.com',\n      port: 83,\n      path: '/v1/api?a=b',\n      method: 'GET',\n      key: fs.readFileSync('/path/to/private-key/key.pem'),\n      cert: fs.readFileSync('/path/to/certificate/client_cert.pem'),  \n      passphrase: 'password'\n    };\n    var req = https.request(options, function(res) {\n    console.log(res.statusCode);\n    res.on('data', function(d) {\n      process.stdout.write(d);\n      });\n    });\n    req.end()",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9310344827586207,
        "Content": "    var https = require('https');\n    var fs  = require('fs');\n    var options = {\n      hostname: 'example.com',\n      port: 83,\n      path: '/v1/api?a=b',\n      method: 'GET',\n      key: fs.readFileSync('/path/to/private-key/key.pem'),\n      cert: fs.readFileSync('/path/to/certificate/client_cert.pem'),  \n      passphrase: 'password'\n    };\n    var req = https.request(options, function(res) {\n    console.log(res.statusCode);\n    res.on('data', function(d) {\n      process.stdout.write(d);\n      });\n    });\n    req.end()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35501063",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "190071601",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var handler = {\n      defineProperty (target, key, descriptor) {\n        console.log('changed from:', target[key], 'to', descriptor.value);\n      }\n    }\n    var target = {}\n    var proxy = new Proxy(target, handler)\n    proxy.foo = 'bar2' //changed from undefined to bar2\n    proxy.foo = 'bar'  //changed from bar2 to bar",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7142857142857143,
        "Content": "    var handler = {\n      defineProperty (target, key, descriptor) {\n        console.log('changed options from:', target[key], 'to', descriptor.value);\n        if(typeof descriptor.value === 'object'){\n        \tdescriptor.value = new Proxy(descriptor.value,handler);\n        }\n        Object.defineProperty(target, key, descriptor);\n        return true;\n      }\n    }\n    \n    var target = {}\n    var proxy = new Proxy(target, handler)\n    \n    proxy.foo = 'bar2'        // changed from undefined to bar2\n    proxy.foo = 'bar'         // changed from bar2 to bar\n    proxy.options = { a: 50 } // changed from undefined to Object { a: 50 }\n    proxy.options.a = 15      // changed from 50 to 15\n    proxy.options.b = 60      // changed from undefined to 60",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35545646",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "190592992",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var bot = {\n        act: function() {\n            //make post request here\n            var delay = Math.random() * 500; /*set random delay to mimic human */\n            setTimeout(act, delay);\n        }\n    }\n    \n    var bots = [];\n    \n    for (var i = 0; i < 10; i++) {\n        bots.push(Object.create(bot));\n    }\n    \n    bots.forEach(function(bot) {\n        bot.act();\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9705882352941176,
        "Content": "    var bot = {\n        act: function() {\n            //make post request here\n            var delay = Math.random() * 500; /*set random delay to mimic human */\n            setTimeout(this.act.bind(this), delay);\n        }\n    }\n    \n    var bots = [];\n    \n    for (var i = 0; i < 10; i++) {\n        bots.push(Object.create(bot));\n    }\n    \n    bots.forEach(function(bot) {\n        bot.act();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35604689",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191270147",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require('http')\n    ,   fs   = require('fs') //require fs to read your key & cert\n    ,   app  = require(\"express\")\n    ,   key  = fs.readFileSync('<<PATH TO YOUR SSL KEY>>apache.key', 'utf8')\n    ,   cert = fs.readFileSync('<<PATH TO YOUR SSL CERT>>apache.crt', 'utf8')\n    \n    var server = https.createServer({key: key, cert: cert}, app); //then create your server\n    \n    server.listen(45621)\n    var io = require(\"socket.io\").listen(server);\n    \n    io.sockets.on(\"connection\", function(socket) {\n        console.log(\"socket id \" + socket.id + \" connected !\")\n        socket.on(\"foo\", function() { console.log(\"bar\") })\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var https = require('https')\n    ,   fs    = require('fs') //require fs to read your key & cert\n    ,   app   = require(\"express\")\n    ,   key   = fs.readFileSync('<<PATH TO YOUR SSL KEY>>apache.key', 'utf8')\n    ,   cert  = fs.readFileSync('<<PATH TO YOUR SSL CERT>>apache.crt', 'utf8')\n    \n    var server = https.createServer({key: key, cert: cert}, app); //then create your server\n    \n    server.listen(45621)\n    var io = require(\"socket.io\").listen(server);\n    \n    io.sockets.on(\"connection\", function(socket) {\n        console.log(\"socket id \" + socket.id + \" connected !\")\n        socket.on(\"foo\", function() { console.log(\"bar\") })\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35616709",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191408150",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // b\n    ...\n    exports.thirdParty = require('third-party');\n    // first-party\n    ...\n    exports.thirdParty = require('third-party');",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2222222222222222,
        "Content": "    require('./rand.js'); // 0.697190385311842\n    require('./rand.js'); // 0.697190385311842",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35619786",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "191442979",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var ZZZ = typeof req.query.ZZZ !== 'undefined' ? req.query.ZZZ : 111;",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    req.query.ZZZ = parseInt(req.query.ZZZ) ? req.query.ZZZ : 111;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35649993",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191795244",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var path = require('path');\n    var cookieParser = require('cookie-parser');\n    var bodyParser = require('body-parser');\n    \n    var app = express();\n     \n     app.use(logger('dev'));\n     app.use(bodyParser.json());\n     app.use(bodyParser.urlencoded({ extended: false }));\n     app.use(cookieParser());\n    app.use('/liteconomy', express.static(__dirname + '/Liteconomy', {index: \"index.html\"}));\n    \n    // Rest of the stuff",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.989247311827957,
        "Content": "    var express = require('express');\n    var path = require('path');\n    var cookieParser = require('cookie-parser');\n    var bodyParser = require('body-parser');\n    \n    var app = express();\n     \n     app.use(bodyParser.json());\n     app.use(bodyParser.urlencoded({ extended: false }));\n     app.use(cookieParser());\n    // uncomment following if you want to access your app from /liteconomy\n    //app.use('/liteconomy', express.static(__dirname + '/Liteconomy', {index: \"index.html\"}));\n    //This will enable you to access it form '/'\n    app.use('/', express.static(__dirname + '/Liteconomy', {index: \"index.html\"}));\n    \n    // Rest of the stuff",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35695509",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "192320375",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var mysql   = require('mysql');\n    var Promise = require('bluebird');\n    var bodyParser = require('body-parser');\n    var app = express();\n    var connection = mysql.createConnection({\n      host     : 'localhost',\n      user     : 'myuser',\n      password : 'mypassword',\n      database : 'wordpress_test'\n    });\n    var queryAsync = Promise.promisify(connection.query.bind(connection));\n    connection.connect();\n    // do something when app is closing\n    // see http://stackoverflow.com/questions/14031763/doing-a-cleanup-action-just-before-node-js-exits\n    process.stdin.resume()\n    process.on('exit', exitHandler.bind(null, { shutdownDb: true } ));\n    var bodyParser = require('body-parser');\n    app.use(bodyParser.urlencoded({ extended: true }));\n    app.get('/', function (req, res) {\n      var numRows;\n      var queryPagination;\n      var numPerPage = parseInt(req.query.npp, 10) || 1;\n      var page = parseInt(req.query.page, 10) || 0;\n      var numPages;\n      var skip = page * numPerPage;\n      // Here we compute the LIMIT parameter for MySQL query\n      var limit = skip + ',' + skip + numPerPage;\n      queryAsync('SELECT count(*) as numRows FROM wp_posts')\n      .then(function(results) {\n        numRows = results[0].numRows;\n        numPages = Math.ceil(numRows / numPerPage);\n        console.log('number of pages:', numPages);\n      })\n      .then(() => queryAsync('SELECT * FROM wp_posts ORDER BY ID DESC LIMIT ' + limit))\n      .then(function(results) {\n        var responsePayload = {\n          results: results\n        };\n        if (page < numPages) {\n          responsePayload.pagination = {\n            current: page,\n            perPage: numPerPage,\n            previous: page > 0 ? page - 1 : undefined,\n            next: page < numPages - 1 ? page + 1 : undefined\n          }\n        }\n        else responsePayload.pagination = {\n          err: 'queried page ' + page + ' is >= to maximum page number ' + numPages\n        }\n        res.json(responsePayload);\n      })\n      .catch(function(err) {\n        console.error(err);\n        res.json({ err: err });\n      });\n    });\n    app.listen(3000, function () {\n      console.log('Example app listening on port 3000!');\n    });\n    function exitHandler(options, err) {\n      if (options.shutdownDb) {\n        console.log('shutdown mysql connection');\n        connection.end();\n      }\n      if (err) console.log(err.stack);\n      if (options.exit) process.exit();\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var mysql   = require('mysql');\n    var Promise = require('bluebird');\n    var bodyParser = require('body-parser');\n    var app = express();\n    var connection = mysql.createConnection({\n      host     : 'localhost',\n      user     : 'myuser',\n      password : 'mypassword',\n      database : 'wordpress_test'\n    });\n    var queryAsync = Promise.promisify(connection.query.bind(connection));\n    connection.connect();\n    // do something when app is closing\n    // see http://stackoverflow.com/questions/14031763/doing-a-cleanup-action-just-before-node-js-exits\n    process.stdin.resume()\n    process.on('exit', exitHandler.bind(null, { shutdownDb: true } ));\n    app.use(bodyParser.urlencoded({ extended: true }));\n    app.get('/', function (req, res) {\n      var numRows;\n      var queryPagination;\n      var numPerPage = parseInt(req.query.npp, 10) || 1;\n      var page = parseInt(req.query.page, 10) || 0;\n      var numPages;\n      var skip = page * numPerPage;\n      // Here we compute the LIMIT parameter for MySQL query\n      var limit = skip + ',' + numPerPage;\n      queryAsync('SELECT count(*) as numRows FROM wp_posts')\n      .then(function(results) {\n        numRows = results[0].numRows;\n        numPages = Math.ceil(numRows / numPerPage);\n        console.log('number of pages:', numPages);\n      })\n      .then(() => queryAsync('SELECT * FROM wp_posts ORDER BY ID DESC LIMIT ' + limit))\n      .then(function(results) {\n        var responsePayload = {\n          results: results\n        };\n        if (page < numPages) {\n          responsePayload.pagination = {\n            current: page,\n            perPage: numPerPage,\n            previous: page > 0 ? page - 1 : undefined,\n            next: page < numPages - 1 ? page + 1 : undefined\n          }\n        }\n        else responsePayload.pagination = {\n          err: 'queried page ' + page + ' is >= to maximum page number ' + numPages\n        }\n        res.json(responsePayload);\n      })\n      .catch(function(err) {\n        console.error(err);\n        res.json({ err: err });\n      });\n    });\n    app.listen(3000, function () {\n      console.log('Example app listening on port 3000!');\n    });\n    function exitHandler(options, err) {\n      if (options.shutdownDb) {\n        console.log('shutdown mysql connection');\n        connection.end();\n      }\n      if (err) console.log(err.stack);\n      if (options.exit) process.exit();\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35705064",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "192431639",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n        ...\n        target: \"node\",\n        ...\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    module.exports = {\n        // ...\n        target: \"node\",\n        // ...\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35883745",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194484030",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var ProxyCache = require( 'node-proxy-cache' ),\n        proxyCache = new ProxyCache({}),\n        DS = {};\n        \n    proxyCache.when( /google/, {\n        getKey: function( path, query ) { // allows you to generate keys \n            return 'foo:' + path; \n        },\n        headers: {\n            'X-Bar': 'Baz' // set custom headers when sending to proxy \n        },\n        caching: false // don't cache responses from google \n    });\n     \n    proxyCache.when( /foo.org/, {\n        cacheTime: function( cacheEntry, req, proxyRes ) {\n            if ( cacheEntry.body.length > 10000000 ) {\n                return -1; // don't cache big responses \n            }\n     \n            if ( req.url.match( /bar/) ) {\n                return 0; // cache bar stuff forever \n            }\n     \n            if ( proxyRes.statusCode === 404 ) {\n                return -1; // don't cache 404 responses \n            }\n     \n            return 10000; // only cache for 10 seconds \n        }  \n    });\n     \n    proxyCache.store({ // custom storeAdapter \n        get: function( key, callback ) {\n            callback( null, DS[key] ); // getting information \n        },\n        set: function( key, value, callback ) { // setting values to store \n            DS[ key ] = value; // value.body is a buffer  \n            callback( );\n        }\n    });\n     \n    proxy.listen( 9000 );\n ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9885057471264368,
        "Content": "    var ProxyCache = require( 'node-proxy-cache' ),\n        proxyCache = new ProxyCache({}),\n        DS = {};\n        \n    proxyCache.when( /google/, {\n        getKey: function( path, query ) { // allows you to generate keys \n            return 'foo:' + path; \n        },\n        headers: {\n            'X-Bar': 'Baz' // set custom headers when sending to proxy \n        },\n        caching: false // don't cache responses from google \n    });\n     \n    proxyCache.when( /foo.org/, {\n        cacheTime: function( cacheEntry, req, proxyRes ) {\n            if ( cacheEntry.body.length > 10000000 ) {\n                return -1; // don't cache big responses \n            }\n     \n            if ( req.url.match( /bar/) ) {\n                return 0; // cache bar stuff forever \n            }\n     \n            if ( proxyRes.statusCode === 404 ) {\n                return -1; // don't cache 404 responses \n            }\n     \n            return 10000; // only cache for 10 seconds \n        }  \n    });\n     \n    proxyCache.store({ // custom storeAdapter \n        get: function( key, callback ) {\n            callback( null, DS[key] ); // getting information \n        },\n        set: function( key, value, callback ) { // setting values to store \n            DS[ key ] = value; // value.body is a buffer  \n            callback( );\n        }\n    });\n     \n    proxyCache.listen( 9000 );\n ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35896832",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194632813",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const spawn = require('child_process').spawn;\n    function runIt(cmd, args) {\n        return new Promise(function(resolve, reject) {\n            const ls = spawn(cmd, args);\n    \n            let stdoutData = \"\";\n            let stderrData= \"\";\n            ls.stdout.on('data', (data) => {\n                stdoutData += data;\n            });\n    \n            ls.stderr.on('data', (data) => {\n                stderrData += data;\n            });\n    \n            ls.on('close', (code) => {\n                if (stderrData){\n                    reject(stderrData);\n                } else {\n                    resovle(stdoutData);\n                }\n            });\n            ls.on('error', (err) => {\n                reject(err);\n            });\n        }) \n    }\n    //usage\n    runIt('ls', ['-lh', '/usr']).then(function(stdoutData) {\n        // process stdout data here\n    }, function(err) {\n        // process stdError data here or error object (if some other type of error)\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8346456692913385,
        "Content": "    const spawn = require('child_process').spawn;\n    function runIt(cmd, args) {\n        return new Promise(function(resolve, reject) {\n            const ls = spawn(cmd, args);\n      \n            // Edit thomas.g: My child process generates binary data so I use buffers instead, see my comments inside the code \n            // Edit thomas.g: let stdoutData = new Buffer(0)\n            let stdoutData = \"\";\n            let stderrData= \"\";\n            ls.stdout.on('data', (data) => {\n            // Edit thomas.g: stdoutData = Buffer.concat([stdoutData, chunk]);\n                stdoutData += data;\n            });\n    \n            ls.stderr.on('data', (data) => {\n                stderrData += data;\n            });\n    \n            ls.on('close', (code) => {\n                if (stderrData){\n                    reject(stderrData);\n                } else {\n                    resolve(stdoutData);\n                }\n            });\n            ls.on('error', (err) => {\n                reject(err);\n            });\n        }) \n    }\n    //usage\n    runIt('ls', ['-lh', '/usr']).then(function(stdoutData) {\n        // process stdout data here\n    }, function(err) {\n        // process stdError data here or error object (if some other type of error)\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35923696",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "194945232",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var priceArray = [1, 5, 3, 7],\n        userIdArray = [11, 52, 41, 5],\n        temp = [...priceArray.keys()].sort((a, b) => priceArray[a] - priceArray[b]);\n    priceArray = temp.map(i => priceArray[i]);\n    userIdArray = temp.map(i => userIdArray[i]);\n    console.log(priceArray);\n    console.log(userIdArray);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9583333333333334,
        "Content": "    var priceArray = [1, 5, 3, 7],\n        userIdArray = [11, 52, 41, 5],\n        temp = Array.from(priceArray.keys()).sort((a, b) => priceArray[a] - priceArray[b]);\n    priceArray = temp.map(i => priceArray[i]);\n    userIdArray = temp.map(i => userIdArray[i]);\n    console.log(priceArray);\n    console.log(userIdArray);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35924439",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "194953590",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    div #{notification.content} #{notification.publishedDate}\n    \n    // Return | escaped string:\n    // <p>School is closed tomorrow <a href=\"http://www.booking.com\">link</a></p> 2016-03-07",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    // Return | escaped string:\n    // <p>School is closed tomorrow <a href=\"http://www.booking.com\">link</a></p> 2016-03-07",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35927692",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "194993259",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import { RealSomething } from `./RealSomething`\n    import { FakeSomething } from `./FakeSomething`\n    import { config } from '../config';\n    const Something = config.useFakeSomething ? FakeSomething : RealSomething;\n    export default Something;",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7857142857142857,
        "Content": "    import { config } from '../config';\n    const Something = config.useFakeSomething ?\n        require('./FakeSomething').FakeSomething :\n        require('./RealSomething').RealSomething;\n    export default Something;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "35931882",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "195043055",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const port = 3000;\n    \n    var express = require('express'),\n        app = express();\n    var bodyParser = require('body-parser');\n    \n    app.use(express.static(__dirname + '/public'));\n    \n    app.use(bodyParser.urlencoded({\n       extended: false;\n    }));\n    \n    app.use(bodyParser.json());\n    \n    app.post('/',function(req,res){\n       var username = req.body.username;\n       var html = 'Hello:' + username;\n       res.send(html);\n       console.log(html);\n    });\n    \n    app.listen(port);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const port = 3000;\n    \n    var express = require('express'),\n        app = express();\n    var bodyParser = require('body-parser');\n    \n    app.use(express.static(__dirname + '/public'));\n    \n    app.use(bodyParser.urlencoded({\n       extended: false\n    }));\n    \n    app.use(bodyParser.json());\n    app.get('/', function(req, res){\n      res.render('form');// if jade\n      // You should use one of line depending on type of frontend you are with\n      res.sendFile(__dirname + '/form.html'); //if html file is root directory\n     res.sendFile(\"index.html\"); //if html file is within public directory\n    });\n    \n    app.post('/',function(req,res){\n       var username = req.body.username;\n       var htmlData = 'Hello:' + username;\n       res.send(htmlData);\n       console.log(htmlData);\n    });\n    \n    app.listen(port);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36008396",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195932356",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    }\n    exports.init = init;",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var five = require(\"johnny-five\"); \n    var board = new five.Board();\n    function init(cb){\n        board.on(\"ready\", function() {\n            var temp = new five.Temperature({ pin: \"A2\", controller: \"AD8495\" }); \n            cb(temp);\n        });\n    }\n    exports.init = init;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36008396",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "195932358",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    tempModule.init(function (temp){\n        temp.on(\"data\", function() { \n            console.log(this.celsius + \"°C\", this.fahrenheit + \"°F\"); \n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var tempModule = require('tempModule.js');\n    \n    tempModule.init(function (temp){\n        temp.on(\"data\", function() { \n            console.log(this.celsius + \"°C\", this.fahrenheit + \"°F\"); \n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36098977",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "196983167",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var filePath = \"/files/some_pdf_file.pdf\"\n    var absolutePath = __dirname + dirPath; //will give you the correct path to the file",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express'),\n        fs = require('fs'),\n        app = express();\n    \n    app.get('/', function (req, res) {\n        var filePath = \"/files/my_pdf_file.pdf\";\n    \n        fs.readFile(__dirname + filePath , function (err,data){\n            res.contentType(\"application/pdf\");\n            res.send(data);\n        });\n    });\n    \n    app.listen(3000, function(){\n        console.log('Listening on 3000');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36149602",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "197552036",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //------ Main.js ------\n    import MyClass1 from 'MyClass01';\n    import MyClass2 from 'MyClass02';\n    const inst = new MyClass1();\n    const inst = new MyClass2();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9032258064516129,
        "Content": "    //------ Main.js ------\n    import MyClass1 from 'MyClass01';\n    import MyClass2 from 'MyClass02';\n    const inst01 = new MyClass1();\n    const inst02 = new MyClass2();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36225082",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "198417900",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //app.js\n    var parse = require('./routes/parse');\n    app.use('/parse', parse);\n    \n    var express = require('express');\n    var router = express.Router();\n    \n    // routes/parse.js\n    // the URL pattern will be used in conjunction with how its is being used\n    // in this case it would be '/parse' (from app.js) + '/parse' (as used in the next line)\n    // resulting in '/parse/parse' \n    router.get('/parse', function(req, res, next) {\n      res.send('return from parse.js');\n    });\n    \n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    var express = require('express');\n    var router = express.Router();\n    \n    // the URL pattern will be used in conjunction with how its is being used\n    // in this case it would be '/parse' (from app.js) + '/parse' (as used in the next line)\n    // resulting in '/parse/parse' \n    router.get('/parse', function(req, res, next) {\n      res.send('return from parse.js');\n    });\n    \n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36289970",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "199159594",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Promise = require('bluebird');\n    var Converter = Promise.promisifyAll(require(\"csvtojson\")).Converter;\n    var converter = new Converter({});\n    var Client = Promise.promisifyAll(require('node-rest-client')).Client;\n    var client = new Client();\n    var responseArray = [];\n    \n    converter.fromFileAsync(\"./ToterFeed.csv\").then(function(err,result){\n        for (var i = 0, len = result.length; i < len; i++) {\n            var args = {\n                data: JSON.stringify(result[i]),\n                headers: { \"Content-Type\": \"application/json\" }\n            };\n            // Return client.post so we wait for that to respond.\n            return client.postAsync(\"http://192.168.1.102:8080/api/ToterFeed/v1\", args);\n    }).then(function (data) {\n        responseArray.push(data.responses);\n        console.log(data.responses[0]);\n    }).then(function () {\n        console.log(\"done\");\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9767441860465116,
        "Content": "    var Promise = require('bluebird');\n    var Converter = Promise.promisifyAll(require(\"csvtojson\")).Converter;\n    var converter = new Converter({});\n    var Client = Promise.promisifyAll(require('node-rest-client').Client);\n    var responseArray = [];\n    converter.fromFileAsync(\"./ToterFeed.csv\").then(function(result){\n        var promises = [];\n        for (var i = 0, len = result.length; i < len; i++) {\n            var args = {\n                data: JSON.stringify(result[i]),\n                headers: { \"Content-Type\": \"application/json\" }\n            };\n            // Add a promise to the array of promises - this\n            // will call the post then process the result.\n            promises.push(\n               Client.postAsync(\n                   \"http://192.168.1.102:8080/api/ToterFeed/v1\", \n                   args\n               ).then(function (data) {\n                   responseArray.push(data.responses);\n               }));\n        }\n        // Return Promise.all on all of our posts and \n        // their response handlers\n        return Promise.all(promises);\n    }).then(function () {\n        console.log(\"done\");\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36382029",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "200229297",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    [ // here\n        user1-details : {\n             //user1 details\n        },\n    \n        user2-deatils  : {\n    \n        }//So on\n    ] // and here",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9,
        "Content": "    [ // here\n        {\n             //user1 details\n        },\n    \n        {\n             //So on\n        }\n    ] // and here",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36405138",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "200489933",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n    module.exports = {\n      HomeViewModel: require('./home`),\n      BlogViewModel: require('./blog`)\n    };",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    'use strict';\n    module.exports = {\n      HomeViewModel: require('./home'),\n      BlogViewModel: require('./blog')\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36405564",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "200494464",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoCommand = {copydb:1, fromhost: \"localhost\", fromdb: \"somedatabase\", todb: \"somedatabase_duplicate\"};\n    var admin = db.admin();\n    \n    admin.command(mongoCommand, function(commandErr, data) {\n        if(!commandErr) {\n            console.log(data);\n        } else {\n            console.log(commandErr.errmsg);\n        }\n       db.close();\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6181818181818182,
        "Content": "    var assert = require('assert');\n    var MongoClient = require('mongodb').MongoClient;\n    var url = 'mongodb://localhost:27017/test';\n    MongoClient.connect(url, function(err, db) {\n        if (err) {\n            console.log(err);\n        }\n        else {\n            var mongoCommand = { copydb: 1, fromhost: \"localhost\", fromdb: \"test\", todb: \"test_dup\" };\n            var admin = db.admin();\n            admin.command(mongoCommand, function(commandErr, data) {\n                if (!commandErr) {\n                    console.log(data);\n                } else {\n                    console.log(commandErr.errmsg);\n                }\n                db.close();\n            });\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36491442",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "201482677",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mkdirp = require('mkdirp');\n     console.log(\"Going to create directory /tmp/test\");\n     mkdirp(process.cwd() + '/tmp/test'), function(err){\n           if (err) {\n               return console.error(err);\n            }\n    console.log(\"Directory created successfully!\");\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9545454545454546,
        "Content": "    var mkdirp = require('mkdirp');\n    var path = require('path');\n    console.log(\"Going to create directory /tmp/test\");\n    mkdirp(path.join(process.cwd(), '/tmp/test'), function(err){\n      if (err) {\n        return console.error(err);\n      }\n      console.log(\"Directory created successfully!\");\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36498180",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "201558662",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class ClassName {\n      ...\n      aMethod(){\n        var aFun = function() {\n          this.dir;// ACCESS to class reference of this\n        }.bind(this);\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9655172413793104,
        "Content": "    class ClassName {\n      // ...\n      aMethod(){\n        var aFun = function() {\n          this.dir;// ACCESS to class reference of this\n        }.bind(this);\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36565356",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "202307336",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function Timer(t, fn) {\n       this.fn = fn;\n       this.time = Date.now() + t;\n       this.updateTimer();\n    }\n    \n    Timer.prototype.addTime = function(t) {\n        this.time += t;\n        this.updateTimer();\n    }\n    Timer.prototype.stop = function() {\n        if (this.timer) {\n            clearTimeout(this.timer);\n            this.timer = null;\n        }\n    }\n    Timer.prototype.updateTimer = function() {\n        this.stop();\n        var delta = this.time - Date.now();\n        if (delta > 0) { \n            this.timer = setTimeout(function() {\n                this.timer = null;\n                this.fn();\n            }, delta);\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9253731343283582,
        "Content": "    function Timer(t, fn) {\n       this.fn = fn;\n       this.time = Date.now() + t;\n       this.updateTimer();\n    }\n    \n    Timer.prototype.addTime = function(t) {\n        this.time += t;\n        this.updateTimer();\n    }\n    Timer.prototype.stop = function() {\n        if (this.timer) {\n            clearTimeout(this.timer);\n            this.timer = null;\n        }\n    }\n    Timer.prototype.updateTimer = function() {\n        var self = this;\n        this.stop();\n        var delta = this.time - Date.now();\n        if (delta > 0) { \n            this.timer = setTimeout(function() {\n                self.timer = null;\n                self.fn();\n            }, delta);\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36589556",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "202588008",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var api = _.find(apiArray, function(item){\n        return item.path.test('/asset/Scheme/frew');\n    });\n    console.log(api);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var _ = require('lodash');\n    var apiArray = [\n        {\n            \"api\": \"login\",\n            \"path\": new RegExp(\"/auth/login\"),\n            \"method\": \"POST\"\n        },\n        {\n            \"api\": \"logout\",\n            \"path\": new RegExp(\"/auth/logout/*\"),\n            \"method\": \"POST\"\n        },\n        {\n            \"api\": \"getAsset\",\n            \"path\": new RegExp(\"/asset/*\"),\n            \"method\": \"GET\"\n        },\n        {\n            \"api\": \"getAssetScheme\",\n            \"path\": new RegExp(\"/asset/Scheme/*\"),\n            \"method\": \"GET\"\n        }\n    ];\n    var url = '/asset/frew'\n    var api = _.find(apiArray, function(item){\n        return item.path.test(url);\n    });\n    console.log(api);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36727029",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "204167023",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = express();\n    app.use(session({ secret: 'keyboard cat', cookie: { maxAge: 60000 }}));\n    // Access the session as req.session\n    app.get('/', function(req, res, next) {\n      var sess = req.session;\n      if (sess.user) {\n        res.setHeader('Content-Type', 'text/html');\n        res.write('<p>user: ' + sess.user + '</p>');\n        res.write('<p>expires in: ' + (sess.cookie.maxAge / 1000) + 's</p>');\n        res.end();\n      } else {\n        sess.user = 1;\n        res.end('welcome to the session demo. refresh!')\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9645390070921985,
        "Content": "    var express = require('express');\n    var session = require('express-session');\n    var app = express();\n    // Make sure this is defined before any of your routes\n    // that make use of the session.\n    app.use(session({\n      secret: 'keyboard cat', \n      cookie: { maxAge: 60000 },\n      resave: false,\n      saveUninitialized: false\n    }));\n    // Access the session as req.session\n    app.get('/login', function(req, res) {\n      req.session.user = 1;\n      res.end('User 1 is logged in, please go to the /discussion page.');\n    });\n    app.get('/discussion', function(req, res) {\n      var sess = req.session;\n      if (typeof sess.user === 'undefined') {\n         res.redirect('/login');\n      } else {\n        res.setHeader('Content-Type', 'text/html');\n        res.write('<p>user: ' + sess.user + '</p>');\n        res.write('<p>expires in: ' + (sess.cookie.maxAge / 1000) + 's</p>');\n        res.end();\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36753406",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "204467476",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var w = {}\n    try {w.x.y.z} catch(e) {e}\n    TypeError: Cannot read property 'y' of undefined(…)",
        "MostRecentVersion": "0",
        "Errors": 10,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    var w = {}\n    try {w.x.y.z} catch(e) {e}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36818532",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205234717",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var allTransactions = [\n       {\n          \"id\": \"e5216ffaaa2a37bcc14380db07f06c85a65bcdc4e1fcab2bd5523f0b8a11bc15\",\n          \"normalizedHash\": \"0709c99097386a3c0130f3d6b002acf6a4e37978406704268fc9d308eec4c2b8\",\n          \"date\": \"2016-04-17T20:07:03.700Z\",\n          \"fee\": 7440,\n          \"inputs\": [\n             {\n                \"previousHash\": \"6d043a06ade4eac5315967c463fcd65deb4ed9bff23ee3e73ff82c9cf72360e9\",\n                \"previousOutputIndex\": 1\n             },\n             {\n                \"previousHash\": \"b6e566cbee0f23bee7b321eda7f6159a165101e77e7f1e75bd9eb6e31540b391\",\n                \"previousOutputIndex\": 0\n             }\n          ],\n          \"outputs\": [\n             {\n                \"vout\": 0,\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 312500000,\n                \"isMine\": true,\n                \"chain\": 0,\n                \"chainIndex\": 0\n             },\n             {\n                \"vout\": 1,\n                \"account\": \"mmRuajWq2xPYQw4gjXz8pQ2fUfJTF7fvYe\",\n                \"value\": 3831779\n             }\n          ],\n          \"entries\": [\n             {\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 312500000\n             },\n             {\n                \"account\": \"muEePZzkRWX3RnLWHxTx6r8T3MMruTgMgg\",\n                \"value\": -312084680\n             },\n             {\n                \"account\": \"mmRuajWq2xPYQw4gjXz8pQ2fUfJTF7fvYe\",\n                \"value\": 3831779\n             },\n             {\n                \"account\": \"n47gD5D3XfBG41tWKX4YHNc9gboyWU9yJg\",\n                \"value\": -4254539\n             }\n          ],\n          \"confirmations\": 677,\n          \"pending\": false,\n          \"instant\": false,\n          \"blockhash\": \"000000000000020f526fe18af7536fa4e816694c4dec865e0d87d6b722b643d9\",\n          \"height\": 786821\n       },\n       {\n          \"id\": \"71fb53e7d70ce27dced2eb327ac544b8f046e66480342ba81533046f3267e6f4\",\n          \"normalizedHash\": \"80116b194b58b494d85b2a831815a978ec6f0fe617cfd020880ff1ad76b2bacc\",\n          \"date\": \"2016-04-17T20:06:56.474Z\",\n          \"fee\": 4480,\n          \"inputs\": [\n             {\n                \"previousHash\": \"1f4145b615f5d067160184a3e9660396f826614c3fcae9abdcb7192c615b843a\",\n                \"previousOutputIndex\": 0\n             }\n          ],\n          \"outputs\": [\n             {\n                \"vout\": 0,\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 625000000,\n                \"isMine\": true,\n                \"chain\": 0,\n                \"chainIndex\": 0\n             },\n             {\n                \"vout\": 1,\n                \"account\": \"mpntSJWk116JF58VRDxeMMwr4gC7afVEKt\",\n                \"value\": 390110612\n             }\n          ],\n          \"entries\": [\n             {\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 625000000\n             },\n             {\n                \"account\": \"mqRsJr8szT5XTSLm3CU7i9ePa7kWnC2VWs\",\n                \"value\": -1015115092\n             },\n             {\n                \"account\": \"mpntSJWk116JF58VRDxeMMwr4gC7afVEKt\",\n                \"value\": 390110612\n             }\n          ],\n          \"confirmations\": 689,\n          \"pending\": false,\n          \"instant\": false,\n          \"blockhash\": \"000000000000020f526fe18af7536fa4e816694c4dec865e0d87d6b722b643d9\",\n          \"height\": 786821\n       }\n    ];\n    \n    \n      allTransactions.forEach(function (transaction){    \n          var value = 0;\n          var minEntry = { value : 0 };\n          transaction.forEach(function (entry) {\n             if (entry.account === wallet.id()) {\n              value += entry.value;\n             }\n          });\n          var verb = (value > 0) ? 'Received' : 'Sent';\n          transaction.forEach(function (entry) {\n              if (entry.value < minValue){\n                minEntry = entry;\n             }\n          });\n          if(minEntry.value){\n            console.log(minEntry.account + ' : ' + verb + ' ' + (value / 1e8).toFixed(8));\n          }\n      });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9772727272727273,
        "Content": "       var allTransactions = [\n       {\n          \"id\": \"e5216ffaaa2a37bcc14380db07f06c85a65bcdc4e1fcab2bd5523f0b8a11bc15\",\n          \"normalizedHash\": \"0709c99097386a3c0130f3d6b002acf6a4e37978406704268fc9d308eec4c2b8\",\n          \"date\": \"2016-04-17T20:07:03.700Z\",\n          \"fee\": 7440,\n          \"inputs\": [\n             {\n                \"previousHash\": \"6d043a06ade4eac5315967c463fcd65deb4ed9bff23ee3e73ff82c9cf72360e9\",\n                \"previousOutputIndex\": 1\n             },\n             {\n                \"previousHash\": \"b6e566cbee0f23bee7b321eda7f6159a165101e77e7f1e75bd9eb6e31540b391\",\n                \"previousOutputIndex\": 0\n             }\n          ],\n          \"outputs\": [\n             {\n                \"vout\": 0,\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 312500000,\n                \"isMine\": true,\n                \"chain\": 0,\n                \"chainIndex\": 0\n             },\n             {\n                \"vout\": 1,\n                \"account\": \"mmRuajWq2xPYQw4gjXz8pQ2fUfJTF7fvYe\",\n                \"value\": 3831779\n             }\n          ],\n          \"entries\": [\n             {\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 312500000\n             },\n             {\n                \"account\": \"muEePZzkRWX3RnLWHxTx6r8T3MMruTgMgg\",\n                \"value\": -312084680\n             },\n             {\n                \"account\": \"mmRuajWq2xPYQw4gjXz8pQ2fUfJTF7fvYe\",\n                \"value\": 3831779\n             },\n             {\n                \"account\": \"n47gD5D3XfBG41tWKX4YHNc9gboyWU9yJg\",\n                \"value\": -4254539\n             }\n          ],\n          \"confirmations\": 677,\n          \"pending\": false,\n          \"instant\": false,\n          \"blockhash\": \"000000000000020f526fe18af7536fa4e816694c4dec865e0d87d6b722b643d9\",\n          \"height\": 786821\n       },\n       {\n          \"id\": \"71fb53e7d70ce27dced2eb327ac544b8f046e66480342ba81533046f3267e6f4\",\n          \"normalizedHash\": \"80116b194b58b494d85b2a831815a978ec6f0fe617cfd020880ff1ad76b2bacc\",\n          \"date\": \"2016-04-17T20:06:56.474Z\",\n          \"fee\": 4480,\n          \"inputs\": [\n             {\n                \"previousHash\": \"1f4145b615f5d067160184a3e9660396f826614c3fcae9abdcb7192c615b843a\",\n                \"previousOutputIndex\": 0\n             }\n          ],\n          \"outputs\": [\n             {\n                \"vout\": 0,\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 625000000,\n                \"isMine\": true,\n                \"chain\": 0,\n                \"chainIndex\": 0\n             },\n             {\n                \"vout\": 1,\n                \"account\": \"mpntSJWk116JF58VRDxeMMwr4gC7afVEKt\",\n                \"value\": 390110612\n             }\n          ],\n          \"entries\": [\n             {\n                \"account\": \"2N5Jr87jhTuAHab37VKWNPhoH1WUEHkVg1Q\",\n                \"value\": 625000000\n             },\n             {\n                \"account\": \"mqRsJr8szT5XTSLm3CU7i9ePa7kWnC2VWs\",\n                \"value\": -1015115092\n             },\n             {\n                \"account\": \"mpntSJWk116JF58VRDxeMMwr4gC7afVEKt\",\n                \"value\": 390110612\n             }\n          ],\n          \"confirmations\": 689,\n          \"pending\": false,\n          \"instant\": false,\n          \"blockhash\": \"000000000000020f526fe18af7536fa4e816694c4dec865e0d87d6b722b643d9\",\n          \"height\": 786821\n       }\n    ];\n    \n      allTransactions.forEach(function (transaction){    \n          var value = 0;\n          var minEntry = { value : 0 };\n          transaction.entries.forEach(function (entry) {\n             //if (entry.account === wallet.id()) {\n              value += entry.value;\n             //}\n          });\n          var verb = (value > 0) ? 'Received' : 'Sent';\n          transaction.entries.forEach(function (entry) {\n              if (entry.value < minEntry.value){\n                minEntry = entry;\n             }\n          });\n          if(minEntry.value){\n            console.log(minEntry.account + ' : ' + verb + ' ' + (value / 1e8).toFixed(8));\n          }\n      });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36881522",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205956215",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    parseResult = (result) => {\n      return result.map((item) => item.toObject())\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // ES 6  way for Node v 4.x + \n    let parseResult = (result) => {\n      return result.map((item) => item.toObject())\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "36973060",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207019439",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    gulp.task('debug', function() {\n        let child = spawn(\"node\", [\"debug\", \"./server.js\"], { stdio: 'inherit' });               \n    \n        gulp.watch([ __dirname + \"/*.js\", '!gulpfile.js'], function(event) {\n            console.log(`File %s was %s.`, event.path, event.type);\n            if (child) {\n                child.kill();\n                child = spawn(\"node \", [\"--debug\", \"./server.js\"], { stdio: 'inherit' });                                            \n            }\n        });\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9253731343283582,
        "Content": "      'use strict'\n       const gulp = require('gulp');\n       const spawn = require('child_process').spawn;\n       gulp.task('debug', function() {\n        let child = spawn(\"node\", [\"debug\", \"./server.js\"], { stdio: 'inherit' });\n        gulp.watch([__dirname + \"/*.js\", '!gulpfile.js'], function(event) {\n            console.log(`File %s was %s.`, event.path, event.type);\n            if (child) {\n                child.kill();\n                child = spawn(\"node\", [\"debug\", \"./server.js\"], { stdio: 'inherit' });\n            }\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37090284",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "208377129",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function(connection){\n       formerSql(req){\n         var SQL;\n         switch(req.action){\n            case 'login':\n              SQL = \"SELECT * FROM users WHERE pseudo ='\" + req.pseudo + \"' AND pass = '\" + req.psw + \"'\";\n              this.executeSql(SQL,'SELECT');\n              break;\n         }\n       }\n       executeSql(requete, type){\n         switch(type){\n           case 'SELECT':\n              connection.query(requete, function(err,rows,fields){\n              if (err){\n                throw err;\n              }else{\n                console.log('The solution is: ',rows);\n              }\n           });\n           break;\n         }\n       }  \n       return { \n          formerSql : formerSql,\n          executeSql : executeSql\n       }\n    }\n  ",
        "MostRecentVersion": "0",
        "Errors": 15,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.989010989010989,
        "Content": "    module.exports = function(connection){\n       function formerSql(req){\n         var SQL;\n         switch(req.action){\n            case 'login':\n              SQL = \"SELECT * FROM users WHERE pseudo ='\" + req.pseudo + \"' AND pass = '\" + req.psw + \"'\";\n              this.executeSql(SQL,'SELECT');\n              break;\n         }\n       }\n       function executeSql(requete, type){\n         switch(type){\n           case 'SELECT':\n              connection.query(requete, function(err,rows,fields){\n              if (err){\n                throw err;\n              }else{\n                console.log('The solution is: ',rows);\n              }\n           });\n           break;\n         }\n       }  \n       return { \n          formerSql : formerSql,\n          executeSql : executeSql\n       }\n    }\n  ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37108027",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "208584396",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var gulp = require('gulp'),\n        eslint = require('gulp-eslint');\n    \n    gulp.task('lint', function () {\n        // ESLint ignores files with \"node_modules\" paths.\n        // So, it's best to have gulp ignore the directory as well.\n        // Also, Be sure to return the stream from the task;\n        // Otherwise, the task may end before the stream has finished.\n        return gulp.src(['**/*.js','!node_modules/**'])\n            // eslint() attaches the lint output to the \"eslint\" property\n            // of the file object so it can be used by other modules.\n            .pipe(eslint({fix:true}))\n            // eslint.format() outputs the lint results to the console.\n            // Alternatively use eslint.formatEach() (see Docs).\n            .pipe(eslint.format())\n            // if fixed, write the file to dest\n\t\t    .pipe(gulpIf(isFixed, gulp.dest('../test/fixtures')));\n    });\n    \n    gulp.task('default', ['lint'], function () {\n        // This will only run if the lint task is successful...\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9368421052631579,
        "Content": "    var gulp = require('gulp'),\n        eslint = require('gulp-eslint'),\n        gulpIf = require('gulp-if');\n    function isFixed(file) {\n    \t// Has ESLint fixed the file contents?\n    \treturn file.eslint != null && file.eslint.fixed;\n    }\n    \n    gulp.task('lint', function () {\n        // ESLint ignores files with \"node_modules\" paths.\n        // So, it's best to have gulp ignore the directory as well.\n        // Also, Be sure to return the stream from the task;\n        // Otherwise, the task may end before the stream has finished.\n        return gulp.src(['./src/**.js','!node_modules/**'])\n            // eslint() attaches the lint output to the \"eslint\" property\n            // of the file object so it can be used by other modules.\n            .pipe(eslint({fix:true}))\n            // eslint.format() outputs the lint results to the console.\n            // Alternatively use eslint.formatEach() (see Docs).\n            .pipe(eslint.format())\n            // if fixed, write the file to dest\n\t\t    .pipe(gulpIf(isFixed, gulp.dest('../test/fixtures')))\n            // To have the process exit with an error code (1) on\n            // lint error, return the stream and pipe to failAfterError \n            // last.\n            .pipe(eslint.failAfterError());\n    });\n    \n    gulp.task('default', ['lint'], function () {\n        // This will only run if the lint task is successful...\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37175678",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209368452",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.getobjectss = function(req, res) {\n        models.Object.findAll().then(function(objects){\n            res.json(objects);\n        });\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.15384615384615385,
        "Content": "    module.exports = {\n        awesomeMethod: function () {\n            \n        },\n        coolMethod: function () {\n            \n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37210558",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209788837",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var bodyParser = require('body-parser'); \n    app.use(bodyParser.json());",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var multer  = require('multer')\n    var upload = multer({ dest: 'uploads/' })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37230756",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210029593",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "var productFile = require(./Products)",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "var productFile = require(\"./Products\")",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37248182",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210233512",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    connection.query( 'select count(9) from mytbl;', function(err, rows) {\n        connection.release();\n    });\n    pool.end();\n});",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.47619047619047616,
        "Content": "    var mysql   = require('mysql');\n    //Setup Connections and Parser\n    var pool = mysql.createPool({\n        host     : 'localhost',\n        user     : 'me',\n        password : '12345',\n        database : 'A2014',\n        connectionLimit: 100\n    });\n    pool.getConnection(function(err, connection) {\n        connection.query( 'select count(9) from mytbl;', function(err, rows) {\n            connection.release();\n        });\n        pool.end();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37262094",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "210388846",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    return String.fromCharCode();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var content = content.substr(19005,24);\n    var r = /\\\\u([\\d\\w]{4})/gi;\n    content = content.replace(r, function (match, grp) {\n        return String.fromCharCode(parseInt(grp, 16)); } );\n    content = unescape(content);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37267134",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210446061",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    https.get(url, function(response) {\n      var body = '';\n      res.on('data', function(chunk) {\n        // Agregates chunks\n        body += chunk;\n      });\n      res.on('end', function() {\n        // Once you received all chunks, send to S3\n        var params = {\n          Bucket: 'example',\n          Key: 'aws-logo.png',\n          Body: response\n        };\n        s3.putObject(params, function(err, data) {\n          if (err) {\n            console.error(err, err.stack);\n          } else {\n            console.log(data);\n          }\n        }\n      });\n    }",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9787234042553191,
        "Content": "    var AWS = require('aws-sdk');\n    var https = require('https');\n    var s3 = new AWS.S3();\n    \n    var url = 'https://upload.wikimedia.org/wikipedia/commons/thumb/1/1d/AmazonWebservices_Logo.svg/500px-AmazonWebservices_Logo.svg.png';\n    \n    exports.handler = function(event, context) {\n      https.get(url, function(res) {\n        var body = '';\n        res.on('data', function(chunk) {\n          // Agregates chunks\n          body += chunk;\n        });\n        res.on('end', function() {\n          // Once you received all chunks, send to S3\n          var params = {\n            Bucket: 'example',\n            Key: 'aws-logo.png',\n            Body: body\n          };\n          s3.putObject(params, function(err, data) {\n            if (err) {\n              console.error(err, err.stack);\n            } else {\n              console.log(data);\n            }\n          });\n        });\n      });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37498970",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "213133908",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var cheerio = require('cheerio'),\n    \trequest = require('request');\n    \n    function scrapePage(callback) {\n        var result = null;\n        var url = 'http://myanimelist.net/includes/ajax.inc.php?t=64&id=1';\n        \n        request(url, function (error, response, body) {\n        \tif (!error && response.statusCode == 200) {\n    \t\t    // console.log(body) // Show the HTML for the Page URL.\n    \n    \t\t    var $ = cheerio.load(html);\n    \t\t    var $body = $('body');\n    \n    \t\t    $('body div').children().empty();\n    \t\t    var description = $('body div').text().trim();\n    \t\t    var keys = $('body span').text().split(':');\n    \t\t    keys.splice(-1, 1);\n    \t\t    $body.children().empty();\n    \t\t    var values = $body.text().trim().split('\\n');\n    \t\t    \n    \t\t    result = {\n    \t\t    \tdescription: description\n    \t\t    };\n    \n    \t\t    for(var j = 0; j<keys.length; j++) {\n    \t\t    \tresult[(keys[j].toLowerCase().trim())] = (values[j].trim());\n    \t\t    }\n    \t    }\n    \n    \t    callback(result);\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var cheerio = require('cheerio'),\n    \trequest = require('request');\n    \n    function scrapePage(callback) {\n        var result = null;\n        var url = 'http://myanimelist.net/includes/ajax.inc.php?t=64&id=1';\n        \n        request(url, function (error, response, body) {\n        \tif (!error && response.statusCode == 200) {\n    \t\t    // console.log(body) // Show the HTML for the Page URL.\n    \n    \t\t    var $ = cheerio.load('<body>' + body + '</body>');\n    \t\t    var $body = $('body');\n    \n    \t\t    $('body div').children().empty();\n    \t\t    var description = $('body div').text().trim();\n    \t\t    var keys = $('body span').text().split(':');\n    \t\t    keys.splice(-1, 1);\n    \t\t    $body.children().empty();\n    \t\t    var values = $body.text().trim().split('\\n');\n    \t\t    \n    \t\t    result = {\n    \t\t    \tdescription: description\n    \t\t    };\n    \n    \t\t    for(var j = 0; j<keys.length; j++) {\n    \t\t    \tresult[(keys[j].toLowerCase().trim())] = (values[j].trim());\n    \t\t    }\n    \t    }\n    \n    \t    callback(result);\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37501822",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "213165909",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const fs = Promise.promisifyAll(require('fs'));\n    \n    // common helper function\n    function readFileSplitWords(file) {\n        return fs.readFileAsync(file, 'utf8').then(function(data) {\n            // make split words be the fulfilled value of the promise\n            return data.split('\\n');\n        });\n    }\n    \n    var files = ['frenchVerbsList.text', 'englishVerbsList.txt'];\n    Promise.map(files, readFileSplitWords).then(function(results) {\n        // results is an array of arrays where each sub-array is a language list of words\n        // combine the lists (assumes all words lists have the same length)\n        var combinedList = [];\n        var len = results[0].length;\n        // for each word in the first array\n        for (var i = 0; i < len; i++) {\n            // get all the other words in the same array position\n            var words = [];\n            for (var j = 0; j < results.length; j++) {\n                words.push(results[j][i]);\n            }\n            combinedList.push(words.join(',,,'));\n        }\n        \n        // check the result\n        for (i = 0; i < 10; i++) {\n            console.log(combinedList[i]);\n        }\n    }, function(err) {\n       // handle an error here\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9935483870967742,
        "Content": "    const Promise = require('bluebird');\n    const fs = Promise.promisifyAll(require('fs'));\n    \n    // common helper function\n    function readFileSplitWords(file) {\n        return fs.readFileAsync(file, 'utf8').then(function(data) {\n            // make split words be the fulfilled value of the promise\n            return data.split('\\n');\n        });\n    }\n    \n    var files = ['frenchVerbsList.text', 'englishVerbsList.txt'];\n    Promise.map(files, readFileSplitWords).then(function(results) {\n        // results is an array of arrays where each sub-array is a language list of words\n        // combine the lists (assumes all word lists have the same length)\n        var combinedList = [];\n        var len = results[0].length;\n        // for each word in the first array\n        for (var i = 0; i < len; i++) {\n            // get all the other words in the same array position\n            var words = [];\n            for (var j = 0; j < results.length; j++) {\n                words.push(results[j][i]);\n            }\n            combinedList.push(words.join(',,,'));\n        }\n        \n        // check the result\n        for (i = 0; i < 10; i++) {\n            console.log(combinedList[i]);\n        }\n    }, function(err) {\n       // handle an error here\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37508774",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "213250415",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Datastore = require('nedb');\n    var db = new Datastore({ \n      filename: '__dirname + '/dbFilePath.db', \n      autoload: true \n    });\n    // Initialize the initial index value\n    // (if it already exists in the database, it is not overwritten)\n    db.insert({_id: '__autoid__', value: -1});\n    \n    db.getAutoId = function(onFind) {\n      db.findOne( { _id: '__autoid__' }, function(err, doc) {\n        if (err) {\n          onFind && onFind(err)\n        } else {\n          // Update and returns the index value\n          db.update({ _id: '__autoid__'}, { $set: {value: ++doc.value} }, {},\n             function(err, count) {\n               onFind && onFind(err, docValue);\n          });\n        }\n      });\n      return db;\n    }",
        "MostRecentVersion": "0",
        "Errors": 9,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9814814814814815,
        "Content": "    var Datastore = require('nedb');\n    var db = new Datastore({ \n      filename: __dirname + '/dbFilePath.db', \n      autoload: true \n    });\n    // Initialize the initial index value\n    // (if it already exists in the database, it is not overwritten)\n    db.insert({_id: '__autoid__', value: -1});\n    \n    db.getAutoId = function(onFind) {\n      db.findOne( { _id: '__autoid__' }, function(err, doc) {\n        if (err) {\n          onFind && onFind(err)\n        } else {\n          // Update and returns the index value\n          db.update({ _id: '__autoid__'}, { $set: {value: ++doc.value} }, {},\n             function(err, count) {\n               onFind && onFind(err, doc.value);\n          });\n        }\n      });\n      return db;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37532037",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "213512418",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var crypto = require('crypto');\n    var algo = 'aes-256-cbc';\n    var algoSecret = 'mySecret';\n    var key = crypto.pbkdf2Sync(algoSecret, 'salt', 1000, 512, 'sha512');\n    var keyMac = key.slice(32);\n    var keyEnc = key.slice(0, 32);\n    \n    var encrypt = function(secret){\n        var iv = crypto.randomBytes(16);\n        var cipher = crypto.createCipheriv(algo, keyEnc, iv);\n        var crypted = cipher.update(secret,'utf8','hex')\n        crypted += cipher.final('hex');\n        var ct = iv.toString('hex') + crypted;\n        var hmac = crypto.createHmac('sha256', keyMac);\n        hmac.update(ct);\n        return vt + hmac.digest('hex');\n    }\n    var decrypt = function(text){\n        var hmac = crypto.createHmac('sha256', keyMac);\n        hmac.update(text.slice(0, -32));\n        if (hmac.digest('hex') !== text.slice(-32)) { // TODO: contant-time comparison\n            return false;\n        }\n        var iv = new Buffer(text.slice(0, 32), 'hex');\n        text = text.slice(32, -32);\n        var decipher = crypto.createDecipheriv(algo, keyEnc, iv);\n        var dec = decipher.update(text,'hex','utf8');\n        dec += decipher.final('utf8');\n        return dec;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var crypto = require('crypto');\n    var algo = 'aes-256-cbc';\n    var algoSecret = 'mySecret';\n    var key = crypto.pbkdf2Sync(algoSecret, 'salt', 1000, 512, 'sha512');\n    var keyMac = key.slice(32);\n    var keyEnc = key.slice(0, 32);\n    \n    var encrypt = function(secret){\n        var iv = crypto.randomBytes(16);\n        var cipher = crypto.createCipheriv(algo, keyEnc, iv);\n        var crypted = cipher.update(secret,'utf8','hex')\n        crypted += cipher.final('hex');\n        var ct = iv.toString('hex') + crypted;\n        var hmac = crypto.createHmac('sha256', keyMac);\n        hmac.update(ct);\n        return ct + hmac.digest('hex');\n    }\n    var decrypt = function(text){\n        var hmac = crypto.createHmac('sha256', keyMac);\n        hmac.update(text.slice(0, -64));\n        if (hmac.digest('hex') !== text.slice(-64)) { // TODO: contant-time comparison\n            // TODO: do some decoy decryption\n            return false;\n        }\n        var iv = new Buffer(text.slice(0, 32), 'hex');\n        text = text.slice(32, -64);\n        var decipher = crypto.createDecipheriv(algo, keyEnc, iv);\n        var dec = decipher.update(text,'hex','utf8');\n        dec += decipher.final('utf8');\n        return dec;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37557815",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "213807788",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function processBotData(searchData, callback){\n        if(!searchData || !searchData.array || !searchData.array.length)\n            return callback(new Error('No search results');\n        // continue as before from here\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9444444444444444,
        "Content": "    function processBotData(searchData, callback){\n        if(!searchData || !searchData.array || !searchData.array.length)\n            return callback(new Error('No search results'));\n        // continue as before from here\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37619709",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214521351",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //Import dependencies    \n    function process(msg, config, callback){}\n    \n    module.export = process; ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    //Import dependencies    \n    function process(msg, config, callback){}\n    \n    module.exports = process; ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37641252",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214767618",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    window.CONFIG = {\n        SOME_CONSTANT = 22,\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    window.CONFIG = {\n        SOME_CONSTANT: 22,\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37656414",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214936175",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function listMongoCollections(db) {\n        const docs = db.listCollections().toArray().then(docs => \n            docs.map(doc => \n                db.collection(doc.name).count().then(count => {\n                    doc.count = count\n                    return doc;\n                });\n            );\n        );\n        return Promise.all(docs);\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function listMongoCollections(db) {\n        const docs = db.listCollections().toArray().then(docs => {\n            return docs.map(doc => {\n                return db.collection(doc.name).count().then(count => {\n                    doc.count = count\n                    return doc;\n                });\n            });\n        });\n        return Promise.all(docs);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37756410",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "216076637",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    $scope.somethingField = {\n        field1: '',\n        field2: '',\n        field3: ''\n    }\n    var origsomethingField = angular.copy($scope.somethingField);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.625,
        "Content": "    $scope.updateform = {\n        field1: '',\n        field2: '',\n        field3: ''\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37865405",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "217322858",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var x = filelist.filter(function(file){\n        return file.indexOf(extension) !== -1;\n    });\n    console.log(x); // expected output: ['woohoo.txt', 'wahoo.txt'] ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8823529411764706,
        "Content": "    var filelist = ['woohoo.txt', 'aha.pdf', 'wahoo.txt'];\n    var extension = '.txt';\n    var x = filelist.filter(function(file){\n        return file.indexOf(extension) !== -1;\n    });\n    console.log(x); // expected output: ['woohoo.txt', 'wahoo.txt'] ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "37968102",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "218498879",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    require('./config.js') part too",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    require('./config.js') ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38000462",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "218866667",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var router = require('express').Router();\n    var settings = require('./settings');\n    var sources = require('./sources');\n    \n    module.exports = {\n    \trouter.use('/settings', settings);\n    \trouter.use('/sources', sources);\n    \n    \treturn router;\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9655172413793104,
        "Content": "    var router = require('express').Router();\n    var settings = require('./settings');\n    var sources = require('./sources');\n    \n    module.exports = function() {\n    \trouter.use('/settings', settings);\n    \trouter.use('/sources', sources);\n    \n    \treturn router;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38000462",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "218866669",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var router = require('express').Router();\n    \n    module.exports = {\n    \t\n    \trouter.route('/')\n    \t\t.get(function(req, res) {\n    \t\t\t// do GET /settings route work\n    \t\t})\n    \t\t.put(function(req, res) {\n    \t\t\t// do PUT /settings route work\n    \t\t})\n    \n    \treturn router;\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.972972972972973,
        "Content": "    var router = require('express').Router();\n    \n    module.exports = function() {\n    \t\n    \trouter.route('/')\n    \t\t.get(function(req, res) {\n    \t\t\t// do GET /settings route work\n    \t\t})\n    \t\t.put(function(req, res) {\n    \t\t\t// do PUT /settings route work\n    \t\t})\n    \n    \treturn router;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38160347",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "220707798",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var p = require(\"path\")\n    var path = \"C:\\\\Users\\\\me\\\\Desktop\"\n    var sepa = p.split(p.win32.sep)\n    var newS = [].concat([sepa[0].toLowerCase()], sepa.slice(1))\n    var newP = \"/mnt/\" + p.posix.join.apply(p.posix, newS).replace(\":\", \"\")\n    // newP == \"/mnt/c/Users/me/Desktop",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var p = require(\"path\")\n    var path = \"C:\\\\Users\\\\me\\\\Desktop\"\n    var sepa = path.split(p.win32.sep)\n    var newS = [].concat([sepa[0].toLowerCase()], sepa.slice(1))\n    var newP = \"/mnt/\" + p.posix.join.apply(p.posix, newS).replace(\":\", \"\")\n    // newP == \"/mnt/c/Users/me/Desktop",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38275149",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "222026913",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = class AppUser {\n      constructor(name) {\n        this.name = name;\n        this.scopes = [];\n      }\n      getName {\n        return this.name;\n      }\n      getScopes {\n        return this.scopes;\n      }\n      addScope(scope){\n        if (!this.scopes.includes(scope)) this.scopes.push(scope);\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 12,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8947368421052632,
        "Content": "    'use strict';\n    module.exports = class AppUser {\n      constructor(name) {\n        this.name = name;\n        this.scopes = [];\n      }\n      getName() {\n        return this.name;\n      }\n      getScopes() {\n        return this.scopes;\n      }\n      addScope(scope){\n        if (this.scopes.indexOf(scope) === -1) this.scopes.push(scope);\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38285667",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "222153066",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs-extra');\n    var request = require('request');\n    fs.ensureDir('css');\n    request('http://agar.io/css/master.css').pipe(fs.createWriteStream('master.css'));\n    fs.move('master.css', 'css/master.css', function (err) {\n      console.log(console.err);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.896551724137931,
        "Content": "    var fs = require('fs-extra');\n    var request = require('request');\n    fs.ensureDir('css');\n    request('http://agar.io/css/master.css').pipe(fs.createWriteStream('master.css'));\n    fs.move('master.css', 'css/master.css', function (err) {\n      if (err)\n          console.error(err);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38297069",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "222282527",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "app.use(express.static(path.join(__dirname, 'app.js')));",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5454545454545454,
        "Content": "    var express = require('express');\n    var app = express();\n    var path = require('path');\n    var server = require('http').createServer(app);\n    var io = require('socket.io').listen(server);\n    \n    server.listen(process.env.port || 3000);\n    \n    // The below works but isn't a good practice because it's not scalable\n    app.use('/app.js', express.static(path.join(__dirname, '/app.js')));\n    // You should create a public directory in your project folder and\n    // place all your static files there and the below app.use() will\n    // serve all files and sub-directories contained within it.\n    //app.use('public', express.static(path.join(__dirname, 'public')));\n    app.get('/', function (req, res) {\n        res.sendFile(__dirname + '/index.html');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38344688",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "222826057",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let counter = 0;\n    let timeAtEndOfLastExecution = 0;\n    let timer = 0;\n    \n    function log(msg) {\n        console.log(Date.now() + \": \" + msg);\n    }\n    \n    function tick() {\n        let start = Date.now();\n        if (timeAtEndOfLastExecution) {\n            log(\"tick (\" + (Date.now() - timeAtEndOfLastExecution) + \"ms)\");\n        } else {\n            log(\"tick\");\n        }\n        if (++counter == 10) {\n            clearInterval(timer);\n        } else {\n            let wait = 200 + (Math.floor(8 * Math.random()) * 100);\n            log(\"waiting \" + wait + \"ms\");\n            let stopWaiting = Date.now() + wait;\n            while (Date.now() < stopWaiting) {\n                // busy wait\n            }\n            log(\"exiting callback after \" + (Date.now() - start) + \"ms\");\n            timeAtEndOfLastExecution = Date.now();\n        }\n    }\n    timer = setInterval(tick, 200);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.98989898989899,
        "Content": "    let counter = 0;\n    let timeAtEndOfLastExecution = 0;\n    let timer = null;\n    \n    function log(msg) {\n        console.log(Date.now() + \": \" + msg);\n    }\n    \n    function tick() {\n        let start = Date.now();\n        if (timeAtEndOfLastExecution) {\n            log(\"tick (\" + (Date.now() - timeAtEndOfLastExecution) + \"ms)\");\n        } else {\n            log(\"tick\");\n        }\n        if (++counter == 10) {\n            clearInterval(timer);\n        } else {\n            let wait = 200 + (Math.floor(8 * Math.random()) * 100);\n            log(\"waiting \" + wait + \"ms\");\n            let stopWaiting = Date.now() + wait;\n            while (Date.now() < stopWaiting) {\n                // busy wait\n            }\n            log(\"exiting callback after \" + (Date.now() - start) + \"ms\");\n            timeAtEndOfLastExecution = Date.now();\n        }\n    }\n    timer = setInterval(tick, 200);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38383850",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223276312",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    mocha_istanbul: {\n        coverage: {\n            src: 'test',\n            options: {\n                'report-formats': 'html',\n                print: 'summary',\n                check: {\n                    lines: 90,\n                    statements: 90,\n                    functions: 100,\n                    branches: 80\n                }\n            }\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 19,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9666666666666667,
        "Content": "    module.exports = function(grunt) {\n      grunt.initConfig({\n        clean: ['coverage'],\n        mocha_istanbul: {\n          coverage: {\n            src: 'test',\n            options: {\n              timeout: 20000,\n              'report-formats': 'html',\n              print: 'summary',\n              check: {\n                lines: 90,\n                statements: 90,\n                functions: 100,\n                branches: 80\n              }\n            }\n          }\n        }\n      });\n      grunt.loadNpmTasks('grunt-contrib-clean');\n      grunt.loadNpmTasks('grunt-mocha-istanbul');\n      grunt.registerTask('default', ['clean', 'mocha_istanbul']);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38388433",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223328993",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.use('/media',function(req, res, next) {\n    if (req.user == null && req.path.indexOf('/admin') === 0)\n    {\n        res.redirect('/login');\n    }\n    next(); \n    });\n    app.use('/media', express.static(path.join(__dirname, 'media')));",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.1951219512195122,
        "Content": "    var express = require('express');\n    var app = express();\n    var auth = express.basicAuth(function(user,password) {\n      return 'john' === user && '1234' === password;\n    });\n    app.use('/media', auth);//should be before static \n    app.use('/media', express.static(__dirname + '/media'));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38455885",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224099478",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var axios = require('axios);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    var axios = require('axios');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38503939",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224651113",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var rule = new cron.RecurrenceRule();\n    rule.hour = 4;\n    rule.minute = 0;\n    cron.scheduleJob(rule, function(){\n        console.log(new Date(), 'Every 4 hours');\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9411764705882353,
        "Content": "    var cron = require('node-schedule');\n    var rule = new cron.RecurrenceRule();\n    rule.hour = 4;\n    rule.minute = 0;\n    cron.scheduleJob(rule, function(){\n        console.log(new Date(), 'Every 4 hours');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38504170",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224653619",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require('mongoose');\n    var Schema = require mongoose.Schema;\n    var BoxlistSchema = new Schema({\n          name: {\n               type: String\n          },\n          //insert your other key of collection\n    });\n    module.exports = mongoose.model('Boxlist', BoxlistSchema);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9777777777777777,
        "Content": "    var mongoose = require('mongoose');\n    var Schema = mongoose.Schema;\n    var BoxlistSchema = new Schema({\n          name: {\n               type: String\n          },\n          //insert your other key of collection\n    });\n    module.exports = mongoose.model('Boxlist', BoxlistSchema);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38539317",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "225048912",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require('fs');\n    const fileSizeInBytes = fs.statSync('file.html').size;\n***",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const fs = require('fs');\n    const fileSizeInBytes = fs.statSync('file.html').size;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38544730",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225111631",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var obj = {a: 1};\n    var obj2 = {a: 2};\n    console.log(obj.a + obj2); // prints... 3!",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "    var obj = {a: 1};\n    var obj2 = {a: 2};\n    console.log(obj.a + obj2.a); // prints... 3!",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38555786",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "225241631",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    db.scanDB(function(err, data) {\n        if (!err) {\n            // data.clickTypes\n            // data.serialNums\n        } else {\n            // process error\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8461538461538461,
        "Content": "    var db = require('../routes/db.js');\n    db.scanDB(function(err, data) {\n        if (!err) {\n            // data.clickTypes\n            // data.serialNums\n        } else {\n            // process error\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38566789",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225364727",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    {\"6\": { \"10\": \"player1\" } }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.18181818181818182,
        "Content": "    var gameField = {};\n    gameField[6] = gameField[6] || {};\n    gameField[6][10] = \"player1\";\n    console.log(JSON.stringify(gameField));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38572945",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "225433552",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const path = require('path');\n    const fsp = require('fs-promise');\n    \n    function addPages(startAt, pages, mode) {\n        let htmlExt = mode.HTML;\n        let cssExt = mode.CSS;\n        let log = console.log.bind(console);\n        \n                // return () => {}).then().catch(); // Do this.\n    \n        return fsp.readFile(path.join('.', 'templates', 'body.html'), { encoding: 'utf-8' })\n            .then((content) => {\n                var pendingWrites = [];\n                \n                for (let i = startAt, endAt = startAt + pages; i < endAt; i++) {\n                    let filename = path.join('.', 'manuscript', `page-${i}`, `style.${cssExt}`);\n                    let hisWrite = fsp.writeFile(filename, '').catch(log);\n    \n                    pendingWrites.push(thisWrite);\n                }\n                \n                return Promise.all(pendingWrites);\n            })\n            .catch((err) => {\n                if (err) return error('Couldn\\'t create pages', err);\n            });\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9411764705882353,
        "Content": "    const path = require('path');\n    const fsp = require('fs-promise');\n    \n    function addPages(startAt, pages, mode) {\n        let htmlExt = mode.HTML;\n        let cssExt = mode.CSS;\n        \n        return fsp.readFile(path.join('.', 'templates', 'body.html'), { encoding: 'utf-8' })\n            .then((content) => {\n                var pendingWrites = [];\n                \n                for (let i = startAt, endAt = startAt + pages; i < endAt; i++) {\n                    let filename = path.join('.', 'manuscript', `page-${i}`, `style.${cssExt}`);\n                    let thisWrite = fsp.writeFile(filename, '');\n    \n                    pendingWrites.push(thisWrite);\n                }\n                \n                return Promise.all(pendingWrites);\n            })\n            .catch((err) => {\n                // either fully recover from the error or rethrow\n                console.log(\"Could not add pages: \", err);\n                throw err;\n            });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38606083",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225815447",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    import AddFriendInput from './AddFriendInput'\n    import FriendList from './FriedList'\n    \n    export const AddFriendInput\n    export const FriendList",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    import AddFriendInput from './AddFriendInput'\n    import FriendList from './FriedList'\n    \n    export { AddFriendInput, FriendList }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38664494",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226494345",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let pattern = new RegExp(/{% id_.{2,99} %}/, 'g');\n    gulp.task('replace', () => {\n      return gulp.src('before.html')\n        .pipe(replace(pattern, (match) => {\n          return `{% block ${match.splice(6)} %} {% endblock %}`;\n        }))\n        .pipe(gulp.dest('after.html'));\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const gulp = require('gulp')\n    const replace = require('gulp-replace');\n    const path = require('path');\n    let pattern = new RegExp(/{% id_(.{2,99}) %}/, 'g');\n    \n    gulp.task('replace', () => {\n      return gulp.src('before.html')\n        .pipe(replace(pattern, (match, p1) => {\n          return `{% block ${p1} %} {% endblock %}`;\n        }))\n        .pipe(gulp.dest(path.join(__dirname, 'after.html')));\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38714173",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227064130",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('/', function(req, res) {\n        res.sendFile(__dirname + '/attachedfoldername/index.html');\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var app = express();\n    \n    app.use(express.static(__dirname + '/public'));\n    \n    app.get('/', function(req, res) {\n        res.sendFile(__dirname + '/public/indexz.html');\n    });\n    \n    app.listen(1339);\n    console.log('Open this link http://localhost:1337');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38722145",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227155924",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var AWS = require('aws-sdk');   \n    var sqs = new AWS.SQS();\n    var cloudWatch = new AWS.CloudWatch();\n    \n    \n    var queueUrl1 = 'https://sqs.us-west-2.amazonaws.com/ACCOUNT-NUMBER/queueUrl1';\n    var queueUrl2 = 'https://sqs.us-west-2.amazonaws.com/ACCOUNT-NUMBER/queueUrl2'\n    \n    exports.handler = (event, context, callback) => {\n        var sqsParams = {\n            AttributeNames:['ApproximateNumberOfMessages'],\n            QueueUrl: queueUrl1\n        };\n        \n        var numMessages = 0;\n        sqs.getQueueAttributes(sqsParams, function(err,queue1Data){\n            if(err) console.log(err,err.stack);\n            else\n            {\n                var queue1Msgs = parseInt(queue1Data.Attributes.ApproximateNumberOfMessages);\n                numMessages += copyMsgs;\n                \n                sqsParams.QueueUrl = queueUrl2;\n                \n                sqs.getQueueAttributes(sqsParams, function(err, queue2Data){\n                    if(err) console.log(err,err.stack);\n                    else {\n                        var queue2Msgs = parseInt(queue2Data.Attributes.ApproximateNumberOfMessages);\n                        numMessages += delMsgs;\n                        \n                        var metricParams = {\n                            MetricData:[{\n                                MetricName: 'ApproximateNumberOfMessages',\n                                Dimensions:[{\n                                    Name: 'QueueName',\n                                    Value: '[queue1,queue2]'\n                                }],\n                                StatisticValues:{\n                                    Maximum: queue2Msgs > queue1Msgs ? queue2Msgs : queue1Msgs,\n                                    Minimum: queue2Msgs > queue1Msgs ? queue1Msgs : queue2Msgs,\n                                    SampleCount: 2,\n                                    Sum: numMessages\n                                },\n                                Unit: 'Count'\n                            }],\n                            Namespace: 'AWS/SQS'\n                        };\n                        cloudWatch.putMetricData(metricParams, function(err, metricData){\n                            if(err) console.log(err,err.stack);\n                            else console.log(metricData);\n                        });\n                    }\n                });\n            }\n        });\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9933774834437086,
        "Content": "    var AWS = require('aws-sdk');\n    var sqs = new AWS.SQS();\n    var cloudWatch = new AWS.CloudWatch();\n    \n    var queueUrls = ['https://sqs.REGION.amazonaws.com/ACCOUNT-NUMBER/queueUrl1','https://sqs.REGION.amazonaws.com/ACCOUNT-NUMBER/queueUrl2'];\n    \n    exports.handler = (event, context, callback) => {\n        var fn = function (url) {\n            return new Promise(resolve => {\n                var sqsParams = {\n                    AttributeNames: ['ApproximateNumberOfMessages'],\n                    QueueUrl: url\n                };\n                \n                sqs.getQueueAttributes(sqsParams, function(err,data){\n                    if(err)\n                    {\n                        console.log(err,err.stack);\n                        context.fail(err);\n                    }\n                    else\n                    {\n                        resolve({name: url.split('/').pop(), messageCount: parseInt(data.Attributes.ApproximateNumberOfMessages)});\n                    }\n                }); \n            });\n        };\n        \n        var actions = queueUrls.map(fn);\n        Promise.all(actions).then(function(queues) {\n            var messageCount = queues.map(function(m){return m.messageCount;});\n            var queueNames = queues.map(function(n){return n.name;}).join();\n    \n            var metricParams = {\n                MetricData:[{\n                    MetricName: 'ApproximateNumberOfMessages',\n                    Dimensions:[{\n                        Name: 'QueueName',\n                        Value: queueNames\n                    }],\n                    Unit: 'Count',\n                    StatisticValues: {\n                        Maximum: Math.max.apply(Math, messageCount),\n                        Minimum: Math.min.apply(Math, messageCount),\n                        SampleCount: queues.length,\n                        Sum: messageCount.reduce((pv, cv) => pv+cv, 0)\n                    }\n                }],\n                Namespace: 'AWS/SQS'\n            };\n            cloudWatch.putMetricData(metricParams, function(err, metricData){\n                if(err) console.log(err,err.stack);\n                else console.log(metricData);\n            });\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38778727",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227802800",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    \"fоo = bar;\".split(\"\").map(function(a){\n      return a.charCodeAt(0);\n    });\n    /* Returns:\n    ** [\n    **   102,  // \"f\"\n    **   1086, // \"o\"? This seems suspicious!\n    **   111,  // \"o\"\n    **   32,   // \" \"\n    **   61,   // \"=\"\n    **   32,   // \" \"\n    **   98,   // \"b\"\n    **   97,   // \"a\"\n    **   114,  // \"r\"\n    **   59    // \";\"\n    ** ]",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9850746268656716,
        "Content": "    \"fоo = bar;\".split(\"\").map(function(a){\n      return a.charCodeAt(0);\n    });\n    /*\n    ** Returns:\n    ** [\n    **   102,  // \"f\"\n    **   1086, // \"o\"? This seems suspicious!\n    **   111,  // \"o\"\n    **   32,   // \" \"\n    **   61,   // \"=\"\n    **   32,   // \" \"\n    **   98,   // \"b\"\n    **   97,   // \"a\"\n    **   114,  // \"r\"\n    **   59    // \";\"\n    ** ]\n    */",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38836566",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "228456825",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function json(p) {\n        return p.then(jsonSuccess, jsonFail);\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    function jsonPromise(res, p) {\n        return p.then(res.jsonSuccess, res.jsonFail);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38884856",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "229016759",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function initPromise() {\n      new Promise(function(res,rej) {\n        res(\"initResolve\");\n      })\n    }\n    initPromise().then(function(result) {\n        // result = initResolve\n        return Promise.resolve(\"secondPromise\");\n    })\n    .then(function(result) {\n        console.log(result); //secondPromise\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function initPromise() {\n      return new Promise(function(res, rej) {\n        res(\"initResolve\");\n      })\n    }\n    initPromise()\n      .then(function(result) {\n        console.log(result); // \"initResolve\"\n        return new Promise(function(resolve, reject) {\n           setTimeout(function() {\n              resolve(\"secondPromise\");\n           }, 1000)\n        })\n      })\n      .then(function(result) {\n        console.log(result); // \"secondPromise\"\n      });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38884856",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "229016757",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function initPromise() {\n      new Promise(function(res,rej) {\n        res(\"initResolve\");\n      })\n    }\n    .then(function(result) {\n        //result = initResolve\n        return \"normalReturn\";\n    })\n    .then(function(result) {\n        console.log(result); //normalReturn\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function initPromise() {\n      return new Promise(function(res, rej) {\n        res(\"initResolve\");\n      })\n    }\n    initPromise()\n      .then(function(result) {\n        console.log(result); // \"initResolve\"\n        return \"normalReturn\";\n      })\n      .then(function(result) {\n        console.log(result); // \"normalReturn\"\n      });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38886891",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "229039207",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log(this === module);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    console.log(this === module.exports); // or just `exports`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38914331",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "229362374",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function checkForSessionId(req, res, next){\n        //if no valid session\n        //    return res.status(401).json(\"not authorised\");\n        //else\n        next();\n    }\n    app.use('/users', checkForSessionId, function(req, res){\n        //this is a route which requires authentication\n    })\n    app.use('/register', function(req, res){\n        //authentication is not necessary\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.835820895522388,
        "Content": "    var express = require('express');\n    var router = express.Router();\n    function checkForSessionId(req, res, next){\n        //if no valid session\n        //    return res.status(401).json(\"not authorised\");\n        //else\n        next();\n    }\n    router.get('/:userId', checkForSessionId, function(req, res){\n        //this is a route which requires authentication\n    })\n    router.post('/register', function(req, res){\n        //authentication is not necessary\n    })\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "38931564",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "229566685",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    {\n      test: /\\.css$/,loaders: ['style','css?importLoaders=1','font?         format[]=truetype&format[]=woff&format[]=embedded-opentype']\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    {\n      loaders: [\n        { test: /\\.css$/, loader: \"style-loader!css-loader\" }\n      ]\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39005409",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "230404357",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import {myClass} from ./class.js",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    import {myClass} from \"./class.js\";",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39028879",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "230682946",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log('The bot is starting');\n        \n        var Twit = require('twit');\n        \n        var config = require('./config');\n        var T = new Twit(config);\n        \n        //Setting up a user stream\n        var stream = T.stream('user');\n        \n        stream.on('tweet', tweetEvent);\n        \n        function tweetEvent(eventMsg) {\n        \n           var replyto = eventMsg.user.screen_name;\n           var text = eventMsg.text;\n           var from = eventMsg.user.screen_name;\n    \t   // the status update or tweet ID in which you want to reply\n    \t   var nameID  = eventMsg.id_str;\n        \n           console.log(replyto + ' '+ from);\n        \n           if (replyto == 'other user\\'s handle') {\n           \tvar newtweet = '@' + from + ' Hello!';\n           \ttweetIt(newtweet);\n           }\n        \n        }\n        \n        function tweetIt(txt) {\n        \n    \t\t\tvar tweet = {\n    \t\t\t\tstatus: txt,\n    \t\t\t\tin_reply_to_status_id: nameID\n    \t\t\t}\n        \n        \tT.post('statuses/update', tweet, tweeted);\n        \n        \tfunction tweeted(err, data, response) {\n        \t  if (err) {\n        \t  \tconsole.log(\"Something went wrong!\");\n        \t  } else {\n        \t    console.log(\"It worked!\");\n        \t  }\n        \t}\n        }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6857142857142857,
        "Content": "    console.log('The bot is starting');\n    \n    var Twit = require('twit');\n    \n    var config = require('./config');\n    var T = new Twit(config);\n    \n    //Setting up a user stream\n    var stream = T.stream('user');\n    \n    stream.on('tweet', tweetEvent);\n    \n    function tweetEvent(tweet) {\n    \tvar reply_to = tweet.in_reply_to_screen_name;\n        var text \t   = tweet.text;\n    \tvar from \t   = tweet.user.screen_name;\n    \tvar nameID     = tweet.id_str;\n    \t// params just to see what is going on with the tweets\n    \tvar params     = {reply_to, text, from, nameID};\n    \tconsole.log(params);\n    \n    \tif (reply_to === 'YOUR_USERNAME') {\n    \t\tvar new_tweet = '@' + from + ' Hello!';\n    \t\tvar tweet = {\n    \t\t\tstatus: new_tweet,\n    \t\t\tin_reply_to_status_id: nameID\n    \t\t}\n    \n    \t\tT.post('statuses/update', tweet, tweeted);\n    \n    \t\tfunction tweeted(err, data, response) {\n    \t\t\tif (err) {\n    \t\t\t\tconsole.log(\"Something went wrong!\");\n    \t\t\t} else {\n    \t\t\t\tconsole.log(\"It worked!\");\n    \t\t\t}\n    \t\t}\n    \t}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39039575",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "230807456",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function getValueFromJson(jsonInput,keyInput) {\n        var keysData = keyInput.split('.');\n        var jsonHierarchy = jsonInput;\n        keyData.forEach(function(d) {\n            if(jsonHierarchy)\n                jsonHierarchy = jsonHierarchy[d];\n        }) \n        return jsonHierarchy;\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function getValueFromJson(jsonInput,keyInput) {\n        var keysData = keyInput.split('.');\n        var jsonHierarchy = jsonInput;\n        keysData.forEach(function(d) {\n            if(jsonHierarchy)\n                jsonHierarchy = jsonHierarchy[d];\n        }) \n        return jsonHierarchy;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39047853",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "230905451",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var data = [{id:1, name: \"one\"},{id: 2, name: \"two\"}];\n    module.expors = function(){\n      return data;\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9090909090909091,
        "Content": "    var data = [{id:1, name: \"one\"},{id: 2, name: \"two\"}];\n    module.exports = function(){\n      return data;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39085344",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231340139",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const execSync = require('child_process');\n    execSync('npm install', {stdio:[0,1,2]});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    const execSync = require('child_process').execSync;\n    execSync('npm install', {stdio:[0,1,2]});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39085391",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231340674",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Bar = require('./foo);\n    var bar = new Bar();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var Bar = require('./foo');\n    var bar = new Bar();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39096206",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231463406",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const dgram = require('dgram');\n    const async = require('async');\n    async.parallel([\n        function(callback) {\n            var client1 = dgram.createSocket('udp4');\n            client1.send(message, 41234, 'localhost', function(err) {\n              client1.close();\n              callback();\n            });\n        },\n        function(callback) {\n            var client2 = dgram.createSocket('udp4');\n            client2.send(message, 41234, 'localhost', function(err) {\n              client2.close();\n              callback();\n            });\n        }\n    ],\n    // optional callback\n    function(err, results) {\n      // I am done here...\n      process.exit();\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9375,
        "Content": "    const dgram = require('dgram');\n    const async = require('async');\n    async.parallel([\n        function(callback) {\n            var client1 = dgram.createSocket('udp4');\n            client1.send(\"hello\", 41234, 'localhost', function(err) {\n              client1.close();\n              callback();\n            });\n        },\n        function(callback) {\n            var client2 = dgram.createSocket('udp4');\n            client2.send(\"world\", 41234, 'localhost', function(err) {\n              client2.close();\n              callback();\n            });\n        }\n    ],\n    // optional callback\n    function(err, results) {\n      // I am done here...\n      process.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39151908",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "232105377",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import from './models/stream';\n    import stream from './routes/stream';",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    import './models/stream';\n    import stream from './routes/stream';",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39202180",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "232682370",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function usernametoid(id) {\n        return new Promise( function (resolve, reject) {\n            Users.findOne({ username : id }).then( function(user){\n              if(user){\n                user.exec(function(userdata, error) {\n                    if(userdata){\n                      return resolve(userdata);\n                    } \n                    if(error){\n                       return reject({error : 'Error while executing query'});\n                    }\n                       return reject({error : 'User not found'});\n                 });\n               }\n            });\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8450704225352113,
        "Content": "    var Users  = require('../models/users-model.js');\n    function usernametoid(id) {\n        return new Promise( function (resolve, reject) {\n            Users.findOne({ username : id }).then( function(user){\n              //If you use lodash you can do _.isNull(user)\n              if(user == null){\n                return reject({error : 'User not found'});\n              }\n              \n              user.exec(function(userdata, error) {\n                  if(userdata){\n                    return resolve(userdata);\n                  } \n                  if(error){\n                     return reject({error : 'Error while executing query'});\n                  }\n               });\n            });\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39224927",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "232938261",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var es  = new EventSource('http://api.xyz.com:8100/update/');\n    //Listening URL Event Sourse \n    es.addEventListener('message', function (e) { \n        //Extract Json\n        var extractData =  JSON.parse(e.data); \n        if(extractData.type == 'CALL' )\n        {  \n           console.log(extractData);\n          \n            //you can call a function \n            postDataToServer(extractData); \n           \n        }\n    });\n    //Details to PHP\n    function postDataToServer(SendingDetails)\n    { \n        var ServerURL = 'OTHER_SERVAL_URL';\n        request({\n            url    : ServerURL,\n            method : \"POST\",\n            json   : true,\n            body   : SendingDetails\n        }, function (error, response, body){\n            console.log(body);       \n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    //including Event Source\n    var EventSource = require('eventsource');\n    var request     = require('request');  /*****ADDED******/   \n    var es  = new EventSource('http://api.xyz.com:8100/update/');\n    //Listening URL Event Sourse \n    es.addEventListener('message', function (e) { \n        //Extract Json\n        var extractData =  JSON.parse(e.data); \n        if(extractData.type == 'CALL' )\n        {  \n           console.log(extractData);\n          \n            //you can call a function \n            postDataToServer(extractData); \n           \n        }\n    });\n    //Post Details to other server\n    function postDataToServer(SendingDetails)\n    { \n        var ServerURL = 'OTHER_SERVAL_URL';\n        request({\n            url    : ServerURL,\n            method : \"POST\",\n            json   : true,\n            body   : SendingDetails\n        }, function (error, response, body){\n            console.log(body);       \n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39260853",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "233354291",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.loadImage = function (req, res) {\n    var upload = multer({\n            inMemory: true,\n            limits: {fileSize: 1024 * 1024 }\n        }).single('newPicture');\n    upload(req, res, function (uploadError) {\n        if (uploadError) {\n            return res.status(400).send({ message: 'errorUploadingPicture' });\n        }\n        else {\n            // this is where the photo data is\n            if (req.file && req.file.buffer) {\n                var profileImage = req.file.buffer;\n            }\n           \n        }\n    });\n};",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9069767441860465,
        "Content": "    var multer = require('multer');\n    exports.loadImage = function (req, res) {\n    var upload = multer({\n            inMemory: true,\n            limits: {fileSize: 1024 * 1024 }\n        }).single('newPicture');\n    upload(req, res, function (uploadError) {\n        if (uploadError) {\n            return res.status(400).send({ message: 'errorUploadingPicture' });\n        }\n        else {\n            var profileImage = 'No data uploaded';\n            // this is where the photo data is\n            if (req.file && req.file.buffer) {\n                profileImage = req.file.buffer;\n            }\n            return res.json(profileImage );           \n        }\n    });\n};",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39322782",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "234070471",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    cat lib/index.js \n\tvar sayHello = function(name) {\n\t return 'Hello, ' + name;\n\t};\n\t \n\t// Allows us to call this function from outside of the library file\n\t// Without this, the function would be private to this file\n\texports.sayHello = sayHello;",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "\tvar sayHello = function(name) {\n\t return 'Hello, ' + name;\n\t};\n\t \n\t// Allows us to call this function from outside of the library file\n\t// Without this, the function would be private to this file\n\texports.sayHello = sayHello;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39395803",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "234895518",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mysql = require('mysql');\n    var pool  = mysql.createPool(db_config);\n    \n    pool.getConnection(function(err, connection) {\n      // connected! (unless `err` is set)\n    });\n    module.exports = pool;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6153846153846154,
        "Content": "    var mysql = require('mysql');\n    var db_config = {\n       //...\n       connectTimeout: 10000 //The milliseconds before a timeout occurs during\n                             //the initial connection to the MySQL server.\n    };\n    var pool  = mysql.createPool(db_config);\n    \n    pool.getConnection(function(err, connection) {\n      // connected! (unless `err` is set)\n    });\n    pool.on('error', function(err) {\n      console.log(err.code); // 'ER_BAD_DB_ERROR' \n      // https://www.npmjs.com/package/mysql#error-handling\n    });\n    module.exports = pool;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39496635",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "236042014",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    // controllers/findallusers.js --> (keep name simple  i.e userController.js)\n    var myModel = require('../models/schema');\n    module.exports = function() {\n     \n        /**\n         * Get All Users\n         */\n        list: function(req, res) {\n           myModel.find({},function(err, users){\n              if(err) {\n                  return res.status(500).json({message: 'Error getting Users.'});\n              }\n             return res.json(users);\n          });\n        },\n       /**\n        * Keep Adding more functions as you want\n       */\n       create: function(req,res){\n           //functionality to create user\n       },\n       delete: function(req,res){\n          // functionality to delete user\n       }       \n   \n    }",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // controllers/findallusers.js --> (keep name simple  i.e userController.js)\n    var myModel = require('../models/schema');\n    module.exports =  {\n     \n        /**\n         * Get All Users\n         */\n        list: function(req, res) {\n           myModel.find({},function(err, users){\n              if(err) {\n                  return res.status(500).json({message: 'Error getting Users.'});\n              }\n             return res.json(users);\n          });\n        },\n       /**\n        * Keep Adding more functions as you want\n       */\n       create: function(req,res){\n           //functionality to create user\n       },\n       delete: function(req,res){\n          // functionality to delete user\n       },\n       someDummyName: function(callback) {\n           myModel.find({},function(err, users){\n              if(err) {\n                return callback(err)\n              }\n             return callback(null,users);\n          });\n        }       \n   \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39550638",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "236662665",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Ex = require('express');\n    var app = Ex();\n    var router = Ex.Router();\n    app\n        .use(router)\n        .listen(8080);\n    \n    var DomainProxy = require('./DomainProxy').DomainProxy;\n    var dp = new DomainProxy(ex.router); // 1 dp per router\n    \n    app.get('/make', function (req, res) {\n        var subDomain = 'sub1.mysite.com';\n        var site = 'http://www.example.com'; // site need to contain 'http://', else dp link rewrite will not work correctly\n    \n        dp.create(subDomain,site);\n    \n        res.send(\"Proxy Created\");\n    });\n    \n    app.get('/destroy', function (req, res) {\n    \n        var subDomain = 'sub1.mysite.com';\n        \n        dp.destroy(subDomain);\n    \n        res.send(\"Proxy Destroyed\");\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Ex = require('express');\n    var app = Ex();\n    app.listen(8080);\n    \n    var DomainProxy = require('./DomainProxy').DomainProxy;\n    // Pass express instance 'app' into dp,\n    // dp will create a vhost router internally\n    var dp = new DomainProxy(app);\n    \n    var proxies = [\n    \t{ domain: '1.local', site: 'http://www.bing.com' },\n    \t{ domain: '2.local', site: 'http://samanthagooden.com' },\n    \t{ domain: '3.local', site: 'http://www.courtleigh.com' },\n    \t{ domain: '4.local', site: 'http://example.com' }\n    ];\n    \n    dp.create(proxies);\n    app.get('/make', function (req, res) {\n        var subDomain = 'sub1.mysite.com';\n        var site = 'http://www.example.com'; // site need to contain 'http://', else dp link rewrite will not work correctly\n    \n        dp.create([{domain:subDomain,site:site}]);\n    \n        res.send(\"Proxy Created\");\n    });\n    \n    app.get('/destroy', function (req, res) {\n    \n        var subDomain = 'sub1.mysite.com';\n        \n        dp.destroy(subDomain);\n    \n        res.send(\"Proxy Destroyed\");\n    \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39736039",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "238793420",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "          import clc from 'cli-color';\n          process.stdout.write(clc.erase.screen);\n          process.stdout.write(clc.erase.line);\n          process.stdout.write(clc.move.to(0,0));\n          process.stdout.write('status: ok');\n          // .. other stuff happens for awhile\n          process.stdout.write(clc.erase.line);\n          process.stdout.write(clc.move.to(0,0));\n          process.stodout.write('status: issue');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9696969696969697,
        "Content": "          import clc from 'cli-color';\n          process.stdout.write(clc.erase.screen);\n          process.stdout.write(clc.erase.line);\n          process.stdout.write(clc.move.to(0,0));\n          process.stdout.write('status: ok');\n          // .. other stuff happens for awhile\n          process.stdout.write(clc.erase.line);\n          process.stdout.write(clc.move.to(0,0));\n          process.stdout.write('status: issue');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39769821",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "239179896",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var function2 = function () {\n        return new Promise((resolve, reject) => {\n            console.log(\"function2 has started\");\n            setTimeout(function() {\n                console.log(\"function2 has ended\")\n                resolve();\n            }, 3000);\n        });\n    };\n    \n    var function3 = function () {\n        return new Promise((resolve, reject) => {\n            console.log(\"function3 has started\");\n            setTimeout(function() {\n                console.log(\"function 3 has ended\")\n                resolve()\n            }, 2000);\n        });\n    };\n    \n    var myFunc = function () { \n        function3().then(function2).then(function1);\n    }\n    \n    myFunc();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9454545454545454,
        "Content": "    var function1 = function() {\n        console.log(\"function 1 has started\")\n    }\n    \n    var function2 = function () {\n        return new Promise((resolve, reject) => {\n            console.log(\"function2 has started\");\n            setTimeout(function() {\n                console.log(\"function2 has ended\")\n                resolve();\n            }, 3000);\n        });\n    };\n    \n    var function3 = function () {\n        return new Promise((resolve, reject) => {\n            console.log(\"function3 has started\");\n            setTimeout(function() {\n                console.log(\"function 3 has ended\")\n                resolve()\n            }, 2000);\n        });\n    };\n    \n    var myFunc = function () { \n        function3().then(function2).then(function1);\n    }\n    \n    myFunc();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39870045",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240321841",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Excel = require('exceljs');\n    var workbook = new Excel.Workbook();\n    \n    workbook.xlsx.readFile('old.xlsx')\n        .then(function() {\n            var row = worksheet.getRow(5);\n            row.getCell(1).value = 5; // A5's value set to 5\n            row.commit();\n            return workbook.xlsx.writeFile('new.xlsx');\n        })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9565217391304348,
        "Content": "    var Excel = require('exceljs');\n    var workbook = new Excel.Workbook();\n    \n    workbook.xlsx.readFile('old.xlsx')\n        .then(function() {\n            var worksheet = workbook.getWorksheet(1);\n            var row = worksheet.getRow(5);\n            row.getCell(1).value = 5; // A5's value set to 5\n            row.commit();\n            return workbook.xlsx.writeFile('new.xlsx');\n        })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39918906",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240883314",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // NOTE: the following code is untested, but it should show the concept\n    var Transform = require('stream').Transform;\n    var Buffer    = require('Buffer');\n    class ChunkEncode extends Transform {\n        constructor(options){\n            super(options);\n            this.splitSize = options.splitSize;\n            this.buffer = new Buffer(0);\n        }\n        \n        _transform(chunk, encoding, cb){\n            // chunk is a Buffer;\n            this.buffer = Buffer.concat(this.buffer, chunk);\n            while (this.buffer.length > this.splitSize){\n                let chunk = this.buffer.slice(0, this.splitSize);\n                this.push(chunk.toString('base64')) // Encode and write back to the stream.\n                // chop off `splitSize` from the start of our buffer.\n                this.buffer = this.buffer.slice(splitSize);\n            }\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.736,
        "Content": "    // NOTE: the following code has been tested in node 6.\n    // since it relies on the new Buffer api, it must be run in 5.10+\n    var Transform = require('stream').Transform;\n    class ChunkEncode extends Transform {\n        constructor(options){\n            super(options);\n            this.splitSize = options.splitSize;\n            this.buffer = Buffer.alloc(0);\n        }\n        \n        _transform(chunk, encoding, cb){\n            // chunk is a Buffer;\n            this.buffer = Buffer.concat([this.buffer, chunk]);\n            while (this.buffer.length > this.splitSize){\n                let chunk = this.buffer.slice(0, this.splitSize);\n                // Encode and write back to the stream.\n                this.push(chunk.toString('base64')) \n                // throw in a newline for visibility.\n                this.push('\\n');\n                // chop off `splitSize` from the start of our buffer.\n                this.buffer = this.buffer.slice(this.splitSize);\n            }\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39941616",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241152042",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function eitherOf(a, b) {\n      return new Promise(resolve) => {\n        a.then(resolve);\n        b.then(resolve);\n      });\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9655172413793104,
        "Content": "    const invert  = p  => new Promise((res, rej) => p.then(rej, res));\n    const firstOf = ps => invert(Promise.all(ps.map(invert)));\n    // Utility routines used only in testing.\n    const wait    = ms => new Promise(res => setTimeout(() => res(ms), ms));\n    const fail    = f  => Promise.reject(f);\n    const log     = p  => p.then(v => console.log(\"pass\", v), v => console.log(\"fail\", v));\n    // Test.\n    log(firstOf([wait(1000), wait(500) ]));\n    log(firstOf([wait(1000), fail(\"f1\")]));\n    log(firstOf([fail(\"f1\"), fail(\"f2\")]));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39948479",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241230913",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // test.js\n    var myWindow = require('jsdom').jsdom().defaultView;\n    var $ = require('jquery')(myWindow);\n    mock('jquery', $);\n    mock.reRequire('jquery'); // This will prevent requrie() calls to return the\n                              // originally cached version of jQuery\n    // When MyModule will require(\"jquery\"), it will get the one which uses jsdom's window\n    var MyModule = require(\"./MyModule.js\");",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9722222222222222,
        "Content": "    // test.js\n    var mock = require('mock-require');\n    var myWindow = require('jsdom').jsdom().defaultView;\n    var $ = require('jquery')(myWindow);\n    mock('jquery', $);\n    mock.reRequire('jquery'); // This will prevent requrie() calls to return the\n                              // originally cached version of jQuery\n    // When MyModule will require(\"jquery\"), it will get the one which uses jsdom's window\n    var MyModule = require(\"./MyModule.js\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39956264",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "241322111",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function query(conn, cmd) {\n        return new Promise((resolve, reject) => {\n            conn.query(cmd, (err, queryResult) {\n                if (err) reject(err); // Don't throw!\n                else resolve(queryResult);\n            });\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function query(conn, cmd) {\n        return new Promise((resolve, reject) => {\n            conn.query(cmd, (err, queryResult) => {\n                if (err) reject(err); // Don't throw!\n                else resolve(queryResult);\n            });\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39979499",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "241582079",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const controller = require('./controller');\n    const router = express.Router();\n    router.get('/getAllDiagram', controller.index);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8421052631578947,
        "Content": "    const express = require('express');\n    const controller = require('./controller');\n    const router = express.Router();\n    router.get('/getAllDiagram', controller.index);\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39979499",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "241582075",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    module.exports.index = (req, res) => {\n        Diagram.find({}, function(err, result) {\n            if (err) {\n                console.error(`Error in finding diagram: ${err.message}`);\n                 \n                return res.status(500);\n            }\n            res.json(result);\n        });\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const Diagram = require('./diagram.model');\n    module.exports.index = (req, res) => {\n        Diagram.find({}, function(err, result) {\n            if (err) {\n                console.error(`Error in finding diagram: ${err.message}`);\n                 \n                return res.status(500);\n            }\n            res.json(result);\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "39985653",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241652712",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var Diagram = require('./api/diagram/diagram.controller');\n    var router = express.Router();\n    router.post('/saveUpdateDiagram', function(req,res){\n        console.log(req.body);\n    });\n`",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.96,
        "Content": "    var express = require('express');\n    var Diagram = require('./api/diagram/diagram.controller');\n    var router = express.Router();\n    router.post('/saveUpdateDiagram', function(req,res){\n        console.log(req.body);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40132636",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243332967",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var today = new Date();\n    var xMasInit = new Date(today.getFullYear, 11, 24, 16, 00) // 24 december at 16pm of currentyear\n    var xMasEnd = new Date(today.getFullYear, 11, 26, 10, 00); //26 december at 10am of currentYear\n    var isXmas = xMasInit <= today && today <= xMasEnd\n    console.log(isXmas)",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var today = new Date();\n    var fakeToday = new Date(today.getFullYear(), 11, 24, 20, 00) //fake date to check\n    var xMasInit = new Date(today.getFullYear(), 11, 24, 16, 00) // 24 december at 16pm of currentyear\n    var xMasEnd = new Date(today.getFullYear(), 11, 26, 10, 00); //26 december at 10am of currentYear\n    var isXmas = xMasInit <= today && today <= xMasEnd\n    var fakeXmas =  xMasInit <= fakeToday && fakeToday <= xMasEnd\n    console.log(isXmas);\n    console.log(fakeXmas);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40188305",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243969635",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function putObjectToS3(bucket, key, data){\n        var s3 = new AWS.S3();\n            var params = {\n                Bucket : bucket,\n                Key : key,\n                Body : data\n            }\n            s3.putObject(params, function(err, data) {\n              if (err) console.log(err, err.stack); // an error occurred\n              else     console.log(data);           // successful response\n            });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var AWS = require('aws-sdk');\n    function putObjectToS3(bucket, key, data){\n        var s3 = new AWS.S3();\n            var params = {\n                Bucket : bucket,\n                Key : key,\n                Body : data\n            }\n            s3.putObject(params, function(err, data) {\n              if (err) console.log(err, err.stack); // an error occurred\n              else     console.log(data);           // successful response\n            });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40209221",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "244204603",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var json = \"[{\"amount\":3,\"name\":\"Coca-Cola\"},{\"amount\":3,\"name\":\"Rib Eye\"}]\",\n        arr = JSON.parse(json),\n        formatted = [];\n    arr.forEach(function(item) {\n      formatted.push(item.amount + \" - \" + item.name);\n    });",
        "MostRecentVersion": "0",
        "Errors": 20,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.875,
        "Content": "    var json = \"[{\\\"amount\\\":3,\\\"name\\\":\\\"Coca-Cola\\\"},{\\\"amount\\\":3,\\\"name\\\":\\\"Rib Eye\\\"}]\",\n        arr = JSON.parse(json),\n        formatted = [];\n    arr.forEach(function(item) {\n      formatted.push(item.amount + \" - \" + item.name);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40274345",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "244940271",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    db.task(t => {\n        return t.map('SELECT id FROM Users WHERE status = $1', ['active'], user => {\n            return t.map('SELECT * FROM Events WHERE userId = $1', user.id, event=> {\n                return t.any('SELECT * FROM Cars WHERE carId = $1', event.carId)\n                    .then(cars=> {\n                        event.cars = cars;\n                        return event;\n                    });\n            })\n                .then(t.batch)\n                .then(events=> {\n                    user.events = events;\n                    return user;\n                });\n        }).then(t.batch);\n    })\n        .then(data => {\n            // success\n        })\n        .catch(error => {\n            // error\n        });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function getUsers(t) {\n        return t.map('SELECT * FROM Users WHERE status = $1', ['active'], user => {\n            return t.map('SELECT * FROM Events WHERE userId = $1', user.id, event => {\n                return t.any('SELECT * FROM Cars WHERE eventId = $1', event.id)\n                    .then(cars => {\n                        event.cars = cars;\n                        return event;\n                    });\n            })\n                .then(t.batch) // settles array of requests for Cars (for each event)\n                .then(events => {\n                    user.events = events;\n                    return user;\n                });\n        }).then(t.batch); // settles array of requests for Events (for each user)\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40292596",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "245151065",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    crypto.pbkdf2Sync(password, new Buffer(this.salt, 'binary'), 10000, 64, 'sha1')",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4,
        "Content": "    const crypto = require('crypto');\n    \n    let password = 'ramco@123';\n    let salt     = `d\\u001e'��\\u0001\\u0004\\u0012)aq�**G\\u000f`;\n    \n    let x = crypto.pbkdf2Sync(password, new Buffer(salt, 'binary'), 10000, 64, 'sha1').toString('base64');\n    \n    console.log(x);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40412728",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "246524214",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var path = require('path');\n    var basedir = '/another/dir';\n    var dirname = 'foo';\n    var filepath = path.join(basedir, 'node_modules', filename);\n    var imports = require(filepath);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.875,
        "Content": "    var path = require('path');\n    var basedir = '/another/dir';\n    var filename = 'foo'; // renamed from dirname\n    var filepath = path.join(basedir, 'node_modules', filename);\n    var imports = require(filepath);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40497881",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "247484717",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.getresponse = function(inputstring,callback){\n      var request = app3.textRequest(inputstring, {'sessionId': 123456});\n      request.on('response', function(response) {\n        onResponse(null,response);\n    });\n      request.on('error', function(error) {\n        callback(error,null);\n    });\n      request.end();\n    };\n    var express = require(\"express\");\n    var app = express();\n    var joe = require('./main.js');\n    joe.getresponse('jacket', function(error,response) {\n         if(error) { console.error(error); }\n         console.log(response);\n     });\n    app.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require(\"express\");\n    var app = express();\n    var joe = require('./main.js');\n    joe.getresponse('jacket', function(error,response) {\n         if(error) { console.error(error); }\n         console.log(response);\n     });\n    app.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40581208",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "248419555",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function createImage(){\n      return new Promise((resolve, reject) => {\n        // create image then resolve promise.\n        // ...\n        resolve()\n      })\n    }\n    \n    function tweetIt() {\n      //takes the image from the disk and tweets it\n    }\n    createImage.then(() => tweetIt())",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9583333333333334,
        "Content": "    function createImage(){\n      return new Promise((resolve, reject) => {\n        // create image then resolve promise.\n        // ...\n        resolve()\n      })\n    }\n    \n    function tweetIt() {\n      //takes the image from the disk and tweets it\n    }\n    createImage().then(tweetIt)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40582299",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "248432943",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var spawn = require('child_process').spawn;\n    var request = require('request');\n    var args = '-f image2pipe -r 1 -vcodec mjpeg -i - -f webm -r 1 test3.webm';\n    var encoder = spawn('ffmpeg', args.split(' '));\n    encoder.stderr.pipe(process.stdout);\n    encoder.ending=false;\n    var interval = function(){\n    //    request('http://xxx.xxx.xxx.xxx/snapshot/view0.jpg',function(er){\n        request('http://xxx.xxx.xxx.xxx/cgi-bin/snapshot.cgi?1',function(er){\n            if(er){console.log(er)}\n            setTimeout(function(){interval()},1000)\n        }).pipe(encoder.stdin,{end:false})\n    }\n    interval();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var spawn = require('child_process').spawn;\n    var request = require('request');\n    var args = '-f image2pipe -r 1 -vcodec mjpeg -i - -f webm -r 1 test3.webm';\n    var encoder = spawn('ffmpeg', args.split(' '));\n    encoder.stderr.pipe(process.stdout);\n    var interval = function(){\n        request('http://xxx.xxx.xxx.xxx/snapshot/view0.jpg',function(er){\n            if(er){console.log(er)}\n            setTimeout(function(){interval()},1000)\n        }).pipe(encoder.stdin,{end:false})\n    }\n    interval();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40590360",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "248520838",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mqtt = require('mqtt')\n    \n    client.on('connected',function(){\n      client.subscribe('presence');\n      console.log('Client publishing.. ');\n      client.publish('presence', 'Client 1 is alive.. Test Ping! ' + Date());\n    });\n    client.on('message',function(topic,message){\n      console.log(\"received message on \" + topic);\n      console.log(message.toString());\n      client.end();\n    });\n    client = mqtt.connect('mqtt://localhost');\n    ",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var mqtt = require('mqtt')\n    \n    var client = mqtt.connect('mqtt://localhost');\n    client.on('connected',function(){\n      client.subscribe('presence');\n      console.log('Client publishing.. ');\n      client.publish('presence', 'Client 1 is alive.. Test Ping! ' + Date());\n    });\n    client.on('message',function(topic,message){\n      console.log(\"received message on \" + topic);\n      console.log(message.toString());\n      client.end();\n    });\n    \n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40625691",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "248877407",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function func_name(param_1, param_2){\n        if(args.length!==2){\n            // Here you can throw an error.\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function func_name(param_1, param_2){\n        if(arguments.length!==2){\n            // Here you can throw an error.\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40728687",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "249890690",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // defining the array to loop over\n    const toFormat = [\n      [1, 'one', 'unu'],\n      [2, 'two', 'du'],\n      [3, 'three', 'tri'],\n      [4, 'four', 'kvar']\n    ];\n    let formatted = \"\";\n    for (let i of toFormat) {\n      formatted = formatted.concat(i[0], \" (\", i[1], \")\\n\");\n    }\n    console.log(formatted);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9487179487179487,
        "Content": "    // defining the array to loop over\n    const toFormat = [\n      [1, 'one', 'unu'],\n      [2, 'two', 'du'],\n      [3, 'three', 'tri'],\n      [4, 'four', 'kvar']\n    ];\n    let formatted = \"\";\n    for (let i of toFormat) {\n      formatted += (i[0] + \" (\" + i[1] + \")\\n\");\n    }\n    console.log(formatted);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40745825",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250053546",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n    const express = require('express');\n    const router = express.Router();\n    const Promise = require('bluebird');\n    const HttpStatus = require('http-status-codes');\n    const pool = require('./pool');     // my database pool module, using promise-mysql\n    const Errors = require('./errors'); // my collection of custom exceptions\n    ////////////////////////////////////////////////////////////////////////////////\n    // GET /v1/provinces\n    ////////////////////////////////////////////////////////////////////////////////\n    router.get('/provinces/:id', async function(req, res) {\n      try {\n        // get a connection from the pool\n        const connection = await pool.createConnection();\n        try {\n          // retrieve the list of provinces from the database\n          const sql_p = `SELECT p.id, p.code, p.name, p.country_id\n                         FROM provinces p\n                         WHERE p.id = ?\n                         LIMIT 1`;\n          const provinces = await connection.query(sql_p);\n          if (!provinces.length)\n            throw new Errros.NotFound('province not found');\n          \n          const province = provinces[0];\n          // retrieve the associated country from the database\n          const sql_c = `SELECT c.code, c.name\n                         FROM countries c\n                         WHERE c.id = ?\n                         LIMIT 1`;\n          const countries = await connection.query(sql_c, province.country_id);\n          if (!countries.length)\n            throw new Errors.InternalServerError('country not found');\n          province.country = countries[0];\n          return res.send({ province });\n        } finally {\n          pool.releaseConnection(connection);\n        }\n      } catch (err) {\n        if (err instanceof Errors.NotFound)\n          return res.status(HttpStatus.NOT_FOUND).send({ message: err.message }); // 404\n        console.log(err);\n        return res.status(HttpStatus.INTERNAL_SERVER_ERROR).send({ error: err, message: err.message }); // 500\n      }\n    });\n    ////////////////////////////////////////////////////////////////////////////////\n    // GET /v1/provinces/:id\n    ////////////////////////////////////////////////////////////////////////////////\n    router.get('/provinces', async function(req, res) {\n      try {\n        // get a connection from the pool\n        const connection = await pool.createConnection();\n        try {\n          // retrieve the list of provinces from the database\n          const sql_p = `SELECT p.id, p.code, p.name, p.country_id\n                         FROM provinces p`;\n          const provinces = await connection.query(sql_p);\n          const sql_c = `SELECT c.code, c.name\n                         FROM countries c\n                         WHERE c.id = ?\n                         LIMIT 1`;\n          const promises = provinces.map(async p => {\n            // retrieve the associated country from the database\n            const countries = await connection.query(sql_c, p.country_id);\n            if (!countries.length)\n              throw new Errors.InternalServerError('country not found');\n            p.country = countries[0];\n          });\n          await Promise.all(promises);\n          return res.send({ total: provinces.length, provinces });\n        } finally {\n          pool.releaseConnection(connection);\n        }\n      } catch (err) {\n        console.log(err);\n        return res.status(HttpStatus.INTERNAL_SERVER_ERROR).send({ error: err, message: err.message }); // 500\n      }\n    });\n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9915966386554622,
        "Content": "    'use strict';\n    const express = require('express');\n    const router = express.Router();\n    const Promise = require('bluebird');\n    const HttpStatus = require('http-status-codes');\n    const fs = Promise.promisifyAll(require('fs'));\n    const pool = require('./pool');     // my database pool module, using promise-mysql\n    const Errors = require('./errors'); // my collection of custom exceptions\n    ////////////////////////////////////////////////////////////////////////////////\n    // GET /v1/provinces/:id\n    ////////////////////////////////////////////////////////////////////////////////\n    router.get('/provinces/:id', async (req, res) => {\n      try {\n        // get a connection from the pool\n        const connection = await pool.createConnection();\n        try {\n          // retrieve the list of provinces from the database\n          const sql_p = `SELECT p.id, p.code, p.name, p.country_id\n                         FROM provinces p\n                         WHERE p.id = ?\n                         LIMIT 1`;\n          const provinces = await connection.query(sql_p);\n          if (!provinces.length)\n            throw new Errors.NotFound('province not found');\n          \n          const province = provinces[0];\n          // retrieve the associated country from the database\n          const sql_c = `SELECT c.code, c.name\n                         FROM countries c\n                         WHERE c.id = ?\n                         LIMIT 1`;\n          const countries = await connection.query(sql_c, province.country_id);\n          if (!countries.length)\n            throw new Errors.InternalServerError('country not found');\n          province.country = countries[0];\n          return res.send({ province });\n        } finally {\n          pool.releaseConnection(connection);\n        }\n      } catch (err) {\n        if (err instanceof Errors.NotFound)\n          return res.status(HttpStatus.NOT_FOUND).send({ message: err.message }); // 404\n        console.log(err);\n        return res.status(HttpStatus.INTERNAL_SERVER_ERROR).send({ error: err, message: err.message }); // 500\n      }\n    });\n    ////////////////////////////////////////////////////////////////////////////////\n    // GET /v1/provinces\n    ////////////////////////////////////////////////////////////////////////////////\n    router.get('/provinces', async (req, res) => {\n      try {\n        // get a connection from the pool\n        const connection = await pool.createConnection();\n        try {\n          // retrieve the list of provinces from the database\n          const sql_p = `SELECT p.id, p.code, p.name, p.country_id\n                         FROM provinces p`;\n          const provinces = await connection.query(sql_p);\n          const sql_c = `SELECT c.code, c.name\n                         FROM countries c\n                         WHERE c.id = ?\n                         LIMIT 1`;\n          const promises = provinces.map(async p => {\n            // retrieve the associated country from the database\n            const countries = await connection.query(sql_c, p.country_id);\n            if (!countries.length)\n              throw new Errors.InternalServerError('country not found');\n            p.country = countries[0];\n          });\n          await Promise.all(promises);\n          return res.send({ total: provinces.length, provinces });\n        } finally {\n          pool.releaseConnection(connection);\n        }\n      } catch (err) {\n        console.log(err);\n        return res.status(HttpStatus.INTERNAL_SERVER_ERROR).send({ error: err, message: err.message }); // 500\n      }\n    });\n    ////////////////////////////////////////////////////////////////////////////////\n    // OPTIONS /v1/provinces\n    ////////////////////////////////////////////////////////////////////////////////\n    router.options('/provinces', async (req, res) => {\n      try {\n        const data = await fs.readFileAsync('./options/provinces.json');\n        res.setHeader('Access-Control-Allow-Methods', 'HEAD,GET,OPTIONS');\n        res.setHeader('Allow', 'HEAD,GET,OPTIONS');\n        res.send(JSON.parse(data));\n      } catch (err) {\n        res.status(HttpStatus.INTERNAL_SERVER_ERROR).send({ error: err, message: err.message });\n      }\n    });\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40758368",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250173932",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    THREE = require(\"three.js\");\n    \n    // Create a DOM\n    MockBrowser = require('mock-browser').mocks.MockBrowser;\n    mock = new MockBrowser();\n    document = MockBrowser.createDocument();\n    window = MockBrowser.createWindow();\n    \n    //REST API\n    var express     = require('express');      \n    var app         = express();    \n    var bodyParser  = require('body-parser');\n    \n    router.get('/render', function(req, res){\n    \n        var scene = new THREE.Scene();\n    \tvar camera = new THREE.PerspectiveCamera(75, this.width / this.height, 0.1, 1000);\n    \tvar renderer = new THREE.WebGLRenderer({context:gl});\n    \n        scene.add(camera);\n    \n    \trenderer.setSize(this.width, this.height);\n    \trenderer.setClearColor(0xFFFFFF, 1);\n    \n        /*...\n            Add your objects & light to the scene \n        ...*/\n    \n        var target = new THREE.WebGLRenderTarget(this.width, this.height);\n    \trenderer.render(scene, camera, target);\n    \n    \n       res.setHeader('Content-Type', 'image/png');\n       pngStream(renderer, target).pipe(res);\n    });",
        "MostRecentVersion": "0",
        "Errors": 15,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9938650306748467,
        "Content": "    var THREE = require(\"three.js\");\n    \n    // Create a DOM\n    var MockBrowser = require('mock-browser').mocks.MockBrowser;\n    var mock = new MockBrowser();\n    var document = MockBrowser.createDocument();\n    var window = MockBrowser.createWindow();\n    \n    //REST API\n    var express     = require('express');      \n    var app         = express();    \n    var bodyParser  = require('body-parser');\n    var router = express.Router();\n    var gl = require('gl')(1,1); //headless-gl\n    \n    var pngStream = require('three-png-stream');\n    var port = process.env.PORT || 8080;\n    router.get('/render', function(req, res){\n    \n        var scene = new THREE.Scene();\n    \tvar camera = new THREE.PerspectiveCamera(75, this.width / this.height, 0.1, 1000);\n    \tvar renderer = new THREE.WebGLRenderer({context:gl});\n    \n        scene.add(camera);\n    \n    \trenderer.setSize(this.width, this.height);\n    \trenderer.setClearColor(0xFFFFFF, 1);\n    \n        /*...\n            Add your objects & light to the scene \n        ...*/\n    \n        var target = new THREE.WebGLRenderTarget(this.width, this.height);\n    \trenderer.render(scene, camera, target);\n    \n    \n       res.setHeader('Content-Type', 'image/png');\n       pngStream(renderer, target).pipe(res);\n    });\n    app.use('/api', router);\n    \n    app.listen(port);\n    console.log('Server active on port: ' + port);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40770995",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "250300901",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const myObj = new require('./src/mymodule')();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    const myObj = new (require('./src/mymodule'))();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40925742",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251826000",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        var MongoClient = require('mongodb').MongoClient\n        , format = require('util').format;MongoClient.connect('mongodb://127.0.0.1:27017/test', function (err, db)` {\n        if (err) {\n            throw err;\n        } else {\n            console.log(\"successfully connected to the database\");\n        }\n        db.close();\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8095238095238095,
        "Content": "    var MongoClient = require('mongodb').MongoClient,\n    \tformat = require('util').format;\n    MongoClient.connect('mongodb://127.0.0.1:27017/test', function(err, db) {\n    \tif (err) {\n    \t\tthrow err;\n    \t} else {\n    \t\tconsole.log(\"successfully connected to the database\");\n    \t}\n    \tdb.close();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40926874",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251836617",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var str = '{\n        \"ts\": \"3170075\",\n        \"eventid\": 25,\n        \"oper_minutes\": 48577,\n        \"time\": \"2016-12-02T06:36:36Z\",\n        \"lto\": \"7200000\",\n        ...   //cut for brevity\n    }';\n    \n    var obj = JSON.parse(`[${str}]`);",
        "MostRecentVersion": "0",
        "Errors": 14,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.25,
        "Content": "    var str = '{\"ts\": \"3170075\",\"eventid\": 25,\"oper_minutes\": 48577,\"time\": \"2016-12-02T06:36:36Z\",\"lto\": \"7200000\",\"package_name\": \"XXX\",\"timestamp\": \"1480660593188\",\"action_type\": \"1\",\"events\": [{\"device_name\": 0,\"key_category\": 1,\"eventid\": 15,\"ts\": \"2111\" }, {\"power_state\": 3,\"reason\": 1,\"eventid\": 1,\"ts\": \"2113\" }]}, {\"ts\": \"3170084\",\"eventid\": 25,\"oper_minutes\": 48577,\"time\": \"2016-12-02T06:36:36Z\",\"lto\": \"7200000\",\"package_name\": \"XXXX\",\"timestamp\": \"1480660593218\",\"action_type\": \"1\",\"events\": [{\"device_name\": 0,\"key_category\": 1,\"eventid\": 15,\"ts\": \"2111\" }, {\"power_state\": 3,\"reason\": 1,\"eventid\": 1,\"ts\": \"2113\"}]}';\n        \n        var obj = JSON.parse(`[${str}]`);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40946031",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252032724",
    "Versions": [
      {
        "PredCount": "0",
        "Content": " if ( node.path.indexOf( treeNode.path + '/' ) == 0 ) {",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var json_data = [{\n      \"title\": \"Food\",\n      \"path\": \"/root\",\n    }, {\n      \"title\": \"Cloths\",\n      \"path\": \"/root\",\n    }, {\n      \"title\": \"Veg\",\n      \"path\": \"/root/Food\",\n    }, {\n      \"title\": \"Brinjal\",\n      \"path\": \"/root/Food/Veg\",\n    }, {\n      \"title\": \"T shirt\",\n      \"path\": \"/root/Cloths\",\n    }, {\n      \"title\": \"Shirt\",\n      \"path\": \"/root/Cloths\",\n    }, {\n      \"title\": \"Green brinjal\",\n      \"path\": \"/root/Food/Veg/Brinjal\",\n    },{\n      \"title\": \"Test cloth\",\n      \"path\": \"/root/Cloths/Shirt\",\n    }];\n    // Add an item node in the tree, at the right position\n    function addToTree(node, treeNodes) {\n      var parentNode = GetTheParentNodeChildArray(node.path, treeNodes) || treeNodes;\n      parentNode.push({\n        title: node.title,\n        path: node.path,\n        children: []\n      });\n    }\n    function GetTheParentNodeChildArray(path, treeNodes) {\n      for (var i = 0; i < treeNodes.length; i++) {\n        var treeNode = treeNodes[i];\n        if (path === (treeNode.path + '/' + treeNode.title)) {\n          return treeNode.children;\n        } \n        else if (treeNode.children.length > 0) {\n          var possibleParent = false;\n          treeNode.children.forEach(function(item) {\n            if (path.indexOf(item.path + '/' + item.title) == 0) {\n              possibleParent = true;\n              return false;\n            }\n          });\n          if (possibleParent) {\n            return GetTheParentNodeChildArray(path, treeNode.children)\n          }\n        }\n      }\n    }\n    //Create the item tree starting from menuItems\n    function createTree(nodes) {\n      var tree = [];\n      for (var i = 0; i < nodes.length; i++) {\n        var node = nodes[i];\n        addToTree(node, tree);\n      }\n      return tree;\n    }\n    // variable = \"json_data\" is the set of URLS\n    var menuItemsTree = createTree(json_data);\n    console.log(menuItemsTree);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40957428",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252145261",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Promise.all(promises.map((promise, idx) => \n      new Promise(resolve =>\n        setTimeout(() => resolve(promise), idx * timeout));\n      );\n    ));",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const wait = ms => new Promise(resolve => setTimeout(resolve, ms));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "40990121",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "252455187",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    config = require(YOURCONFIG);\n    var deviceType = \"YOURDEVICETYPE\";\n    var appClient = new client.IotfApplication(config);\n    appClient.connect();\n    appClient.on(\"connect\", function () {\n            console.log(\"Connected\");\n            appClient.subscribeToDeviceEvents(deviceType);\n    });\n    appClient.on(\"deviceEvent\", function (deviceType, deviceId, eventType, format, payload) {\n        console.log(\"Device Event from :: \"+deviceType+\" : \"+deviceId+\" of event \"+eventType+\" with payload : \"+payload);\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9696969696969697,
        "Content": "    `var config = require(YOURCONFIG);\n    var deviceType = \"YOURDEVICETYPE\";\n    var appClient = new client.IotfApplication(config);\n    appClient.connect();\n    appClient.on(\"connect\", function () {\n    console.log(\"Connected\");\n    appClient.subscribeToDeviceEvents(deviceType);\n        });\n    appClient.on(\"deviceEvent\", function (deviceType, deviceId, eventType, format, payload) {\n            console.log(\"Device Event from :: \"+deviceType+\" : \"+deviceId+\" of event \"+eventType+\" with payload : \"+payload);\n        });`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41065313",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253048378",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var id3 = require('id3-parser')\n    var fs = require('fs')\n    var path = require('path')\n    \n    function promiseFromCallback (fn) {\n      return new Promise(function (resolve, reject) {\n        return fn(function (err, result) {\n          return err ? reject(err) : resolve(result)\n        })\n      })\n    }\n    \n    function dirID3 (directory) {\n      return promiseFromCallback(function (gotDir) {\n        return fs.readdir(directory, gotDir)\n      }).then(function (files) {\n        console.log(\"Done readdir\")\n        return Promise.all(files.map(function (file) {\n          var filePath = path.join(directory, file)\n          return promiseFromCallback(function (gotStat) {\n            return fs.stat(filePath, gotStat)\n          }).then(function (stat) {\n            return stat.isFile() ? return promiseFromCallback(function (gotBuffer) {\n              return fs.readFile(filePath, gotBuffer)\n            }).then(function (fbuff) {\n              return id3.parse(fbuff)\n            }).then(function (tag) {\n              return { path: filePath, tag: tag }\n            }) : null\n          })\n        })).then(function (id3Items) {\n          var result = {}\n          id3Items.forEach(function (id3Item) {\n            if (id3Item) result[id3Item.path] = id3Item.tag\n          })\n          return result\n        })\n      })\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9661016949152542,
        "Content": "    var id3 = require('id3-parser')\n    var fs = require('fs')\n    var path = require('path')\n    \n    function promiseFromCallback (fn) {\n      return new Promise(function (resolve, reject) {\n        return fn(function (err, result) {\n          return err ? reject(err) : resolve(result)\n        })\n      })\n    }\n    \n    function dirID3 (directory) {\n      return promiseFromCallback(function (gotDir) {\n        return fs.readdir(directory, gotDir)\n      }).then(function (files) {\n        return Promise.all(files.map(function (file) {\n          var filePath = path.join(directory, file)\n          return promiseFromCallback(function (gotStat) {\n            return fs.stat(filePath, gotStat)\n          }).then(function (stat) {\n            return stat.isFile() ? promiseFromCallback(function (gotBuffer) {\n              return fs.readFile(filePath, gotBuffer)\n            }).then(function (fbuff) {\n              return id3.parse(fbuff)\n            }).then(function (tag) {\n              return { path: filePath, tag: tag }\n            }) : null\n          })\n        }))\n      }).then(function (id3Items) {\n        var result = {}\n        id3Items.forEach(function (id3Item) {\n          if (id3Item) result[id3Item.path] = id3Item.tag\n        })\n        return result\n      })\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41083917",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253170945",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var final = [];\n    for(var key in destination_level_0){\n    \tvar preFinal = [];\n    \tvar names = destination_level_1[key];\n    \tfor(var name in names){\n    \t\tvar finalItem = sources[name];\n    \t\tpreFinal.push(finalItem); \n    \t}\n    \tfinal[key] = preFinal;\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9885057471264368,
        "Content": "    var sources = {\"john\": [\"A\",\"B\"],\"mike\": [\"123\",\"234\",\"345\"],\"doe\": [\"abc\",\"cde\"],\"ann\": {\"abc\": [\"yxc\",\"xcv\",\"cvb\"],\"bcd\": [\"poi\",\"iuz\",\"uzt\"]}};\n        var destination_level_0 = {\"FinalA\": [\"Element1\",\"Element2\",\"Element1\",\"Element2\",\"Element2\"],\"FinalB\": [\"Element2\",\"Element2\",\"Element2\",\"Element1\"]};\n        var destination_level_1 = {\"Element1\": [\"john\",\"ann\",\"john\",\"john\",\"doe\",\"mike\"],\"Element2\": [\"ann\",\"mike\",\"ann\",\"doe\",\"doe\",\"doe\",\"ann\"],\"Element3\": [\"ann\",\"doe\",\"ann\"]};\n        \n        var final = {};\n        for(var key in destination_level_0){\n            var preFinal = [];\n            var elems = destination_level_0[key];\n            for(var i in elems){\n                var elem = elems[i];\n                var names = destination_level_1[elem];\n                for(var j in names){\n                    var name = names[j];\n                    var finalItem = sources[name];\n                    preFinal.push(finalItem); \n                }\n            }\n            final[key] = preFinal;\n        }\n        \n        console.log(final);\n        console.log(JSON.stringify(final));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41103616",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253295399",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // enable notify-keyspace-events for all kind of events (can be refined)\n    client_redis.config('set','notify-keyspace-events','KEA')\n    \n    client_redis.subscribe('__keyevent@0__:set')\n    // you can target a specific key with a second parameter\n    // example, client_redis.subscribe('__keyevent@0__:set', 'mykey')\n    \n    client_redis.on('message', function(channel, key) {\n      // do what you want when a value is updated\n    })",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "    var redis = require('redis');\n    var client_redis = redis.createClient();\n    // enable notify-keyspace-events for all kind of events (can be refined)\n    client_redis.config('set','notify-keyspace-events','KEA');\n    \n    client_redis.subscribe('__keyevent@0__:set');\n    // you can target a specific key with a second parameter\n    // example, client_redis.subscribe('__keyevent@0__:set', 'mykey')\n    \n    client_redis.on('message', function(channel, key) {\n      // do what you want when a value is updated\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41126069",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253438148",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const Promise = require('bluebird');\n    const fs = Promise.promisifyAll(require('fs'));\n    \n    const data_array = await readData('file.txt');\n    console.log(data_array[0]);\n    console.log(data_array[1]);\n    console.log(data_array.length.toString());\n    console.log(data_array[data_array.length-1]);\n    // reads file into array\n    async function readData(filepath) {\n        try {\n            const array = await fs.readFileAsync(filepath, { encoding: 'utf8' }).split(\"\\n\");\n            const data_array = array.slice(7, -2);\n            \n            return data_array;\n        } catch(e) {\n            console.error(e);\n            process.exit();\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9444444444444444,
        "Content": "    const Promise = require('bluebird');\n    const fs = Promise.promisifyAll(require('fs'));\n    \n    // reads file into array\n    const readData = Promise.coroutine(function *(filepath) {\n        try {\n            const array = (yield fs.readFileAsync(filepath, { encoding: 'utf8' })\n                          ).split(\"\\n\");\n            const data_array = array.slice(7, -2);\n            \n            return data_array;\n        } catch(e) {\n            console.error(e);\n            process.exit();\n        }\n    });\n    \n    Promise.coroutine(function *() {\n        const data_array = yield readData('file.txt');\n        console.log(data_array[0]);\n        console.log(data_array[1]);\n        console.log(data_array.length.toString());\n        console.log(data_array[data_array.length-1]);\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41212090",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "253974830",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    lsof -p ${process.pid}\n    COMMAND   PID      USER   FD     TYPE             DEVICE  SIZE/OFF     NODE NAME\n    node    31066      Me     15r     REG                1,8        40 41578720 /Users/Me/test.js\n    ...\n    ...",
        "MostRecentVersion": "0",
        "Errors": 39,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.18604651162790697,
        "Content": "    const {execSync} = require('child_process')\n    const fs = require('fs')\n    var fd = fs.openSync('package.json', 'r')\n    var fullpath = execSync(`lsof -a -p ${process.pid} -d ${fd}`).toString().split('\\n')[1].split(/\\s+/).pop()\n    console.log(fullpath) // result: /fullpath/package.json",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41219337",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "254002974",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n      getRArray: function() {\n        var arrays = [];\n        arrays[0] = 'array 0';\n        arrays[1] = 'array 1';\n        arrays[2] = 'array 2';\n        arrays[3] = 'array 3';\n        arrays[4] = 'array 4';\n        return arrays[Math.floor(Math.random()*arrays.lenght)];\n      }\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.95,
        "Content": "    module.exports = {\n      getRArray: function() {\n        var arrays = [];\n        arrays[0] = 'array 0';\n        arrays[1] = 'array 1';\n        arrays[2] = 'array 2';\n        arrays[3] = 'array 3';\n        arrays[4] = 'array 4';\n        return arrays[Math.floor(Math.random()*arrays.length)];\n      }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41301172",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "254355608",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        var request = require('request');\n        var specialRequest = request.defaults({\n           strictSSL: false\n        );",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "        var request = require('request');\n        var specialRequest = request.defaults({\n           strictSSL: false\n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41435252",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "128053133",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var output = [];\n    var lineReader = require('readline').createInterface({\n      input: require('fs').createReadStream('file.csv')\n    });\n    \n    lineReader.on('line', function (line) {\n      var jsonFromLine = {};\n      var lineSplit = line.split(',');\n      // select columns you want\n      jsonFromLine.column0 = lineSplit[0];\n      jsonFromLine.column1 = lineSplit[1];\n      // ...\n      output.push(jsonFromLine);\n    });\n    \n    reader.on('close', function (line) {\n    \tconsole.log(output); // list output \n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var output = [];\n    var count = 0\n    \n    var lineReader = require('readline').createInterface({\n      input: require('fs').createReadStream('file.csv')\n    });\n    \n    lineReader.on('line', function (line) {\n      var jsonFromLine = {};\n      \n      if (count == 2) { // this is my conditional. Set line 2\n    \tvar lineSplit = line.split(',');\n    \t// select columns you want\n    \tjsonFromLine.column0 = lineSplit[0];\n    \tjsonFromLine.column1 = lineSplit[1];\n    \t// ...\t\n    \toutput.push(jsonFromLine);\n      }\n      count++;\n    });\n    \n    lineReader.on('close', function (line) {\n        console.log(output); // list output \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41477283",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "128537425",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //database.js\n    module.exports =\n    {\n       url: \"mongodb://localhost:27017/sampleDB\"\n    }\n    var db = require('../config/database.js');\n    mongooose.connect(db.url)",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    //database.js\n    module.exports =\n    {\n       url: \"mongodb://localhost:27017/sampleDB\"\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41503849",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "128843325",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    array1 = [\"fruit\", \"vegetables\"];\n    array2 = [\n      [\"apple\", \"banana\"],\n      [\"tomato\"]\n    ];\n    console.log(array2.map(function(v, i) { // iterate over the array to generate the new array\n      var arr = v.slice(); // copy the array\n      arr.unshift(array1[i]) // insert element at beginning \n      return arr; /// return generated array\n    }))",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var array1 = [\"fruit\", \"vegetables\"],\n      array2 = [\n        [\"apple\", \"banana\"],\n        [\"tomato\"]\n      ];\n    var array3 = array2.map(function(v, i) { // iterate over the array to generate the new array\n      var arr = v.slice(); // copy the array\n      arr.unshift(array1[i]) // insert element at beginning \n      return arr; /// return generated array\n    });\n    console.log(array3)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41540600",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "129266250",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    'use strict';\n    \n    let mysql = require('promise-mysql');\n    \n    let connectionPool;\n    \n    class Connections {\n    \n      static init(config) {\n        return mysql.createPool({\n          host: config.host,\n          user: config.user,\n          password: config.password,\n          database: config.database,\n          connectionLimit: config.limit\n        }).getConnection().then((connection)=> {\n          connectionPool = connection;\n        });\n      }\n    \n      static getConnection() {\n        // you can call this across your applications\n        return connection; // or equivalent method available \n      }\n    \n      static releaseConnection() {\n        //call this only if you want to shut the application\n        connectionPool.close();\n      }\n    \n    }\n    \n    module.exports = Connections;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    'use strict';\n    \n    let mysql = require('promise-mysql');\n    \n    let connectionPool;\n    \n    class Connections {\n    \n      static init(config) {\n        return mysql.createPool({\n          host: config.host,\n          user: config.user,\n          password: config.password,\n          database: config.database,\n          connectionLimit: config.limit\n        }).getConnection().then((connection)=> {\n          connectionPool = connection;\n        });\n      }\n    \n      static getConnection() {\n        // you can call this across your applications\n        return connectionPool; \n      }\n    \n      static releaseConnection() {\n        //call this only if you want to shut the application\n        connectionPool.close(); // or equivalent method available \n      }\n    \n    }\n    \n    module.exports = Connections;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41715428",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "131259824",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var matrix = [{x: 1, y: 1, value: 10}, {x: 100, y: 200, value: 12}...]",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5384615384615384,
        "Content": "    var matrix = [\n        {x: 3, y: 1, value: 2},\n        {x: 4, y: 1, value: 4},\n        {x: 1, y: 2, value: 1},\n        {x: 4, y: 2, value: 3},\n        {x: 1, y: 3, value: 2},\n        {x: 2, y: 3, value: 4},\n        {x: 3, y: 3, value: 6},\n        {x: 1, y: 4, value: 5},\n        {x: 3, y: 4, value: 2}\n    ];",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41715428",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131259822",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var matrix = [[0,1,2,3,...10000],[0,1,2,3,....10000],...]",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    var matrix = [[0,0,2,4],[1,0,0,3],[0,2,4,6],[5,0,2,0]];",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41734205",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "131471383",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    app.post('/api/control', function(req,res){\n        console.log(number);\n        console.log(req.body);\n        res.send(\"done\");\n    }.bind(number));",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7272727272727273,
        "Content": "    module.exports = function(app, number){\n      app.get('/api/control', function(req,res){\n        res.send(\"done\");\n      });\n      app.post('/api/control', function(req,res){\n          console.log(number);\n          console.log(req.body);\n          res.send(\"done\");\n      }.bind(number));\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41765394",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131824044",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var execFile = require('child_process').execFile;\n    var express = require('express');\n    var app = express();\n    \n    app.post('/endpoint', function (req, res) {\n        const child = execFile('my_exe', (error, stdout, stderr) => {\n        if (error) {\n            res.status(500).send('False')\n        } else {\n            \n            if (stdout === 'True) {\n                res.status(200).send('True')\n            } else {\n                res.status(500).send('False')\n            }\n        }\n        });\n    });\n    \n    app.listen(3000, function () {\n        console.log('Example app listening on port 3000!');\n    });",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9714285714285714,
        "Content": "    var execFile = require('child_process').execFile;\n    var express = require('express');\n    var app = express();\n    \n    app.post('/endpoint', function (req, res) {\n        const child = execFile('my_exe', (error, stdout, stderr) => {\n        if (error) {\n            res.status(500).send('False')\n        } else {\n            \n            if (stdout === 'True') {\n                res.status(200).send('True')\n            } else {\n                res.status(500).send('False')\n            }\n        }\n        });\n    });\n    \n    app.listen(3000, function () {\n        console.log('Example app listening on port 3000!');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41767347",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "131847795",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "       value: function drawRotatedImage(canvas, image, angle, mirrorImage) {\n       var context = canvas.getContext('2d');\n      if (angle > 0) {\n        context.rotate(angle * (Math.PI / 180));\n      }\n      if (mirrorImage === true) {\n        if (angle > 0) {\n        context.scale(-1, 1);\n        context.drawImage(image, -image.width, -image.height, image.width, image.height);\n      }} \n      if (mirrorImage === true) {\n        if (angle < 1) {\n        context.scale(-1, 1);\n        context.drawImage(image, -image.width, 0, image.width, image.height);\n      }} \n      else {\n        context.drawImage(image, 0, angle === 0 ? 0 : -image.height);\n      }\n      return canvas;\n    }\n  },",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    value: function drawRotatedImage(canvas, image, angle, mirrorImage) {\n        var context = canvas.getContext('2d');\n        if (angle > 0) {\n            context.rotate(angle * (Math.PI / 180));\n        }\n        if (mirrorImage === true) {\n            if (angle > 0) {\n                context.scale(-1, 1);\n                context.drawImage(image, -image.width, -image.height, image.width, image.height);\n            }\n        } \n    \n        if (mirrorImage === true) {\n            if (angle < 1) {\n                context.scale(-1, 1);\n                context.drawImage(image, -image.width, 0, image.width, image.height);\n            }\n        } else {\n            context.drawImage(image, 0, angle === 0 ? 0 : -image.height);\n        }\n        return canvas;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41776066",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131948060",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     bluebird.config({ longStackTraces: true });\n    const options = { promiseLib: bluebird };\n    const pgp = require('pg-promise')(options);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var bb = require('bluebird');\n    bb.config({longStackTraces: true});\n    var pgp = require('pg-promise')({promiseLib: bb});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41894905",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "133261406",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tlet jsonfile = require(\"jsonfile\");\n\tlet Promise = require(\"promise\");\n\tlet write = Promise.denodeify(jsonfile.writeFile);\n\t//hint: this can be shortened to: `let writeOutput = write;`\n\tlet writeOutput = function(filename, content) {\n\t\treturn write(filename, content);\n\t};\n\t//doesn't use the passed argument at all\n\t//and does no request at all\n\tlet makeBatchRequest = function(linksList) {\n\t\tlet promisesArray = [];\n\t\t//no `new` here.\n\t\t//why do you `Promise.all()` an empty Array?\n\t\treturn new Promise.all(promisesArray);\n\t};\n\t//what is `ModScraper`? it's neither defined, \n\t//nor is it a native nodejs class nor is it imported into this file\n\tlet scrapy = new ModScraper();\n\t//what does this call return?\n\tscrapy.getStanceMods()\n\t\t//`then()` doesn't handle Arrays, it takes two functions\n\t\t//first function to handle the passed `value` (singular; one value), \n\t\t//second function to catch errors that happened in the chain **before** this point\n\t\t.then(['www.google.com', 'www.reddit.com'])\n\t\t//this is correct, although `makeBatchRequest` itself is malicious.\n\t\t.then(makeBatchRequest)\n\t\t//where does `fileName` from?\n\t\t//`result` is an empty Array, so what do you want to write into the file?\n\t\t.then(result => writeOutput(fileName, result))\n\t\t//this is executed immediately and calls `then(undefined)`\n\t\t.then(console.log(\"Completed.\"))\n\t\t//how do you mess up `console.log()` and have this one right?\n\t\t.catch(error => console.error(error));\n\t\t",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.32081911262798635,
        "Content": "\tlet jsonfile = require(\"jsonfile\");\n\tlet Promise = require(\"promise\");\n\tlet write = Promise.denodeify(jsonfile.writeFile);\n\t//OK, now this function has a purpose/additional value (formatting)\n\t//and is not just forwarding the arguments\n\tlet writeOutput = function(filename, content) {\n\t\treturn write(filename, content, {spaces: 4});\n\t};\n\t//fine, a mock\n\tlet requestSimulator = function() {\n\t\treturn new Promise((fulfil, reject) => {\n\t\t\tlet randomNum = Math.random();\n\t\t\tlet wait = Math.floor((Math.random() * 6000) + 2000);\n\t\t\t//there's no need/reason to pass `randomNum` to setTimeout as a third argument\n\t\t\tsetTimeout(() => fulfil(randomNum), wait);\n\t\t});\n\t};\n\t//this can be shortened to, although it doesn't log anymore\n\tlet roundNumbers = function(someNumbers) {\n\t\treturn someNumbers.map(Math.floor);\n\t};\n\t\n\t//Receives an array of rounded numbers, and for each number\n\t//makes a new request. \n\t//It then sums the response with the given number.\n\tlet sumNumbersBatch = function(numbersArr) {\n\t\t//this again can be achieved simpler by using `Array#map` instead of `for..of`\n\t\tlet promisesArray = numbersArr.map(number => {\n\t\t\treturn requestSimulator()\n\t\t\t\t.then(result => result + number);\n\t\t});\n\t\t\n\t\t//no `new` here! Promise.all() is just a utility-function, no constructor.\n\t\treturn Promise.all(promisesArray);\n\t};\n\t//Starts the process\n\tlet getData = function() {\n\t\t//removed the wrapping Promise.\n\t\treturn requestSimulator()\n\t\t\t.then(number => [ number, number * 2, number * 3 ]);\n\t};\n\tconsole.log(\"Starting program\");\n\tgetData()\n\t\t.then(roundNumbers)\n\t\t.then(sumNumbersBatch)\n\t\t.then(newNumbers => writeOutput(\"testFile.txt\", newNumbers))\n\t\t//this executes `console.log()` immediately and passes the result (`undefined`) to `then()`\n\t\t//.then(console.log(\"Program finished\"))\n\t\t//but `then()` needs a function:\n\t\t.then(() => console.log(\"Program finished\"))\n\t\t//here you pass a reference to the function `console.log`, that's fine\n\t\t.catch(console.log); ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41903682",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "133357037",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    [{\n       \"result\": \"34\"\n    }[",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5714285714285714,
        "Content": "    [{\n       \"result\": \"20\"\n    }]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "41956817",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "133960920",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Todo = mongoose.model('Todo');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Todo = require('modelDirectory/todo.js');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42006750",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "134531192",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs.writeFile('message.txt', 'Hello Node.js', (err) => {\n      if (err) throw err;\n      console.log('It\\'s saved!');\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5263157894736842,
        "Content": "    const fs = require('fs');\n    // Uint8Array\n    const data = new Uint8Array(Buffer.from('Hello Node.js'));\n    fs.writeFile('message.txt', data, callback);\n    \n    // Buffer\n    fs.writeFile('message.txt', Buffer.from('Hello Node.js'), callback);\n    // string\n    fs.writeFile('message.txt', 'Hello Node.js', callback);\n    var callback = (err) => {\n      if (err) throw err;\n      console.log('It\\'s saved!');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42035953",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "134865627",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function generateHashCode()\n    {\n        var text = '9/01/2017'+'xx'+'405'+''+'SDD'+'MDD'+'9';\n        var crypto = require('crypto');\n        console.log(crypto.createHash('SHA1').update(text).digest(\"hex\"));\n        var hexDigest = crypto.createHash('SHA1').update(text).digest(\"hex\");\n    \n        \n        var hexStr = \"\";\n        for (var i = 0; i < hexDigest.length; i++) {\n            hexStr += ((hexDigest[i] & 0xff) + 0x100).toString(16).substr(1);\n        }\n        var hashid = 0;\n        for (var i = 0; i < hexStr.length; i++)\n            hashid += Math.abs(Math.pow(27, 10 - i) * ('a' - (1 + hexStr.charAt(i))));\n    \n        return hashid;\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7010309278350515,
        "Content": "    function generateHashCode(text)\n    {\n        // assuming text is UTF-8 encoded\n \n        var crypto = require('crypto');\n        var hexDigest = crypto.createHash('SHA1').update(text).digest(); // this should be .digest() not .digest('hex')\n    \n        var hexStr = \"\";\n        for (var i = 0; i < hexDigest.length; i++) {\n            hexStr += (((hexDigest[i] - 0x100) & 0xff) + 0x100).toString(16).substr(1); // fixed some math issues here\n        }\n    \n        var hashid = 0;\n        var a = 'a'.charCodeAt(0); // or just var a = 97;\n        for (var i = 0; i < hexStr.length; i++)\n            hashid += Math.abs(Math.pow(27, 10 - i) * (a - (1 + hexStr.charCodeAt(i))));\n    \n        return hashid;\n    }\n    \n    console.log(generateHashCode(\"batman\"));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42083710",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "135403452",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var exported = require('../models/exported.js');\n        exported.processedList(storename, function(err, results) {\n           if(err = 'error'){\n        console.log(results);\n        }else{\n        console.log(results);//doing further processing here\n        }\n        });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "      var exported = require('../models/exported.js');\n    exported.processedList('storename', function (err, results) {\n        if (err == 'error') {\n            console.log(err);\n        } else {\n            console.log(results);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42105225",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "135649792",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var dataContext = require('node2sql')({\n        username: 'user',\n        password: 'password',\n        server: '1xx.xx2.xx.xx9',\n        options: {\n            database: 'grades'\n        }\n    });\n    module.exports = {\n        DataQuery: function(query,fn) {\n            query = query.replace(/\\s+/g, '').split(\"/\");\n            year = query[2].substr(2, 4);\n            id = query[0];\n            period = query[1].toUpperCase();\n            if (period == 'SEM1') {\n                period = \"1st Semester\";\n            } else if (period == \"SEM2\") {\n                period = \"2nd Semester\";\n            }else if (period == 'SUM') {\n                period = \"Summer\";\n            }\n            var queryStr = \"SELECT SubjectCode,Grade FROM dbo.grade_list_\" + year + \" WHERE StudentNo=\\'\" + id + \"\\' and Semester=\\'\" + period + \"\\'\";\n            console.log(queryStr);\n            var result;\n            dataContext.query(queryStr, function(err, results) {\n                console.log(results)\n                result = results;\n            });\n            return result;\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 12,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var sql = require('../libs/sql');\n    var router = express.Router();\n    router.get('/', function(req, res, next) {\n        sql.DataQuery(\"01-666-123/sem2/2009\", function(err, data) {\n            res.end(data);\n        });\n    });\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42120066",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "135818284",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var array = [{ clientid: \"ID000002\", accesstoken: \"pllALEl3TlwLL9hHP938H\", groupname: \"ABC\", ancestorid: \"8982857550\", stroyid: [\"IGN-EXM-001-PDF\", \"IGN-EXM-002-PDF\"] }, { clientid: \"ID000002\", accesstoken: \"pllALEl3TlwpHOD4aTP38H\", groupname: \"EFG\", ancestorid: \"4705872914\", stroyid: [\"APP-ENE-FIE-CON\", \"APP-ENE-ASS-INS\", \"APP-ENE-ASS-CAR\", \"APP-ENE-MAT-REA\"] }, { clientid: \"ID000002\", accesstoken: \"pllALEl3TlwLL9hHP9n\", groupname: \"ABC\", ancestorid: \"8982857550\", stroyid: [\"IGN-EXM-001-ZIP\", \"IGN-EXM-002-ZIP\"] }],\n        result = array.reduce(function (hash) {\n            return function (r, a) {\n                var key = [a.clientid, a.ancestorid].join('|');\n                if (!hash[key]) {\n                    hash[key] = { clientid: a.clientid, accesstoken: a.accesstoken, groupname: a.groupname, ancestorid: a.ancestorid, stroyid: [] };\n                    r.push(hash[key]);\n                }\n                hash[key].stroyid = hash[key].stroyid.concat(a.stroyid);\n                return r;\n            };\n        }(Object.create(null)), []);\n        \n    console.log(result);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9661016949152542,
        "Content": "    var array = [{ clientid: \"ID000002\", accesstoken: \"pllALEl3TlwLL9hHP938H\", groupname: \"ABC\", ancestorid: \"8982857550\", stroyid: [\"IGN-EXM-001-PDF\", \"IGN-EXM-002-PDF\", \"dupe\"] }, { clientid: \"ID000002\", accesstoken: \"pllALEl3TlwpHOD4aTP38H\", groupname: \"EFG\", ancestorid: \"4705872914\", stroyid: [\"APP-ENE-FIE-CON\", \"APP-ENE-ASS-INS\", \"APP-ENE-ASS-CAR\", \"APP-ENE-MAT-REA\"] }, { clientid: \"ID000002\", accesstoken: \"pllALEl3TlwLL9hHP9n\", groupname: \"ABC\", ancestorid: \"8982857550\", stroyid: [\"IGN-EXM-001-ZIP\", \"IGN-EXM-002-ZIP\", \"dupe\"] }],\n        result = array.reduce(function (hash) {\n            return function (r, a) {\n                var key = [a.clientid, a.ancestorid].join('|');\n                if (!hash[key]) {\n                    hash[key] = { clientid: a.clientid, accesstoken: a.accesstoken, groupname: a.groupname, ancestorid: a.ancestorid, stroyid: a.stroyid };\n                    return r.concat(hash[key]);\n                }\n                hash[key].stroyid = hash[key].stroyid.concat(a.stroyid).filter(function (temp) {\n                    return function (a) {\n                        return !temp[a] && (temp[a] = true);\n                    };\n                }(Object.create(null)));\n                return r;\n            };\n        }(Object.create(null)), []);\n        \n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42156585",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136234465",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var proxyServer = require('http-proxy');\n    var port = parseInt(process.argv[3]);\n    var servers = [\n      {\n        host: <Ip of machine1>,\n        port: 8080\n      },\n      {\n        host: <Ip of machine2>,\n        port: 8080\n      },\n      {\n        host: <Ip of machine3>,\n        port: 8080\n      }\n    ];\n    proxyServer.createServer(function (req, res, proxy) {\n      var target = servers.shift();\n      proxy.proxyRequest(req, res, target);\n      servers.push(target);\n    }).listen(port);",
        "MostRecentVersion": "0",
        "Errors": 19,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var proxyServer = require('http-proxy');\n    \n    var servers = [\n      {\n        host: \"localhost\",\n        port: 8081\n      },\n      {\n        host: \"localhost\",\n        port: 8082\n      },\n      {\n        host: \"localhost\",\n        port: 8083\n      }\n    ];\n    proxyServer.createServer(function (req, res, proxy) {\n      var target = servers.shift();\n      proxy.proxyRequest(req, res, target);\n      servers.push(target);\n    }).listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42163577",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136311722",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        default: {\n          key: '',\n          value: ''\n        }\n      }\n    ]",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.29411764705882354,
        "Content": "     accepts: [{\n         description : 'The request to create an PICKLIST',\n         arg: 'request',\n         type: 'Picklist', // *** give model reference here\n         required : true,\n         http: {\n             source : 'body'\n         },\n         default: {\n             key: '',\n             value: ''\n         }\n     }]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42164174",
    "RootLocalId": "22",
    "RootPostBlockVersionId": "136318870",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const user = await findUserByUsername();\n    const chat = await getChat(user);\n    const somethingElse = doSomethingElse(chat);\n    return somethingElse;",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "2",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    export function validateUsername(username) {\n      return true;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42170205",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "136385443",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    \n    var uri = \"mongodb://kay:myRealPassword@mycluster0-shard-00-00-wpeiv.mongodb.net:27017,mycluster0-shard-00-01-wpeiv.mongodb.net:27017,mycluster0-shard-00-02-wpeiv.mongodb.net:27017/admin?ssl=true&replicaSet=Mycluster0-shard-0&authSource=admin\";\n    MongoClient.connect(uri, function(err, db) {\n      db.close();\n    });\n----------\n    [1] https://github.com/meteor/meteor/issues/7492#issuecomment-236562860\n    [2] https://docs.atlas.mongodb.com/security-whitelist/\n    [3] https://mongodb.github.io/node-mongodb-native/2.2/tutorials/connect/ssl/\n    [4] https://docs.atlas.mongodb.com/driver-connection/#node-js-driver-example",
        "MostRecentVersion": "0",
        "Errors": 10,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var MongoClient = require('mongodb').MongoClient;\n    \n    var uri = \"mongodb://kay:myRealPassword@mycluster0-shard-00-00-wpeiv.mongodb.net:27017,mycluster0-shard-00-01-wpeiv.mongodb.net:27017,mycluster0-shard-00-02-wpeiv.mongodb.net:27017/admin?ssl=true&replicaSet=Mycluster0-shard-0&authSource=admin\";\n    MongoClient.connect(uri, function(err, db) {\n      db.close();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42180466",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136500472",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    MongoClient.connectAsync(url)\n      .then(function (err, db){\n        assert.equal(err, null);\n        return db.collection('stockData').findAsync({}, { limit: 10 })\n          .then(function (err, docs) {\n            db.close();\n            assert.equal(err, null);\n            docs.forEach(function(doc) {\n              console.log(doc);\n            });\n          })\n          .catch(function (err) {\n            console.log(err);\n          })\n      .catch(function (err) {\n        console.log(err);\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7391304347826086,
        "Content": "    var Promise = require('bluebird');\n    var MongoClient = Promise.promisifyAll(require('mongodb'));\n    \n    MongoClient.connectAsync('mongodb://localhost:27017/test')\n      .then(function (db){\n        return db.collection('stockData').find({}, { limit: 10 }).toArrayAsync()\n          .then(function (docs) {\n            if (docs.length > 0) {\n              docs.forEach(function(doc) {\n                console.log(doc);\n              });\n            }\n          })\n          .catch(function (err) {\n            console.log(err);\n          })\n          .finally(function() {\n            db.close();\n          })\n      .catch(function (err) {\n        console.log(err);\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42182416",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136522884",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require('fs');\n    const path = require('path');\n    const directory = 'test';\n    fs.readdir(directory, (err, files) => {\n      if (err) throw error;\n      for (const file of files) {\n        fs.unlink(path.join(directory, file), err => {\n          if (err) throw error;\n        });\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const fs = require('fs');\n    const path = require('path');\n    const directory = 'test';\n    fs.readdir(directory, (err, files) => {\n      if (err) throw err;\n      for (const file of files) {\n        fs.unlink(path.join(directory, file), err => {\n          if (err) throw err;\n        });\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42211992",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136855444",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var assert = require('assert')\n    var http = require('http')\n    var parseString = require('xm12js').parseString;\n    \n    var SoapRequestXML='<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:_5=\"https://clients.mindbodyonline.com/api/0_5\">\\r\\n' +\n                       '<soapenv:Header/>\\r\\n' +\n                       '<soapenv:Body>\\r\\n' +\n                       '<_5:GetClasses>\\r\\n' +\n                       '<_5:Request>\\r\\n' +\n                       '<_5:SourceCredentials>\\r\\n' +\n                       '<_5:SourceName>SOURCECREDENTIALS</_5:SourceName>\\r\\n' +\n                       '<_5:Password>PASSWORD</_5:Password>\\r\\n' +\n                       '<_5:SiteIDs>\\r\\n' +\n                       '<_5:int>-99</_5:int>\\r\\n' +\n                       '</_5:SiteIDs>\\r\\n' +\n                       '</_5:SourceCredentials>\\r\\n' +\n                       '</_5:Request>\\r\\n' +\n                       '</_5:GetClasses>\\r\\n' +\n                       '</soapenv:Body>\\r\\n' +\n                       '</soap:Envelope>';\n    \n    var options = {\n      hostname: 'api.mindbodyonline.com',\n      port: 80,\n      path: '/0_5/ClassService.asmx',\n      method: 'POST',\n      headers: {\n             'Accept-Encoding': 'gzip,deflate',\n             'Content-Type': 'text/xml;charset=UTF-8',\n             'SOAPAction': '\"http://clients.mindbodyonline.com/api/0_5/GetClasses\"',\n             'Content-Length': '594',\n             'Connection': 'Keep-Alive',\n             'User-Agent': 'Apache-HttpClient/4.1.1 (java 1.5)'\n      }\n    }\n    \n    var req = http.request(options, (res) => {\n      var data;\n      \n      res.setEncoding('utf8');\n      res.on('data', (chunk) => {\n        data += chunk;\n      });\n      res.on('end', () => {\n        parseString(XMLReSULT, function(err, result) {\n          console.log(result);\n        }\n        console.log('End reached')\n      });\n    });\n    \n    req.on('error', (e) => {\n      console.log(`problem with request: ${e.message}`);\n    });\n    \n    req.write(SoapRequestXML);\n    req.end();",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9743589743589743,
        "Content": "    var assert = require('assert')\n    var http = require('http')\n    var parseString = require('xml2js').parseString;\n    \n    var SoapRequestXML='<soapenv:Envelope xmlns:soapenv=\"http://schemas.xmlsoap.org/soap/envelope/\" xmlns:_5=\"https://clients.mindbodyonline.com/api/0_5\">\\r\\n' +\n                       '<soapenv:Header/>\\r\\n' +\n                       '<soapenv:Body>\\r\\n' +\n                       '<_5:GetClasses>\\r\\n' +\n                       '<_5:Request>\\r\\n' +\n                       '<_5:SourceCredentials>\\r\\n' +\n                       '<_5:SourceName>SOURCECREDENTIALS</_5:SourceName>\\r\\n' +\n                       '<_5:Password>PASSWORD</_5:Password>\\r\\n' +\n                       '<_5:SiteIDs>\\r\\n' +\n                       '<_5:int>-99</_5:int>\\r\\n' +\n                       '</_5:SiteIDs>\\r\\n' +\n                       '</_5:SourceCredentials>\\r\\n' +\n                       '</_5:Request>\\r\\n' +\n                       '</_5:GetClasses>\\r\\n' +\n                       '</soapenv:Body>\\r\\n' +\n                       '</soap:Envelope>';\n    \n    var options = {\n      hostname: 'api.mindbodyonline.com',\n      port: 80,\n      path: '/0_5/ClassService.asmx',\n      method: 'POST',\n      headers: {\n             'Accept-Encoding': 'gzip,deflate',\n             'Content-Type': 'text/xml;charset=UTF-8',\n             'SOAPAction': '\"http://clients.mindbodyonline.com/api/0_5/GetClasses\"',\n             'Content-Length': '594',\n             'Connection': 'Keep-Alive',\n             'User-Agent': 'Apache-HttpClient/4.1.1 (java 1.5)'\n      }\n    }\n    \n    var req = http.request(options, (res) => {\n      var data;\n      \n      res.setEncoding('utf8');\n      res.on('data', (chunk) => {\n        data += chunk;\n      });\n      res.on('end', () => {\n        parseString(data, function(err, result) {\n          console.log(result);\n        });\n        console.log('End reached')\n      });\n    });\n    \n    req.on('error', (e) => {\n      console.log(`problem with request: ${e.message}`);\n    });\n    \n    req.write(SoapRequestXML);\n    req.end();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42246960",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "137258839",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // ...\n    connect: {\n        server: { // <-- This is a Target named 'server'.\n            options: {\n                base: 'server.js',\n                keepalive: true\n            }\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // ...\n    connect: {\n        server: { // <-- This is a Target named 'server'.\n            options: {\n                // <-- Your connect options go here.\n                //     https://github.com/gruntjs/grunt-contrib-connect#options\n            }\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42327235",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "138162069",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const socketIO = require('socket.io');\n    const path = require('path');\n    const PORT = process.env.PORT || 3000;\n    const INDEX = path.join(__dirname, '/public/index.html');\n    var express = require('express');\n    const app = express()\n        .use((req, res) => res.sendFile(INDEX) )\n        .use(express.static(__dirname + '/public'));\n        .listen(PORT, () => console.log(`Listening on ${ PORT }`));\n    const io = socketIO(app);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    const socketIO = require('socket.io');\n    const path = require('path');\n    const INDEX = path.join(__dirname, '/public/index.html');\n    const PORT = process.env.PORT || 3000;\n    var express = require('express');\n    const app = express()\n        .get('/', function (req, res) {res.sendFile(INDEX)})\n        .use(express.static(__dirname + '/public'))\n        .listen(PORT, () => console.log(`Listening on ${ PORT }`));\n    const io = socketIO(app);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42356959",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "138491282",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express')\n    var app = express()\n    \n    app.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'dist/index.html'));\n    });\n    \n    app.listen(3000, function () {\n      console.log('Example app listening on port 3000!')\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9545454545454546,
        "Content": "    var express = require('express')\n    var path = require('path');\n    var app = express()\n    \n    app.get('*', (req, res) => {\n      res.sendFile(path.join(__dirname, 'dist/index.html'));\n    });\n    \n    app.listen(3000, function () {\n      console.log('Example app listening on port 3000!')\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42427489",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "139296117",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.randomFile = function(dir, callback)  {\n        fs.readdir(dir, (err, files) => {\n            if (err) return callback(err);\n            \n            function checkRandom() {\n                if (!files.length) {\n                    // callback with an empty string to indicate there are no files\n                    return callback(null, \"\");\n                }\n                const randomIndex = Math.floor(Math.random() * files.length);\n                const file = files[randomIndex];\n                fs.stat(file, (err, stats) => {\n                    if (err) return callback(err);\n                    if (stats.isFile()) {\n                        return callback(null, file);\n                    }\n                    // remove this file from the array\n                    files.splice(randomIndex, 1);\n                    // try another random one\n                    checkRandom();\n                });\n            }\n            \n            checkRandom();\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9821428571428571,
        "Content": "    const path = require('path');\n    const fs = require('fs');\n    exports.randomFile = function(dir, callback)  {\n        fs.readdir(dir, (err, files) => {\n            if (err) return callback(err);\n            \n            function checkRandom() {\n                if (!files.length) {\n                    // callback with an empty string to indicate there are no files\n                    return callback(null, \"\");\n                }\n                const randomIndex = Math.floor(Math.random() * files.length);\n                const file = files[randomIndex];\n                fs.stat(path.join(dir, file), (err, stats) => {\n                    if (err) return callback(err);\n                    if (stats.isFile()) {\n                        return callback(null, file);\n                    }\n                    // remove this file from the array\n                    files.splice(randomIndex, 1);\n                    // try another random one\n                    checkRandom();\n                });\n            }\n            \n            checkRandom();\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42524752",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "140374597",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var versionString = cp.execSync('ver').toString().trim()",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var versionString = require('child_process').execSync('ver').toString().trim()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42535177",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "140490764",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log(['somefolder']);\n...",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    console.log(['somefolder']);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42565520",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "140828403",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var myString = 'Fire, Water, Ice, Steel';\n    myArray = myString.split(',');\n    console.log(myArray); // [ 'Fire', ' Water', ' Ice', ' Steel' ]",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7428571428571429,
        "Content": "    var myString = 'Fire, Water, Ice, Steel';\n    var myArray = myString.split(', ');\n    console.log(myArray); // [ 'Fire', 'Water', 'Ice', 'Steel' ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42591021",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "141110931",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express'),\n        bodyParser = require('body-parser'),\n        fs = require('fs'),\n        path = require('path'),\n        app = express()\n    app.get('/', function (req, res) {\n        var filePath = 'music.mp3';\n        var stat = fs.statSync(filePath);\n        var total = stat.size;\n        if (req.headers.range) {\n            var range = req.headers.range;\n            var parts = range.replace(/bytes=/, \"\").split(\"-\");\n            var partialstart = parts[0];\n            var partialend = parts[1];\n    \n            var start = parseInt(partialstart, 10);\n            var end = partialend ? parseInt(partialend, 10) : total-1;\n            var chunksize = (end-start)+1;\n            var readStream = fs.createReadStream(filePath, {start: start, end: end});\n            res.writeHead(206, {\n                'Content-Range': 'bytes ' + start + '-' + end + '/' + total,\n                'Accept-Ranges': 'bytes', 'Content-Length': chunksize,\n                'Content-Type': 'video/mp4'\n            });\n            readStream.pipe(res);\n         } else {\n            res.writeHead(200, { 'Content-Length': total, 'Content-Type': 'audio/mpeg' });\n            fs.createReadStream(path).pipe(res);\n         }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9508196721311475,
        "Content": "    var express = require('express'),\n        fs = require('fs'),\n        app = express()\n    app.get('/', function (req, res) {\n        var filePath = 'music.mp3';\n        var stat = fs.statSync(filePath);\n        var total = stat.size;\n        if (req.headers.range) {\n            var range = req.headers.range;\n            var parts = range.replace(/bytes=/, \"\").split(\"-\");\n            var partialstart = parts[0];\n            var partialend = parts[1];\n    \n            var start = parseInt(partialstart, 10);\n            var end = partialend ? parseInt(partialend, 10) : total-1;\n            var chunksize = (end-start)+1;\n            var readStream = fs.createReadStream(filePath, {start: start, end: end});\n            res.writeHead(206, {\n                'Content-Range': 'bytes ' + start + '-' + end + '/' + total,\n                'Accept-Ranges': 'bytes', 'Content-Length': chunksize,\n                'Content-Type': 'video/mp4'\n            });\n            readStream.pipe(res);\n         } else {\n            res.writeHead(200, { 'Content-Length': total, 'Content-Type': 'audio/mpeg' });\n            fs.createReadStream(filePath).pipe(res);\n         }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42601046",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "141221488",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const User = require('../models/user');\n    \n    class UserService {\n      update(id, userProps, params) {\n        const userID = id;\n    \n        return User.findByIdAndUpdate({ _id: userID }, userProps, { 'new': true })\n          .then(user => {\n            console.log('userProps', userProps);\n            console.log('user >>>', user);\n            return Promise.resolve(user);\n          })\n          .catch(next);\n      }\n    }\n    \n    module.exports = UserService;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9615384615384616,
        "Content": "    const User = require('../models/user');\n    \n    class UserService {\n      update(id, userProps, params) {\n        const userID = id;\n    \n        return User.findByIdAndUpdate({ _id: userID }, userProps, { 'new': true })\n          .then(user => {\n            console.log('userProps', userProps);\n            console.log('user >>>', user);\n            return user;\n          });\n      }\n    }\n    \n    module.exports = UserService;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42658995",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "141853483",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function myCallBack(localPage) {\n\t   console.log('myCallBack ' + localPage);\n    }\n    var page = 1;\n    var timeout = 5000;\n    var timeoutInterval = 5000\n    console.log('timeout ' + timeout);\n    while (page < 10) {\n\t    setTimeout(myCallBack(page) },timeout,page);\n        // Add 10 seconds for the next execution\n\t    timeout += timeoutInterval;\n\t    page++;\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9508196721311475,
        "Content": "    function myCallBack(localPage) {\n\t   console.log('myCallBack ' + localPage);\n    }\n    var page = 1;\n    var timeout = 5000;\n    var timeoutInterval = 5000\n    console.log('timeout ' + timeout);\n    while (page < 10) {\n\t    setTimeout(myCallBack,timeout,page);\n        // Add 10 seconds for the next execution\n\t    timeout += timeoutInterval;\n\t    page++;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42721610",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142551965",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var workbook = excelbuilder.createWorkbook('C:\\','test.xlsx');\n    // Create a new sheet named 'sheet1' with 5 columns and 8 rows\n    var sheet1 = workbook.createSheet('sheet1', 5, 8);\n    workbook.save(function(ok){\n      console.log('workbook saved ' + (ok?'ok':'failed'));\n    });",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.20833333333333334,
        "Content": "    // Require library\n    var excel = require('excel4node');\n    // Create a new instance of a Workbook class\n    var workbook = new excel.Workbook();\n    // Add Worksheets to the workbook\n    var worksheet = workbook.addWorksheet('Sheet 1');\n    var worksheet2 = workbook.addWorksheet('Sheet 2');\n    // Create a reusable style\n    var style = workbook.createStyle({\n      font: {\n        color: '#FF0800',\n        size: 12\n      },\n      numberFormat: '$#,##0.00; ($#,##0.00); -'\n    });\n    // Set value of cell A1 to 100 as a number type styled with paramaters of style\n    worksheet.cell(1,1).number(100).style(style);\n    // Set value of cell B1 to 300 as a number type styled with paramaters of style\n    worksheet.cell(1,2).number(200).style(style);\n    // Set value of cell C1 to a formula styled with paramaters of style\n    worksheet.cell(1,3).formula('A1 + B1').style(style);\n    // Set value of cell A2 to 'string' styled with paramaters of style\n    worksheet.cell(2,1).string('string').style(style);\n    // Set value of cell A3 to true as a boolean type styled with paramaters of style but with an adjustment to the font size.\n    worksheet.cell(3,1).bool(true).style(style).style({font: {size: 14}});\n    workbook.write('Excel.xlsx');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42762665",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "143012755",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const Long = require('mongodb').Long;  \n    \n    var args = {'_id': new ObjectID(queryId)};\n    var bit = {$bit: {'status': {xor: Long.fromInt(1)}}};\n    db.collection('query').update(args, bit, function(err, result) {});",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6,
        "Content": "    const MongoClient = require('mongodb').MongoClient\n    const ObjectId = require('mongodb').ObjectId\n    const Long = require('mongodb').Long\n    \n    MongoClient.connect('mongodb://localhost:27017/database', function (err, db) {\n      if (err != null) {\n        console.log(err)\n      } else {\n        let args = {'_id': new ObjectId('58c64231b13b6239d9e496da')}\n        let bit = {$bit: {'status': {xor: Long.fromInt(1)}}}\n    \n        db.collection('query').update(args, bit, function (err, result) {\n          if (err != null) {\n            console.error(err)\n          }\n          db.close()\n        })\n      }\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42839909",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "143874302",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // values is an array of promises and/or non-promise values\n    function allSettled(values) {\n        function settle(value) {\n            return Promise.when(value)\n                .then(value => { state: \"fulfilled\", value: value })\n                .catch(error => { state: \"rejected\", reason: error });\n        }\n        return Promise.all(values.map(settle));\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8484848484848485,
        "Content": "    // values is an array of promises and/or non-promise values\n    function allSettled(values) {\n      let settle =\n        value => Promise.resolve(value)\n        .then(result => ({ state: \"fulfilled\", value: result }))\n        .catch(error => ({ state: \"rejected\", reason: error }));\n      return Promise.all(values.map(settle));\n    }\n    // example usage\n    allSettled(['hello', 'goodbye', Promise.resolve('good'), Promise.reject('bad')])\n      .then(results => console.log(results));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42884299",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "144372278",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function callUserFn() {\n      if ( !userFn._calledByMyLibrary ) {\n        userFn._calledByMyLibrary = true\n        return userFn()\n      } else {\n        throw new Error('Already called')\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7428571428571429,
        "Content": "    function callUserFn() {\n      let fn = require('./user-defined-module');\n      if ( !fn._calledByMyLibrary ) {\n        fn._calledByMyLibrary = true\n        return fn()\n      } else {\n        throw new Error('Already called')\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "42910209",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "144658426",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('*', function (req, res) {\n       res.render('index', { title: 'Express' });\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    `app.get('*', function(req, res) {\n        res.render('index', {\n           title: 'Express'\n        });\n    });`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43030777",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "146001711",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     app.post('/deposit', function(req, res) {\n       console.log('Deposit request recieved, info:');\n       console.log('STEAM ID: ' + req.query.steamid);\n       console.log('ITEMS: ' + req.body.arr);\n       res.status(200).send('Success');\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.26666666666666666,
        "Content": "    var express = require('express');\n    var app = express();\n    var fs = require('fs');\n    \n    // Add headers\n    app.use(function (req, res, next) {\n    \n        // Website you wish to allow to connect\n        res.setHeader('Access-Control-Allow-Origin', '*');\n    \n        // Request methods you wish to allow\n        res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');\n    \n        // Request headers you wish to allow\n        res.setHeader('Access-Control-Allow-Headers', 'X-Requested-With,content-type');\n    \n        // Set to true if you need the website to include cookies in the requests sent\n        // to the API (e.g. in case you use sessions)\n        res.setHeader('Access-Control-Allow-Credentials', true);\n    \n        // Pass to next layer of middleware\n        next();\n    });\n    app.get('/test', function(req, res) {\n    fs.readFile('test.html',function (err, data){\n            res.writeHead(200, {'Content-Type': 'text/html','Content-Length':data.length});\n            res.write(data);\n            res.end();\n        });\n    });\n    app.post('/deposit', function(req, res) {\n       console.log('Deposit request recieved, info:');\n       console.log('STEAM ID: ' + req.query.steamid);\n       //console.log('ITEMS: ' + req.body.arr);\n       res.send({'finish':'finish'});\n    });\n    \n    app.listen(3000, function(){\t\n    \t  console.log('http Express server(worker) listening on port 3000');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43048371",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "146191415",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import * as fs from 'fs';\n    fs.readFile(path.join(__dirname, '../../client/index.html'), 'utf8', (error, data) => {\n            // ...\n        })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    import * as fs from 'fs';\n    import * as path from 'path';\n    fs.readFile(path.join(__dirname, '../../client/index.html'), 'utf8', (error, data) => {\n            // ...\n        })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43234654",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "148259295",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //survey.js\n    module.exports = function(io) {\n       var response = {\n            status: \"unknown\",\n            survey_id: survey_id\n        };\n        // [...] some code that processes everything\n        // then uses Socket.io to push something back to the client\n        io.sockets.in(socket_id).emit('getCurrentQuestion', response);\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    //survey.js\n    module.exports = function (io) {\n        var Survey = {};\n        Survey.getCurrentQuestion = function(survey_id, socket_id) {\n            var response = {\n                status: \"unknown\",\n                survey_id: survey_id\n            };\n            // [...] some code that processes everything\n            // then uses Socket.io to push something back to the client\n            io.sockets.in(socket_id).emit('getCurrentQuestion', response);\n        };\n        return Survey;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43239179",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "148311502",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var forecastHandler = (new require('./forecastHandler.js'))(3600);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6,
        "Content": "    var forecastHandler = new (require('./forecastHandler.js'))(3600);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43280175",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "148762061",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Students.controllers.js\n    var dbconn = require('../data/dbconnection.js');\n    module.exports.StudentsGetAll = function( req, res) {\n       var getStudentData = function(studentData){\n            res\n            .status(200)\n            .json(studentData);\n            };\n       }\n    }\n    dbconn.open(getStudentData);\n    console.log('Getting Students Records');\n    //Dbconnection.js\n    var sql = require('mssql');\n    var query = require('./queries.js');\n    var dburl = 'mssql://*****:****@**.**.*.**/******/*******';\n    function open(callback) {\n      var conn = new sql.Connection(dburl);\n      var req = new sql.Request(conn);\n    \n      conn.connect(function (err) {\n          if (err) {\n            console.log(err);\n            return;\n          }\n          console.log(\"Database Connection established\");\n          req.query(query.getAllQuery, function (err, recordset) {\n            if (err) {\n              console.log(err);\n            }\n            else {\n              // Added Callback\n              callback(recordset) // Respond back with data set\n            }\n          });\n      });\n    }\n    \n    module.exports = {\n      open : open\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    // Students.controllers.js\n    var dbconn = require('../data/dbconnection.js');\n    module.exports.StudentsGetAll = function( req, res) {\n       var getStudentData = function(studentData){\n            res\n            .status(200)\n            .json(studentData);\n            };\n        dbconn.open(getStudentData);\n        console.log('Getting Students Records');\n    }\n    //Dbconnection.js\n    var sql = require('mssql');\n    var query = require('./queries.js');\n    var dburl = 'mssql://*****:****@**.**.*.**/******/*******';\n    function open(callback) {\n      var conn = new sql.Connection(dburl);\n      var req = new sql.Request(conn);\n    \n      conn.connect(function (err) {\n          if (err) {\n            console.log(err);\n            callback({error: err}); // Respond back with error\n            return;\n          }\n          console.log(\"Database Connection established\");\n          req.query(query.getAllQuery, function (err, recordset) {\n            if (err) {\n              console.log(err);\n              callback({error: err}); // Respond back with error\n            }\n            else {\n              // Added Callback\n              callback(recordset); // Respond back with data set\n            }\n          });\n      });\n    }\n    \n    module.exports = {\n      open : open\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43356036",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "149574560",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //test-compiled.js\n    'use strict';\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    aGlobalVariable = 'someValue';\n    \n    var aLocalVariable = 'anotherValue';\n    \n    exports.default = aLocalVariable;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9333333333333333,
        "Content": "    //test-compiled.js\n    'use strict';\n    Object.defineProperty(exports, \"__esModule\", {\n      value: true\n    });\n    global.aGlobalVariable = 'someValue';\n    \n    var aLocalVariable = 'anotherValue';\n    \n    exports.default = aLocalVariable;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43363550",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "149659871",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var newBody = { \"paging\": [\n    {\n      \"youtubeComment\": -1\n    },\n    {\n      \"youtube\": -1\n    },\n    {\n      \"twitter\": -1\n    },\n    {\n      \"facebook\": -1\n    },\n    {\n      \"reddit\": -1\n    },\n    {\n      \"facebookPost\": -1\n    },\n    {\"news\": -1}\n    ]};\n    if (newBody.paging.facebookPost !== -1 || newBody.paging.youtube !== -1 || newBody.paging.twitter !== -1 || newBody.paging.facebook !== -1 || newBody.paging.reddit !== -1 || newBody.paging.youtubeComment !== -1 || newBody.paging.news !== -1)\n                    //promise.then(getAthleteMedia([athlete, token, newBody.paging.facebook, newBody.paging.facebookPost, newBody.paging.reddit, newBody.paging.youtube, newBody.paging.youtubeComment, newBody.paging.twitter, newBody.paging.news]))\n                    console.log(\"in if condition\");\n    else console.log(\"not in if\");",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var newBody = {\n      \"paging\": [{\n        \"youtubeComment\": -1\n      }, {\n        \"youtube\": -1\n      }, {\n        \"twitter\": -1\n      }, {\n        \"facebook\": -1\n      }, {\n        \"reddit\": -1\n      }, {\n        \"facebookPost\": -1\n      }, {\n        \"news\": -1\n      }]\n    };\n    function check(array, attr, value) {\n      for (var i = 0; i < array.length; i += 1) {\n        if (array[i][attr] === value) {\n          return false;\n        }\n      }\n      return true;\n    }\n    function get_value(array, attr) {\n      for (var i = 0; i < array.length; i += 1) {\n        if (array[i].hasOwnProperty(attr)) {\n          return array[i][attr];\n        }\n      }\n    }\n    if (check(newBody.paging, \"facebook\", -1) || check(newBody.paging, \"youtubeComment\", -1) || check(newBody.paging, \"youtube\", -1) || check(newBody.paging, \"twitter\", -1) || check(newBody.paging, \"reddit\", -1) || check(newBody.paging, \"facebookPost\", -1) || check(newBody.paging, \"news\", -1)) {\n      // promise.then(getAthleteMedia([athlete, token, get_value(newBody.paging, \"facebook\"), ... get_value(newBody.paging, \"news\")]));\n      // similarly just pass the function in your promise, hope it clears how to get the values as well\n      console.log(get_value(newBody.paging, \"facebook\"));\n    } else console.log(\"not in if\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43410296",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "150179175",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var multer = require('multer');\n    module.exports = function (MyModel) {\n        var uploadedFileName = '';\n        var storage = multer.diskStorage({\n            destination: function (req, file, cb) {\n                // checking and creating uploads folder where files will be uploaded\n                var dirPath = 'client/uploads/'\n                if (!fs.existsSync(dirPath)) {\n                    var dir = fs.mkdirSync(dirPath);\n                }\n                cb(null, dirPath + '/');\n            },\n            filename: function (req, file, cb) {\n                // file will be accessible in `file` variable\n                var ext = file.originalname.substring(file.originalname.lastIndexOf(\".\"));\n                var fileName = Date.now() + ext;\n                uploadedFileName = fileName;\n                cb(null, fileName);\n            }\n        });\n        MyModel.upload = function (req, res, cb) {\n            var upload = multer({\n                storage: storage\n            }).array('file', 12);\n            upload(req, res, function (err) {\n                if (err) {\n                    // An error occurred when uploading\n                    res.json(err);\n                }\n                res.json(uploadedFileName);\n            });        \n        };\n        MyModel.remoteMethod('upload',   {\n            accepts: [{\n                arg: 'req',\n                type: 'object',\n                http: {\n                    source: 'req'\n                }\n            }, {\n                arg: 'res',\n                type: 'object',\n                http: {\n                    source: 'res'\n                }\n            }],\n            returns: {\n                 arg: 'result',\n                 type: 'string'\n            }\n        });\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9935483870967742,
        "Content": "    var multer = require('multer');\n    var fs = require('fs');\n    module.exports = function (MyModel) {\n        var uploadedFileName = '';\n        var storage = multer.diskStorage({\n            destination: function (req, file, cb) {\n                // checking and creating uploads folder where files will be uploaded\n                var dirPath = 'client/uploads/'\n                if (!fs.existsSync(dirPath)) {\n                    var dir = fs.mkdirSync(dirPath);\n                }\n                cb(null, dirPath + '/');\n            },\n            filename: function (req, file, cb) {\n                // file will be accessible in `file` variable\n                var ext = file.originalname.substring(file.originalname.lastIndexOf(\".\"));\n                var fileName = Date.now() + ext;\n                uploadedFileName = fileName;\n                cb(null, fileName);\n            }\n        });\n        MyModel.upload = function (req, res, cb) {\n            var upload = multer({\n                storage: storage\n            }).array('file', 12);\n            upload(req, res, function (err) {\n                if (err) {\n                    // An error occurred when uploading\n                    res.json(err);\n                } else {\n                    res.json(uploadedFileName);\n                }\n            });        \n        };\n        MyModel.remoteMethod('upload',   {\n            accepts: [{\n                arg: 'req',\n                type: 'object',\n                http: {\n                    source: 'req'\n                }\n            }, {\n                arg: 'res',\n                type: 'object',\n                http: {\n                    source: 'res'\n                }\n            }],\n            returns: {\n                 arg: 'result',\n                 type: 'string'\n            }\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43427812",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150371976",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const locations = action.payload.list.map(({id, name, sys:{country}}) =>\n                        ({id, name, country}));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9166666666666666,
        "Content": "    const action = {payload:{list:[{name:123,id:456,sys:{country:789}}]}};\n    const locations = action.payload.list.map(({id, name:_name, sys:{country}}) =>\n                        ({id, name:_name, country}));\n   \n    console.log(locations);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43443048",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "150545204",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var app = express.express();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    var foo = require('express');\n    var app = foo.express();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43466772",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150805858",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var myArr = {\"username1\" : \"123456,\"username2\" : \"121\"};",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var myArr = {\"username1\" : \"123456\",\"username2\" : \"121\"};",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43564017",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "151890855",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const router = express.Router();\n   \n    router.use('/',require('./schools _controller.js'));\n    router.use('/:schoolId/classes/:classId',",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    const express = require('express');\n    const router = express.Router();\n   \n    router.use('/',require('./schools _controller.js'));\n    router.use('/:schoolId/classes/:classId', require ('./schools_classes_controller.js'));\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43564931",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "151900553",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let humans = [{\n      accountUid: \"1\",\n      userType: \"TEACHER\",\n      firstName: \"A\",\n      middleName: \"B\",\n      lastName: \"C\",\n    }, {\n      accountUid: \"2\",\n      userType: \"STAFF\",\n      firstName: \"A\",\n      middleName: \"B\",\n      lastName: \"C\",\n    }, {\n      accountUid: \"3\",\n      userType: \"STUDENT\",\n      firstName: \"A\",\n      middleName: \"B\",\n      lastName: \"C\",\n    }, {\n      accountUid: \"4\",\n      userType: \"PARENT\",\n      firstName: \"A\",\n      middleName: \"B\",\n      lastName: \"C\",\n    }];\n    let order = ['STAFF', 'TEACHER', 'PARENT', 'STUDENT'];\n    const result = humans.sort((a, b) => order.indexOf(a.userType) > order.indexOf(b.userType));\n    console.log(result)",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9642857142857143,
        "Content": "    const humans = [{\n      accountUid: \"1\",\n      userType: \"TEACHER\",\n    }, {\n      accountUid: \"2\",\n      userType: \"STAFF\",\n    }, {\n      accountUid: \"3\",\n      userType: \"STUDENT\",\n    }, {\n      accountUid: \"4\",\n      userType: \"PARENT\",\n    }];\n    const order = ['STAFF', 'TEACHER', 'PARENT', 'STUDENT'];\n    const result = humans.sort((a, b) => order.indexOf(a.userType) - order.indexOf(b.userType));\n    console.log(result)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43583205",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "152100264",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var token = crypto.randomBytes(64).toString('hex');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7272727272727273,
        "Content": "    const crypto = require('crypto');\n    var token = crypto.randomBytes(64).toString('hex');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43688102",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "153255849",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var url = 'http://api.stackexchange.com/2.2/search?order=desc&sort=activity&tagged=node.js&intitle=node.js&site=stackoverflow';\n    request({\n    headers: {\n        'Accept': 'application/json; charset=utf-8',\n        'User-Agent': 'RandomHeader' \n             },\n         uri: url,\n         method: 'GET',\n         gzip: true\n             },\n      function(err, res, body) {\n         console.log(\"response.statusCode\" + res.statusCode);\n         console.log('server encoded the data as: ' + (res.headers['content-encoding'] || 'identity'))\n         console.log('the decoded data is: ' + body)  \n       });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9722222222222222,
        "Content": "    var request = require('request');\n    var url = 'http://api.stackexchange.com/2.2/search?order=desc&sort=activity&tagged=node.js&intitle=node.js&site=stackoverflow';\n    request({\n    headers: {\n        'Accept': 'application/json; charset=utf-8',\n        'User-Agent': 'RandomHeader' \n             },\n         uri: url,\n         method: 'GET',\n         gzip: true\n             },\n      function(err, res, body) {\n         console.log(\"response.statusCode\" + res.statusCode);\n         console.log('server encoded the data as: ' + (res.headers['content-encoding'] || 'identity'))\n         console.log('the decoded data is: ' + body)  \n       });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43705644",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "153450105",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    str.replace(/a|b/g, v => {\n       if(v==\"a\"){\n         return \"b\"\n       }else{\n         return \"a\"\n       }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var str = \"blaah blaah blaah blaah\";\n    str = str.replace(/a|b/g, v => {\n           if(v==\"a\"){\n             return \"b\"\n           }else{\n             return \"a\"\n           }\n        });\n        \n    console.log(str);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43786653",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "154338792",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function get(string, func) {\n      // ...\n      func(request, response);\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    function get(string, func) {\n      var request = \"foo\";\n      var response = \"bar\";\n      // ...\n      func(request, response);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43812232",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "154624480",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var arr = [\n      { email:\"xyz@gmail.com\"},\n      { email:\"abc@abc.com\"},\n      { email:\"inder@hotmail.com\"},\n      { email:\"Ravi@Hotmail.com\"},\n      { email:\"xxx@GMail.com\"},\n    ];\n    var map = arr.map(function (item) {\n      return item.email.substring(item.email.indexOf('@') + 1).toLowerCase();\n    });\n    var res = [];\n    for (item of map) {\n      if (res.indexOf(item) === -1) {\n        res.push(item);\n      }\n    }\n    console.log(res);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7777777777777778,
        "Content": "    var arr, res = [];\n    arr = [\n      {email: \"xyz@gmail.com\"},\n      {email: \"abc@abc.com\"},\n      {email: \"inder@hotmail.com\"},\n      {email: \"Ravi@Hotmail.com\"},\n      {email: \"xxx@GMail.com\"}\n    ];\n    arr.map(function (item) {\n      return item.email.substr(item.email.indexOf('@') + 1).toLowerCase();\n    }).forEach(function (item) {\n      if (res.indexOf(item) === -1) {\n        res.push(item);\n      }\n    });\n    console.log(res);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43828686",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "154812290",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var d = new Date();\n    d.setDate(d.getDate() - 5);\n    \n    var _id = ObjectID.createFromTime(d.getTime() / 1000); // timestamp should be in seconds",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "    const ObjectID = require('mongodb').ObjectID;\n    var d = new Date();\n    d.setDate(d.getDate() - 5);\n    \n    var _id = ObjectID.createFromTime(d.getTime() / 1000); // timestamp should be in seconds",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43851045",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "155060141",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     module: {\n          loaders: [\n             {\n                test: /\\.jsx?$/,\n                exclude: /node_modules/,\n                loader: 'babel-loader',\n    \t\t\t\t\n                query: {\n                   presets: ['es2015', 'react']\n                }\n             },\n             {\n                 test: /\\.(scss|sass)$/,\n                 loader: scssLoader,\n                 include: [__dirname]\n               },\n               { test: /\\.css$/,\n                 loader: postcssLoader,\n                 include: [__dirname]\n               }\n          ]\n    \t  \n       }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7142857142857143,
        "Content": "    const postcssPlugins = [\n      require('postcss-cssnext')(),\n      require('postcss-modules-values')\n    ];\n    \n    const scssLoader = [\n      { loader: 'style-loader' },\n      { loader: 'css-loader' },\n      { loader: 'sass-loader' }\n    ];\n    \n    const postcssLoader = [\n      { loader: 'style-loader' },\n      { loader: 'css-loader', options: { modules: true } },\n      { loader: 'postcss-loader', options: { plugins: () => [...postcssPlugins] } }\n    ];\n     module: {\n          loaders: [\n             {\n                test: /\\.jsx?$/,\n                exclude: /node_modules/,\n                loader: 'babel-loader',\n    \t\t\t\t\n                query: {\n                   presets: ['es2015', 'react']\n                }\n             },\n             {\n                 test: /\\.(scss|sass)$/,\n                 loader: scssLoader,\n                 include: [__dirname]\n               },\n               { test: /\\.css$/,\n                 loader: postcssLoader,\n                 include: [__dirname]\n               }\n          ]\n    \t  \n       }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43881698",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "155404021",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var path = 'myfile.png';\n    var buffer = ...; // your buffer\n    fs.open(path, 'w', function(err, fd) {\n        if (err) {\n            // Something wrong creating the file\n        }\n        fs.write(fd, buffer, 0, buffer.length, null, function(err) {\n            // Something wrong writing contents!\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.12903225806451613,
        "Content": "    let robot = require(\"robotjs\")\n    let fs = require('fs')\n    let Jimp = require('jimp')\n    let size = 200\n    let rimg = robot.screen.capture(0, 0, size, size)\n    let path = 'myfile.png'\n    // Create a new blank image, same size as Robotjs' one\n    let jimg = new Jimp(size, size);\n    for (var x=0; x<size; x++) {\n            for (var y=0; y<size; y++) {\n                    // hex is a string, rrggbb format\n                    var hex = rimg.colorAt(x, y);\n                    // Jimp expects an Int, with RGBA data,\n                    // so add FF as 'full opaque' to RGB color\n                    var num = parseInt(hex+\"ff\", 16)\n                    // Set pixel manually\n                    jimg.setPixelColor(num, x, y);\n            }\n        }\n    jimg.write(path)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43956088",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "156223266",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    accuracy: {\n         type: Number,\n         required: true\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    accuracy: {\n         type: Number\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43962282",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "156295604",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    promise.then(function(res) {\n        console.log(res);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4,
        "Content": "    var read = require('read.js');\n    read.files.then(function(res) {\n        console.log(res);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "43986075",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "156549920",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const mySuccessCb = name => data => {\n      // data and name are available here\n      console.log(\"File \" + fileName + \" downloaded\");\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const mySuccessCb = filename => data => {\n      // data and name are available here\n      console.log(\"File \" + filename + \" downloaded\");\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44096051",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "157782178",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    moment.tz.guess(); // eg. 'America/Chicago'",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    Intl.DateTimeFormat().resolvedOptions().timeZone // eg. 'America/Chicago'",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44264265",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "159621830",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Promise.all([\n      delay(200, 'one'),\n      delay(100, 'two'),\n    ]).then((results) => {\n      // we have results in results\n    }).catch((err) => {\n      // there was an error\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "    const { delay } = require('bluebird');\n    Promise.all([\n      delay(200, 'one'),\n      delay(100, 'two'),\n    ]).then((results) => {\n      // we have ['one', 'two'] in results:\n      console.log('Results:', JSON.stringify(results));\n    }).catch((err) => {\n      // there was an error:\n      console.log('Error:', err);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44272588",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "159716463",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let args = message.content.split(\",\");\n    // args.length is the number of combos entered\n    args.forEach(function(item) {\n        let splits = item.split(\" \");\n        let link = splits[0];\n        let answer = splits[1];\n        \n        // code here for processing each link/answer combo (not sure what you want to do with them)\n        lockers.push({\"link\":link,\"answer\":answer});\n    });\n    // final code to process lockers array",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7017543859649122,
        "Content": "    let message = {};\n    message.content =  \"command1 link1 answer1, link2 answer2, link3 answer3\";\n    let lockers = [];\n    // get command off the beginning\n    let index = message.content.indexOf(\" \");\n    let command = message.content.slice(0, index);\n    // get remaining content and split it into link answer combos\n    let args = message.content.slice(index + 1).split(/\\s*,\\s*/);\n    // args.length is the number of combos entered\n    args.forEach(function(item) {\n        let splits = item.split(/\\s+/);\n        let link = splits[0];\n        let answer = splits[1];\n        // code here for processing each link/answer combo (not sure what you want to do with them)\n        lockers.push({\"link\":link,\"answer\":answer});\n    });\n    // final code to process lockers array\n    console.log(\"command = \", command);\n    console.log(lockers);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44301196",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "160032893",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    try {\n      var foo = \"bar\"\n    } catch (e) {\n      console.log(e)\n    }\n    \n    try {\n      console.log(foo) -> is not defined\n    } catch (e) {\n      console.log(e)\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9130434782608695,
        "Content": "        try {\n          // When declared via `var`, the variable will\n          // be declared outside of the block\n          var foo = \"bar\"\n        } catch (e) {\n          console.log(e)\n        }\n    \n        try {\n          console.log(foo)\n        } catch (e) {\n          console.log(e)\n        }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44301196",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "160032895",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let foo;\n    try {\n      foo = \"bar\"\n    } catch (e) {\n      console.log(e)\n    }\n    \n    try {\n      console.log(foo) -> is not defined\n    } catch (e) {\n      console.log(e)\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "        // Maybe it's clearer to declare it with let and \n        // assign the value in the first try-catch\n        let foo;\n        try {\n          foo = \"bar\"\n        } catch (e) {\n           console.log(e)\n        }\n    \n        try {\n          console.log(foo)\n        } catch (e) {\n          console.log(e)\n        }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44390673",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "161014744",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      var mongoose = require('mongoose');\n      var Schema = mongoose.Schema;  \n      var brickSchema = require('brick.schema.js');\n      brickSchema.content = require({\n      bgColor1: String, \n      bgColor2: String,\n      bannerBgColor1: String,\n      bannerBgColor2: String,\n    });\n    \n    var BrickSchema = new Schema(require('brick.schema.js'));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9523809523809523,
        "Content": "      var mongoose = require('mongoose');\n      var Schema = mongoose.Schema;  \n      var brickSchema = require('brick.schema.js');\n      brickSchema.content = new Schema({\n      bgColor1: String, \n      bgColor2: String,\n      bannerBgColor1: String,\n      bannerBgColor2: String,\n    });\n    \n    var BrickSchema = new Schema(require('brick.schema.js'));\n    module.exports = mongoose.model('twitterBrick', BrickSchema, 'Bricks');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44396405",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "161077856",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const schemas = [];\n    mongoose.modelNames().forEach(function(modelName){\n        schemas.push(require('mongoose').model(modelName).schema.obj);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.631578947368421,
        "Content": "    const mongoose = require('mongoose');\n    \n    //Schema definitions...\n    const schemas = [];\n    mongoose.modelNames().forEach(function(modelName){\n        schemas.push(mongoose.model(modelName).schema.obj);\n    })\n    console.log(schemas);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44461036",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "161781387",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var target = 8.8.8.8;\n    var sys = require('sys')\n    var exec = require('child_process').exec;\n    function puts(error, stdout, stderr) { sys.puts(stdout) }\n    exec(\"ping -c 3 \" + target, puts);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.13333333333333333,
        "Content": "        var child = require('child_process').spawn('ping', [\"8.8.8.8\"]);\n        child.stdout.on('data', function(data) {\n           console.log(data.toString('utf8'));            \n        });\n \n        child.stdout.on('end', function(data) {\n           console.log('done')\n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44498040",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "162187022",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var log = console.log.bind(console);\n    var delayedCb = _.debounce(function(cb){\n      cb('foo');\n    }, 100);\n    delayedCb(function(data) {\n      console.log(data);\n    });\n    var delayedPromise = new Promise(function(resolve) {\n      _.debounce(function(){\n        resolve('foo');\n      }, 100)();\n    });\n    delayedPromise.then(function(data) {\n      log(data);\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5405405405405406,
        "Content": "\tvar log = console.log.bind(console),\n\t\t_ = require('lodash')\n\tvar delayedResults = new Promise(function(resolve) {\n\t\t_.debounce(function(){\n\t\t\tresolve('foo');\n\t\t}, 100)();\n\t});\n\tvar start = async function(){\n\t\tlog(await delayedResults )\n\t}\n\tstart()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44524767",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "162475442",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var hash = bcrypt.hashSync(\"bacon\");\n     \n    bcrypt.compareSync(\"bacon\", hash); // true\n    bcrypt.compareSync(\"veggies\", hash); // false",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8695652173913043,
        "Content": "    const bcrypt = require('bcryptjs');\n    \n    \n    var hash = bcrypt.hashSync(\"bacon\");\n     \n    bcrypt.compareSync(\"bacon\", hash); // true\n    bcrypt.compareSync(\"veggies\", hash); // false",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44525664",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "162485291",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function createInsertWithAlias(data, cs, alias) {\n        return pgp.as.format('INSERT INTO $1 AS $2:alias ($3^) VALUES $4^', [\n            cs.table, alias, cs.names, pgp.helpers.values(data, cs)\n        ]);\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const pgp = require('pg-promise')(/*initialization options*/);\n    // data = either one object or an array of objects;\n    // cs = your ColumnSet object, with table name specified\n    // alias = the alias name string\n    function createInsertWithAlias(data, cs, alias) {\n        return pgp.as.format('INSERT INTO $1 AS $2~ ($3^) VALUES $4^', [\n            cs.table, alias, cs.names, pgp.helpers.values(data, cs)\n        ]);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44579478",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163070886",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var config = {\n        server: 'servername.database.windows.net',\n        database: 'myDatabase',\n        user: 'user',\n        password: 'password',\n        port: 1433\n    \n        options: {\n            encrypt: true // Use this if you're on Windows Azure\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var config = {\n        server: 'servername.database.windows.net',\n        database: 'myDatabase',\n        user: 'user',\n        password: 'password',\n        port: 1433,\n    \n        options: {\n            encrypt: true // Use this if you're on Windows Azure\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44593670",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "163227764",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function findUser(id) {\n      new Promise((resolve, reject) => {\n        setTimeout(() => resolve(\"Hello \" + id), 2000);\n      }).then((user) => {\n        console.log(\"This should be shown AFTER user has a result\");\n        console.log(user);\n        return user;\n      });\n    }\n    findUser(\"FOO\").then((user1) => {\n      console.log(\"Result \" + user1);\n    });\n    findUser(\"BAR\").then((user2) => {\n      console.log(\"Result \" + user2);\n    });\n   ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8253968253968254,
        "Content": "    function findUser(id) {\n      return new Promise((resolve, reject) => {\n        setTimeout(() => resolve(\"Hello \" + id), 2000);\n      }).then((user) => {\n        console.log(\"This should be shown AFTER user has a result\");\n        console.log(user);\n        return user;\n      });\n    }\n    findUser(\"FOO\")\n      .then(user1 => console.log(\"Result \" + user1))\n      .then(() => findUser(\"BAR\"))\n      .then(user2 => console.log(\"Result \" + user2));\n   ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44644162",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "163775788",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const router = express.Router();\n    const format = require('pg-format');\n    const pool = require('../path/to/database.js');\n    router.get(function(req, res, next) {\n      pool.connect(function (err, client, done) {\n        if (err) throw new Error(err);\n        var ageQuery = format('SELECT * from push_table WHERE seq_id = 1')\n        myClient.query(ageQuery, function (err, result) {\n          if (err) throw new Error(err);\n          res.json(result.rows[0]); \n        })\n      }); \n    });\n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.972972972972973,
        "Content": "    const express = require('express');\n    const router = express.Router();\n    const format = require('pg-format');\n    const pool = require('../path/to/database.js');\n    router.get(function(req, res, next) {\n      pool.connect(function (err, client, done) {\n        if (err) throw new Error(err);\n        var ageQuery = format('SELECT * from push_table WHERE seq_id = 1')\n        client.query(ageQuery, function (err, result) {\n          if (err) throw new Error(err);\n          res.json(result.rows[0]); \n        })\n      }); \n    });\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44648086",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163819999",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     const shell = require('shelljs');\n     shell.exec(comandToExecute, {silent:true}).stdout;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "     const shell = require('shelljs')\n     shell.exec('./path_to_your_file')",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44673140",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164096615",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function MyUtils() {\n        functionThree() {\n            console.log('This is third function');\n        }\n        this.actions = {\n            functionOne(param1, param2) {\n                console.log('This is first function which is not in action');\n            },\n            functionTwo(param1, param2) {\n                console.log('This is second function calling function three');\n                //HOW DO I CALL functionThree HERE?\n                // I tried doing - this.functionThree() but not working\n                functionThree();\n            }\n        }\n    \n        \n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function MyUtils() {\n        function functionThree() {\n            console.log('This is third function');\n        }\n        this.actions = {\n            functionOne(param1, param2) {\n                console.log('This is first function which is not in action');\n            },\n            functionTwo(param1, param2) {\n                console.log('This is second function calling function three');\n                //HOW DO I CALL functionThree HERE?\n                // I tried doing - this.functionThree() but not working\n                functionThree();\n            }\n        }\n    \n        \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44680853",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164180922",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Object.defineProperty(Object.prototype, \"myMethod\" {\n        value: function() { /* ... */ }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    Object.defineProperty(Object.prototype, \"myMethod\", {\n        value: function() { /* ... */ }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44688758",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164267599",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const PORT = process.argv[2] || 8080; // whatever port number\n    if (require.main === module) {\n        server.listen(PORT); // to start listening\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5614035087719298,
        "Content": "    const PORT = process.argv[2] || 8080; // whatever port number\n    if (require.main === module) {\n       \n       this.server.listen(PORT); // to start listening\n       \n       // or, if you are certain that it will always be\n       // called the same way... you could apply a slice\n       // of process.argv to server.listen\n       //\n       // this.server.listen.apply(this.server, process.argv.slice(2))\n       //\n       // https://nodejs.org/api/http.html#http_server_listen_port_hostname_backlog_callback\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44725616",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "164662238",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    /* MIT License */\n    /* Copyright 2017 Patrick Roberts */\n    // dependency injection utility\n    function inject(callbackfn) {\n      return (...args) => callbackfn.call(this, new Proxy({}, {\n        get(target, name) {\n          return require(name);\n        }\n      }), ...args);\n    }\n    \n    // usage\n    \n    // wrap function declaration with inject()\n    const val = inject(function ({ fs: { readFile, writeFile }, http: { Agent: HttpAgent }, events: { EventEmitter } }, ...otherArgs) {\n      // already have access to modules, no need to require() here\n      console.log('fs:', { readFile, writeFile });\n      console.log('HttpAgent:', HttpAgent);\n      console.log('EventEmitter:', EventEmitter);\n      console.log('otherArgs', otherArgs);\n    });\n    \n    // execute wrapped function with automatic injection\n    val('other', 'args');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    /* MIT License */\n    /* Copyright 2017 Patrick Roberts */\n    // dependency injection utility\n    function inject(callbackfn) {\n      const handler = {\n        get(target, name) {\n          return require(name);\n        }\n      };\n      const proxy = new Proxy({}, handler);\n    \n      return (...args) => callbackfn.call(this, proxy, ...args);\n    }\n    \n    // usage\n    \n    // wrap function declaration with inject()\n    const val = inject(function ({\n      fs: { readFile: fsRead, writeFile: fsWrite },\n      child_process: { fork: cpF, spawn: cpS, exec: cpE },\n      events: { EventEmitter }\n    }, other, args) {\n      // already have access to modules, no need to require() here\n      console.log('fs:', { fsRead, fsWrite });\n      console.log('child_process:', { fork: cpF, spawn: cpS, exec: cpE });\n      console.log('EventEmitter:', EventEmitter);\n      console.log(other, args);\n    });\n    \n    // execute wrapped function with automatic injection\n    val('other', 'args');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44726094",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "164667718",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    let pkg = require('__dirname + '/path/to/package.json')",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    let pkg = require(__dirname + '/path/to/package.json')",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44739987",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "164821680",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import * as bodyParser from 'body-parser';\n    \n    /*\n    other code\n    */\n    \n    \n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({ extended: true }));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    import * as bodyParser from 'body-parser';\n    import * as express from 'express';\n    \n    const app = express();\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({ extended: true }));\n    /*\n    other code\n    */\n    \n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44791702",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "165384661",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    charCode = 'a'.charCodeAt(0);\n    function identName(a){\n      var b = [0], pos = 0;\n        \n        addOne = function (arr) {\n            arr[0] += 1;\n            var sp = 0;\n            while(arr[sp] > 25 && sp < arr.length) {\n                if (arr[sp + 1] !== undefined) {\n                    arr[sp + 1] += 1;\n                } else {\n                    arr[sp + 1] = 0;\n                }\n                arr[sp] -= 26;\n                sp += 1;\n            }\n            return b;\n        };\n        \n        for (i = 0; i < a; i += 1) {\n            b = addOne(b);\n        }\n        console.log(a, b);\n        b = b.reverse();\n        out = '';\n        for (i = 0; i < b.length; i += 1) {\n            out += String.fromCharCode(charCode + (b[i] % 26))\n        }\n        return out;\n    }",
        "MostRecentVersion": "0",
        "Errors": 14,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9647058823529412,
        "Content": "    const charCode = 'a'.charCodeAt(0);\n    var identName = function (a) {\n      var b = [a], sp, out, i, div;\n        \n        sp = 0;\n        while(sp < b.length) {\n            if (b[sp] > 25) {\n                div = Math.floor(b[sp] / 26);\n                b[sp + 1] = div - 1;\n                b[sp] %= 26;\n            }\n            sp += 1;\n        }\n        out = \"\";\n        for (i = 0; i < b.length; i += 1) {\n            out = String.fromCharCode(charCode + b[i]) + out;\n        }\n        return out;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44791958",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "165387411",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "Activity.fetch({withRelated: ['athlete']}).then(...)\n**EDIT**\nHey @Derekedelaney, I tried to implement the same project and did not face any issues. You can find it [here][1].\nPlease note that I am using Bookshelf **registry** plugin so go through that once. Let me know if you find any difficulty.\n  [1]: https://github.com/zerosand1s/StackOverflow",
        "MostRecentVersion": "0",
        "Errors": 76,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.40963855421686746,
        "Content": "    [\n      { id: 1,\n        athlete_id: 1,\n        type: 'run',\n        distance: '5',\n        athlete: { id: 1, firstname: 'john', lastname: 'doe' } \n      },\n      { id: 2,\n        athlete_id: 2,\n        type: 'walk',\n        distance: '7',\n        athlete: { id: 2, firstname: 'jane', lastname: 'doe' }\n      } \n    ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44820096",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "165693727",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    `var upsertDocument = function (table, kv, data) {\n        table.findOneAndUpdate(\n            {_id: kv._id},\n            {\n                $set: {\n                    name: data.name\n                }\n            },\n            {upsert: true}\n        )\n    }`\n      [1]: http://mongoosejs.com/",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9444444444444444,
        "Content": "    `var upsertDocument = function (table, kv, data) {\n        table.findOneAndUpdate(\n            {_id: kv._id},\n            {\n                $set: {\n                    name: data.name\n                }\n            },\n            {upsert: true}\n        )\n    }`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44897121",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "166538132",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "request('http://google.com/doodle.png').pipe(fs.createWriteStream('doodle.png'))",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const fs = require('fs');\n    const request = require('request');\n    request('http://google.com/doodle.png').pipe(fs.createWriteStream('doodle.png'))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44941475",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "167019441",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async.applyEach([httpGet], urls, function (err, res) {\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const async = require('async');\n    const request = require('request');\n    \n    function httpGet(url, callback) {\n        const options = {\n            url :  url,\n            json : true\n        };\n        request(options,\n            function(err, res, body) {\n                if (err){\n                    console.log(err);\n                    callback();\n                    return;\n                }\n                console.log(\"invoked\")\n                callback(null, body);\n            }\n        ).on('error', function(err) {\n            console.log(err);\n            callback();\n        });\n    }\n    \n    const urls= [\n        \"http://1.2.3.4:30500/status/health/summary\",\n        \"http://5.6.7.8:30505/status/health/summary\"\n    ];\n    \n    async.each(urls, httpGet, function (err, res) {\n    }, function (err, res) {\n    \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "44963277",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "167255025",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n        \n    var gulp = require('gulp');\n    var sass = require('gulp-sass');\n    \n    gulp.task('default', ['watch']);\n    \n    gulp.task('sass', function () {\n      return gulp.src('./sass/theme.scss')\n        .pipe(sass().on('error', sass.logError))\n        .pipe(gulp.dest('./css'));\n    });\n     \n    gulp.task('watch', ['sass'] function () {\n      gulp.watch('./sass/**/*.scss', ['sass']);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    'use strict';\n        \n    var gulp = require('gulp');\n    var sass = require('gulp-sass');\n    \n    gulp.task('default', ['watch']);\n    \n    gulp.task('sass', function () {\n      return gulp.src('./sass/theme.scss')\n        .pipe(sass().on('error', sass.logError))\n        .pipe(gulp.dest('./css'));\n    });\n     \n    gulp.task('watch', ['sass'], function () {\n      gulp.watch('./sass/**/*.scss', ['sass']);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45010864",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "167776384",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const URL = require('url'); // No .Url\n    \n    const myURL = new URL('https://example.org/?abc=123');\n    console.log(myURL.searchParams.get('abc'));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9090909090909091,
        "Content": "    const { URL } = require('url'); // No .Url and with { }\n    \n    const myURL = new URL('https://example.org/?abc=123');\n    console.log(myURL.searchParams.get('abc'));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45057677",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "168294099",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const blob = new Blob([data.data], {\n      type: 'image/png',\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.14814814814814814,
        "Content": "    function exportReport(_id) {\n        this.$http\n            .post(\n                '/api/report',\n                { _id },\n                {\n                    headers: {\n                        'Content-type': 'application/json',\n                        Accept: 'image/png',\n                    },\n                    responseType: 'blob'\n                }\n            )\n            .then(data => {\n                console.log(data);\n                this.FileSaver.saveAs(data.data, 'testing.png');\n            });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45075542",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "168491993",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var paths = [\n      \"A/B\",\n      \"A/B/C\",\n      \"A/B/C/D\",\n      \"A/B/C/E\",\n    \t\"F\" \n    ];\n    console.log(Object.values(convertToHierarchy(paths).children))\n    function convertToHierarchy(arry /* array of array of strings */)\n    {\n        // Build the node structure\n        var rootNode = {id:\"root\", children:{}}\n        for (var i = 0; i < arry.length; i++)\n        {\n            var path = arry[i].split('/');\n            buildNodeRecursive(rootNode, path, 0);\n        }\n        return rootNode;\n    }\n    function buildNodeRecursive(node, path, idx)\n    {\n        if (idx < path.length)\n        {\n            item = path[idx];\n            if (!node.children[item])\n            {\n                node.children[item] = {name: item, children:{}};\n            }\n            buildNodeRecursive(node.children[item], path, idx + 1);\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8780487804878049,
        "Content": "    var paths = [\n      \"A/B\",\n      \"A/B/C\",\n      \"A/B/C/D\",\n      \"A/B/C/E\",\n    \t\"F\" \n    ];\n    /* Output\n    [{\"name\":\"A\",\"children\":[{\"name\":\"B\",\"children\":[{\"name\":\"C\",\"children\":[{\"name\":\"D\",\"children\":[]},{\"name\":\"E\",\"children\":[]}]}]}]},{\"name\":\"F\",\"children\":[]}]\n    */\n    console.log(convertToHierarchy(paths).children)\n    function convertToHierarchy(paths /* array of array of strings */) {\n      // Build the node structure\n      const rootNode = {name:\"root\", children:[]}\n      \n      for (let path of paths) {\n        buildNodeRecursive(rootNode, path.split('/'), 0);\n      }\n      \n      return rootNode;\n    }\n    function buildNodeRecursive(node, path, idx) {\n      if (idx < path.length) {\n        let item = path[idx]\n        let dir = node.children.find(child => child.name == item)\n        if (!dir) {\n          node.children.push(dir = {name: item, children:[]})\n        }\n        buildNodeRecursive(dir, path, idx + 1);\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45115732",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "168926872",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        module.exports = {\n           entry: \"./src/index.ts\",\n           output: {\n               filename: \"bundle.js\",\n               path: path.resolve(__dirname, 'dist')\n           },\n           resolve: {\n               extensions: [\"\", \".webpack.js\", \".web.js\", \".ts\", \".js\"]\n           },\n           module: {\n               loaders: [{ test: /\\.ts$/, loader: \"ts-loader\" }]\n           }\n        }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8627450980392157,
        "Content": "        const path = require('path');\n        module.exports = {\n           entry: \"./src/index.ts\",\n           output: {\n               filename: \"bundle.js\",\n               path: path.resolve(__dirname, 'dist')\n           },\n           resolve: {\n               extensions: [\".webpack.js\", \".web.js\", \".ts\", \".js\"]\n           },\n           module: {\n               rules: [{ test: /\\.ts$/, loader: \"ts-loader\" }]\n           }\n        }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45191849",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "169763309",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let res = arr.reduce((a,b) => a.concat(b.values.map(v => v.keyIWant)), []);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3448275862068966,
        "Content": "    function getKeyValues(arr, key) {\n        return arr.reduce((a,b) => {\n            let keys = Object.keys(b);\n            keys.forEach(v => {\n                if (Array.isArray(b[v])) a = a.concat(getKeyValues(b[v], key));\n                if (v === key) a = a.concat(b[v]);\n            });\n            return a;\n        }, [])\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45206182",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "169925369",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function first(callback){\n        request('http://demo3691077.mockable.io/aman', function (error, response, body) {\n            if (!error && response.statusCode == 200) {\n                console.log(\"first\");\n                callback();\n            }\n        })\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9411764705882353,
        "Content": "    var request = require('request')\n    function makeRequest(url, order) {\n      return new Promise((resolve, reject) => {\n        request(url, (error, response, body) => {\n          if (!error && response.statusCode === 200) {\n            console.log(order);\n            return resolve();\n         }\n        });\n      });\n    }\n    function firstandSecond(callback) {\n      const promiseArr = [makeRequest('http://demo3691077.mockable.io/aman', 'first'), makeRequest('http://demo3691077.mockable.io/aman', 'second')];\n      return Promise.all(promiseArr).then(callback);\n    }\n    function third(){\n      console.log(\"third\");\n    }\n    firstandSecond(third);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45302055",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "170976604",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fn = async function() {};\n    fn.then();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const fn = async function() {};\n    fn() instanceof Promise",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45354136",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "171558329",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function foo() {\n        return somePromise();\n    }\n    \n    foo().then(function (fooResult) {\n        // do something with fooResult\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function foo() {\n        return Promise.resolve('some value');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45549942",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "173736357",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const transform = require('camaro')\n    // const omitEmpty = require('omit-empty')\n    \n    const xml = require('fs').readFileSync('so2.xml', 'utf-8')\n    \n    const template = {\n        data: ['//caaml:DangerRating', {\n            locRef: 'caaml:locRef/@xlink:href',\n            validTime: {\n                beginPosition: '//caaml:TimePeriod/caaml:beginPosition',\n                endPosition: '//caaml:TimePeriod/caaml:endPosition'\n            },\n            validElevation: {\n                uom: '//caaml:ElevationRange/@uom',\n                endPosition: '//caaml:endPosition'\n            },\n            mainValue: '//caaml:mainValue'\n        }]\n    }\n    \n    const result = transform(xml, template)\n    console.log(JSON.stringiify(result.data, null, 2))",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9696969696969697,
        "Content": "    const transform = require('camaro')\n    // const omitEmpty = require('omit-empty')\n    \n    const xml = require('fs').readFileSync('so2.xml', 'utf-8')\n    \n    const template = {\n        data: ['//caaml:DangerRating', {\n            locRef: 'caaml:locRef/@xlink:href',\n            validTime: {\n                beginPosition: '//caaml:TimePeriod/caaml:beginPosition',\n                endPosition: '//caaml:TimePeriod/caaml:endPosition'\n            },\n            validElevation: {\n                uom: '//caaml:ElevationRange/@uom',\n                endPosition: '//caaml:endPosition'\n            },\n            mainValue: '//caaml:mainValue'\n        }]\n    }\n    \n    const result = transform(xml, template)\n    console.log(JSON.stringify(result.data, null, 2))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45582298",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "174096766",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        http.get(url, function(res) {\n            var data = '';\n    \n            res.on('data',function(chunk){\n                data+= chunk;\n            });\n    \n            res.on('end',function(){\n                console.log(\"BODY: \" + data);\n            })\n    \n        }).on('error', function(e) {\n                console.log(\"Got error: \" + e.message);\n            });\n       };",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8695652173913043,
        "Content": "    var https = require('https');\n    var url = 'https://www.alphavantage.co/query?function=TIME_SERIES_INTRADAY&symbol=MSFT&interval=1min&apikey=demo';\n    exports.handler = function (event, context) {\n    https.get(url, function(res) {\n        var data = '';\n        res.on('data', (chunk) => { data += chunk; }); \n        res.on('end', () => { console.log(\"BODY: \" + data); });\n        }).on('error', (e) => { console.log(\"Got error: \" + e.message);});\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45599364",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "174283783",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    export class moduleA {\n        method() {\n            ...\n        }\n    }\n    \n    export class moduleB {\n        method() {\n            ...\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    import { NativeModules } from 'react-native';\n    const { moduleA, moduleB } = NativeModules;\n    export { moduleA, moduleB };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45641841",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "174764344",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const mysql = require('mysql');\n    const express = require('express');\n    const app = express();\n    const connection = mysql.createConnection({\n      host: 'localhost',\n      user: 'me',\n      password: 'secret',\n      database: 'my_db'\n    });\n     \n    connection.connect();\n    \n    app.get('/', (req, res) => {\n      connection.query(`SELECT * FROM table`, (error, data) => {\n        if(error) => {\n            console.log(error)\n        }else{\n            res.json(data)\n        } \n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const mysql = require('mysql');\n    const express = require('express');\n    const app = express();\n    const connection = mysql.createConnection({\n    \thost: 'localhost',\n    \tuser: 'me',\n    \tpassword: 'secret',\n    \tdatabase: 'my_db'\n    });\n    \n    connection.connect();\n    \n    app.get('/', (req, res) => {\n    \tconnection.query(`SELECT * FROM table`, (error, data) => {\n    \t\tif(error) {\n    \t\t\tconsole.log(error)\n    \t\t}else{\n    \t\t\tres.json(data)\n    \t\t} \n    \t});\n    });\n    \n    app.post('/update/user/:id?', (req, res) => {\n    \tconst id = req.params.id;\n    \tconst username = req.body.username;\n    \tconnection.query(`UPDATE MyGuests SET username='${username}' WHERE id=${id}`, (error, data) => {\n    \t\tif(error) {\n    \t\t\tconsole.log(error)\n    \t\t}else{\n    \t\t\tres.json(data)\n    \t\t} \n    \t});\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45709795",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "175512577",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const util = require('util');\n    const sqlite3 = require('sqlite3');\n    \n    var db = new sqlite3.Database('./data.sqlite');\n    \n    db.get = util.promisify(db.get);\n    db.run = util.promisify(db.run);\n    \n    exports.getItemID = function(item) {\n        return new Promise(function (fulfill, reject){\n            sql.get(`SELECT * FROM items WHERE name=\"${item}\"`).then(row => {\n                console.log(`do stuff`);\n            }).catch((e) => {\n                console.error;\n                reject(e);\n            });\n        });\n    }\n    \n    exports.getItemID(\"Coins\").then(itemID => {\n        console.log(itemID);\n    }).catch((e) => {\n        console.log(e);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9722222222222222,
        "Content": "    const util = require('util');\n    const sqlite3 = require('sqlite3');\n    \n    var db = new sqlite3.Database('./data.sqlite');\n    \n    db.get = util.promisify(db.get);\n    db.run = util.promisify(db.run);\n    \n    exports.getItemID = function(item) {\n        return new Promise(function (fulfill, reject){\n            db.get(`SELECT * FROM items WHERE name=\"${item}\"`).then(row => {\n                console.log(`do stuff`);\n            }).catch((e) => {\n                console.error;\n                reject(e);\n            });\n        });\n    }\n    \n    exports.getItemID(\"Coins\").then(itemID => {\n        console.log(itemID);\n    }).catch((e) => {\n        console.log(e);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45858679",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "177172880",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        //modules\n        var express = require('express');\n        var fs = require('fs');\n        var morgan = require('morgan');\n        var path = require('path');\n    \n        var app = express(); //set up the server\n    \n        // create a write stream to the file\n        var accessLogStream = fs.createWriteStream(path.join(__dirname, \n        'access.log'), {flags: 'a'}); \n    \n        // setup the logger\n        app.use(morgan('combined', {stream: accessLogStream})); //streaming it \n        to the file\n    \n        app.get('/', function (req, res) {\n         res.send('Check the log file!')\n        })\n    \n        app.listen(2222);",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "        //modules\n        var express = require('express');\n        var fs = require('fs');\n        var morgan = require('morgan');\n        var path = require('path');\n    \n        var app = express(); //set up the server\n    \n        // create a write stream to the file\n        var accessLogStream = fs.createWriteStream(path.join(__dirname, \n        'access.log'), {flags: 'a'}); \n    \n        // setup the logger\n        app.use(morgan('combined', {stream: accessLogStream})); //streaming \n        //it to the file\n    \n        app.get('/', function (req, res) {\n         res.send('Check the log file!')\n        })\n    \n        app.listen(2222);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45897638",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "177608905",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var items = {\n      \"Scrap Metal\": {\n        \"market_hash_name\": \"Scrap Metal\",\n        \"appid\": 440,\n        \"contextid\": \"2\",\n        \"assetid\": [\n          \"6090807122\",\n          \"6090807127\",\n          \"6090807143\",\n          \"6090807132\",\n          \"6090807183\",\n          \"6090807173\",\n          \"6090807167\",\n          \"6090807160\",\n          \"6090807154\"\n        ]\n      }\n    }\n    var cart = {\n        \"Scrap Metal\": 2 \n    }\n    \n    var offer = manager.createOffer(steamID);\n    \n    Object.keys(cart).forEach( cartItem => {\n      if (items[cartItem].assetid.length < cart[cartItem]) {\n        console.log('dont have enough asset id');\n      }\n      \n      offer.addMyItem({\n        \"assetid\": items[cartItem].assetid.slice(0, cart[cartItem]),\n        \"appid\": items[cartItem].appid,\n        \"contextid\": items[cartItem].contextid\n      })\n      \n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9821428571428571,
        "Content": "    var items = {\n      \"Scrap Metal\": {\n        \"market_hash_name\": \"Scrap Metal\",\n        \"appid\": 440,\n        \"contextid\": \"2\",\n        \"assetid\": [\n          \"6090807122\",\n          \"6090807127\",\n          \"6090807143\",\n          \"6090807132\",\n          \"6090807183\",\n          \"6090807173\",\n          \"6090807167\",\n          \"6090807160\",\n          \"6090807154\"\n        ]\n      }\n    }\n    var cart = {\n      \"Scrap Metal\": 4\n    }\n    var manager = {\n      result: [],\n      createOffer: function(thing) {\n        return {\n          addMyItem: function(obj) {\n            manager.result = [ ...manager.result, obj ];\n          },\n          get: function(obj) {\n            return manager.result;\n          }\n        };\n      }\n    }\n    var offer = manager.createOffer();\n    Object.keys(cart).forEach( cartItem => {\n      if (items[cartItem].assetid.length < cart[cartItem]) {\n        console.log('dont have enough asset id');\n      }\n      items[cartItem].assetid.slice(0, cart[cartItem]).forEach( assetid => {\n        \n        offer.addMyItem({\n          \"assetid\": assetid,\n          \"appid\": items[cartItem].appid,\n          \"contextid\": items[cartItem].contextid\n        })\n      })\n    })\n    console.log(offer.get());",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45919477",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "177853777",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    // process.env.NODE_ENV = 'test';\n    require('config') // then it will return me the test.json config\n    I use this technique mostly for unit tests\n    ",
        "MostRecentVersion": "0",
        "Errors": 15,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    process.env.NODE_ENV = 'test';\n    require('config') // then it will return me the test.json config\n    // I use this technique mostly for unit tests",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45940485",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "178086962",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n    \n    const mongoose = require('mongoose');\n    const config = require('config');\n    const async = require('async');\n    \n    \n    mongoose.connect(config.get(\"DBUrl\"), {useMongoClient: true});\n    mongoose.set('debug', true);\n    \n    require('../model/AnnotationRequest');\n    require('../model/Website');\n    \n    const AnnotationRequest = mongoose.model('AnnotationRequest');\n    const Website = mongoose.model('Website');\n    \n    foo(function () {\n        console.log('done');\n    });\n    \n    function foo(done) {\n    \n        async.parallel([function(callback) {\n    \n            Website.find().then( function(websites) {\n                callback(null, websites);\n            }).catch(callback);\n    \n        },function(callback) {\n            AnnotationRequest.find({website: {$exists: false}}).then( function(annotationRequest) {\n                callback(null, annotationRequest);\n            }).catch(callback);\n        }], function(err, results) {\n    \n            if(err) {\n                console.error(err);\n                return;\n            }\n    \n            const websites = results[0];\n            const annotationRequests = results[1];\n    \n            let websiteAnnotationMap = {};\n    \n            websites.forEach(function (website) {\n                website.annotations.forEach(function (annotation) {\n                    annotationRequest[annotation] = website;\n                });\n            });\n    \n            async.each(annotationRequests, function(annotationRequest, callback) {\n    \n                let website = websiteAnnotationMap[annotationRequests.annotation];\n                if(website) {\n                    annotationRequests.website = website;\n                    annotationRequests.save().then(function () {\n                        callback();\n                    }).catch(error) {\n                        callback(error);\n                    }\n                } else {\n                    callback();\n                }\n            }, done);\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7972972972972973,
        "Content": "    'use strict';\n    const mongoose = require('mongoose');\n    const config = require('config');\n    const async = require('async');\n    mongoose.connect(config.get(\"DBUrl\"), {useMongoClient: true});\n    mongoose.set('debug', true);\n    require('../model/AnnotationRequest');\n    require('../model/Website');\n    const AnnotationRequest = mongoose.model('AnnotationRequest');\n    const Website = mongoose.model('Website');\n    foo(function () {\n        console.log('done');\n    });\n    \n    function foo(done) {\n        const pageSize= 10000;\n        async.parallel([function(callback) {\n            Website.find().then( function(websites) {\n                callback(null, websites);\n            }).catch(callback);\n        },function(callback) {\n            AnnotationRequest.count({website: {$exists: false}}).then( function(count) {\n                callback(null, count);\n            }).catch(callback);\n        }], function(err, results) {\n            if(err) {\n                console.error(err);\n                return;\n            }\n            const websites = results[0];\n            const annotationRequestsCount = results[1];\n            let websiteAnnotationMap = {};\n            websites.forEach(function (website) {\n                website.annotations.forEach(function (annotation) {\n                    websiteAnnotationMap[annotation] = website;\n                });\n            });\n            var skip = 0;\n            async.during(\n                function (callback) {\n                    return callback(null, skip < annotationRequestsCount);\n                },\n                function (callback) {\n                    AnnotationRequest.find({website: {$exists: false}},  { skip: skip, limit: pageSize })\n                        .then( function(annotationRequests) {\n                            skip += pageSize;\n                            async.each(annotationRequests, function(annotationRequest, eachCallback) {\n                                let website = websiteAnnotationMap[annotationRequest.annotation];\n                                if(website) {\n                                    annotationRequest.website = website;\n                                    annotationRequest.save().then(function () {\n                                        eachCallback();\n                                    }).catch(eachCallback);\n                                } else {\n                                    eachCallback();\n                                }\n                            }, callback);\n                    }).catch(callback);\n                },\n                done\n            );\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45992127",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "178663477",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.createNewGame = functions.https.onRequest((request, response) => {\n    \n        var database = admin.database();\n    \n        database.ref().once('value', function(data) {\n            console.log('SOMETHING');\n            response.end();\n        });\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8125,
        "Content": "    const functions = require('firebase-functions');\n    const admin = require('firebase-admin');\n    admin.initializeApp();\n    exports.createNewGame = functions.https.onRequest((request, response) => {\n    \n        var database = admin.database();\n    \n        database.ref().once('value', function(data) {\n            console.log('SOMETHING');\n            response.end();\n        });\n    \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "45997472",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "178724644",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const http = require('http');\n    \n    let options = {\n        host: \"172.28.49.9\",\n        port: 40000,\n        path: \"/quizResponse\",\n        headers: {\n            'content-type': 'application/json',\n            'accept': 'application/json',\n        }\n    }\n    let body = {\n        data: formdata\n    }\n    \n    let req = http.request(options, res => {\n        res.setEncoding('utf8');\n    \n        res.on('data', chunk => {\n            console.log(chunk);\n        });\n    });\n    req.on( 'error', e => console.log(e) );\n    req.write(JSON.stringify(body)); //put your data here\n    req.end();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4827586206896552,
        "Content": "    const http = require('http');\n    \n    var postData = JSON.stringify({user: 'sample1'});\n    const options = {\n        hostname: '172.28.49.9',\n        port: 4000,\n        path: '/quizResponse',\n        method: 'POST',\n        headers: {\n            'content-type': 'application/json',\n            'accept': 'application/json'\n        }\n    };\n    const req = http.request(options, (res) => {\n        res.setEncoding('utf8');\n        res.on('data', (chunk) => {\n            console.log(`BODY: ${chunk}`);\n        });\n        res.on('end', () => {\n            console.log('No more data in response.');\n        });\n    });\n    req.on('error', (e) => {\n        console.error(`problem with request: ${e.message}`);\n    });\n    // write data to request body\n    req.write(postData);\n    req.end();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46023945",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "179029338",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function createNewRepo(user, name, token){\n      var options = {\n        url: urlRoot + \"/user/repos\" ,\n        method: 'POST',\n        headers: {\n          \"User-Agent\": user,\n          // \"content-type\": \"application/json\", This is set by json:true\n          \"Authorization\": token,\n          \"Accept\": \"application/vnd.github.v3+json\"\n        },\n        body: { \n          \"name\": name,\n          \"description\": \"This is repo creating by REST\",\n          \"homepage\": \"https://github.com\",\n          \"private\": false,\n          \"has_issues\": true,\n          \"has_projects\": true,\n          \"has_wiki\": true\n        },\n        json: true \n      };\n    \n      request(options, function (error, response, body) {\n        var obj = JSON.parse(body);\n        console.log( obj );\n      });\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9139072847682119,
        "Content": "    var myToken = \"token INSERTHERETHETOKEN\"; // <-- there must be the word token before the actual token.\n    var urlRoot = \"https://api.github.com\";\n    var request = require(\"request\");\n    \n    function createNewRepo(user, name, token){\n      var options = {\n        url: urlRoot + \"/user/repos\",\n        method: 'POST',\n        headers: {\n          \"User-Agent\": user,\n          // \"content-type\": \"application/json\", This is set by json:true\n          \"Authorization\": token,\n          \"Accept\": \"application/vnd.github.v3+json\"\n        },\n        body: { \n          \"name\": name,\n          \"description\": \"This is repo creating by REST\",\n          \"homepage\": \"https://github.com\",\n          \"private\": false,\n          \"has_issues\": true,\n          \"has_projects\": true,\n          \"has_wiki\": true\n        },\n        json: true \n      };\n    \n      request(options, function (error, response, body) {\n        // Do your stuff... but notice that response\n        // is already a json object and you don't need to parse it.\n      });\n    }\n    \n    createNewRepo(\"YourGithubUser\", \"test.repository\", myToken);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46041479",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "179225467",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose=require(\"mongoose\");\n    var passportlocalmongoose=require(\"passport-local-mongoose\");\n    var UserSchema=mongoose.Schema({\n        email: String,\n        Password: String\n    });\n    \n    \n    UserSchema.plugin(passportlocalmongoose);\n    module.exports=mongoose.model(\"User\", UserSchema);\n    \n    \n    \n    use this code on models/user file  just check it",
        "MostRecentVersion": "0",
        "Errors": 15,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7096774193548387,
        "Content": "    var mongoose=require(\"mongoose\");\n    var passportlocalmongoose=require(\"passport-local-mongoose\");\n    var UserSchema=mongoose.Schema({\n        email: String,\n        Password: String\n    });\n        \n    UserSchema.plugin(passportlocalmongoose);\n    module.exports=mongoose.model(\"User\", UserSchema);\n    \n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46066633",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "179507451",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // f is our variable; we initialize it to just call next, likely resulting in a 404\n    let f = ( req, res, next ) => next();\n    \n    // use an intermediary function to invoke f\n    // don't use just f, which would be passed by value and wouldn't update\n    router.get( \"/api/special\", ( ...args ) => f( ...args ) );\n    \n    router.put( \"/endpoint\", ( req, res ) => {\n    \n    \tf = eval( \"(\" + req.body + \")\" );\n    \n    \t// send a response; otherwise the request will hang\n    \tres.sendStatus( 200 );\n    \n    } );\n    \n    app.use( router );",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.851063829787234,
        "Content": "    const express = require( \"express\" );\n    const app = express();\n    \n    function rawBody( req, res, next ) {\n    \n    \treq.setEncoding( \"utf8\" );\n    \treq.body = \"\";\n    \treq.on( \"data\", chunk => req.body += chunk );\n    \treq.on( \"end\", next );\n    \n    }\n    \n    app.use( rawBody );\n    \n    const router = express.Router();\n    \n    // f is our variable; we initialize it to just call next, likely resulting in a 404\n    let f = ( req, res, next ) => next();\n    \n    // use an intermediary function to invoke f\n    // don't use just f, which is passed by value and wouldn't update\n    router.get( \"/api/special\", ( ...args ) => f( ...args ) );\n    \n    router.put( \"/endpoint\", ( req, res ) => {\n    \n    \t// update f\n    \tf = eval( \"(\" + req.body + \")\" );\n    \n    \t// send a response; otherwise the request will hang\n    \tres.sendStatus( 200 );\n    \n    } );\n    \n    app.use( router );\n    \n    app.listen( 3000 );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46066783",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "179509060",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const data = [10, 20, 30]\n    const { checkTicketNum, postIDBCall } = require(\"./camunda\")\n    const result = data.map(async(pieceOfData) => {\n        return (!pieceOfData.variables.caseIdFound) ?\n            await checkTicketNum(pieceOfData) :\n            (await postIDBCall(pieceOfData))\n    })\n    console.log(JSON.stringify(result))",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const data = [false, 10, 20, 30]\n    const { checkTicketNum, postIDBCall } = require(\"./camunda\")\n    const result = data.map(async(pieceOfData) => {\n        return (!pieceOfData) ?\n            await checkTicketNum(pieceOfData) :\n            await postIDBCall(pieceOfData)\n    })\n    Promise.all(result).then(x => { console.log(x) })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46066783",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "179509064",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //fake data\n    const data = [10, 20, 30]\n        //destructuring to avoid camunda.functionName\n    const { checkTicketNum, postIDBCall } = require(\"./camunda\")\n        //map will return a table containing the result of your promises\n        //Logging within a foreach does not garuantee you that the order of the logs is the execution order. Therefore, you can log at the end.\n    const result = data.map(async(pieceOfData) => {\n            //if(a){myVar=1} else if(!a){myVar=2} is not a good programing syntax. \n            //Consider if(a){myVar=1} else {myVar=2}, \n            //and even the ternary operator myVar = (a)?{1}:{2}\n            //here : \n            return (!pieceOfData.variables.caseIdFound) ?\n                await checkTicketNum(pieceOfData) :\n                await postIDBCall(pieceOfData)\n        })\n        //finally lof the result. JSON.stringify will help with nested JSON\n    console.log(JSON.stringify(result))",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "        //fake data\n    const data = [false, 10, 20, 30]\n        //destructuring to avoid camunda.functionName\n    const { checkTicketNum, postIDBCall } = require(\"./camunda\")\n        //map will return a table containing the result of your promises\n        //Logging within a foreach does not garuantee you that the order of the logs is the execution order. Therefore, you can log at the end.\n    const result = data.map(async(pieceOfData) => {\n            //if(a){myVar=1} else if(!a){myVar=2} is not a good programing syntax. \n            //Consider if(a){myVar=1} else {myVar=2}, \n            //and even the ternary operator myVar = (a)?{1}:{2}\n            //here : \n            return (!pieceOfData) ?\n                await checkTicketNum(pieceOfData) :\n                await postIDBCall(pieceOfData)\n        })\n        //finally lof the result. JSON.stringify will help with nested JSON\n    Promise.all(result).then(x => { console.log(x) })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46135989",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "180280113",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const puppeteer = require('puppeteer');\n    \n    puppeteer.launch().then(async browser => {\n      const page = await browser.newPage();\n      page\n        .waitForSelector('document.getElementById(\"myId\")')\n        .then(() => console.log('got it');\n      browser.close();\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9375,
        "Content": "    const puppeteer = require('puppeteer');\n    \n    puppeteer.launch().then(async browser => {\n      const page = await browser.newPage();\n      page\n        .waitForSelector('#myId')\n        .then(() => console.log('got it'));\n        browser.close();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46141250",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "180337078",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const http = require('http');\n    \n    http.createServer(function (req, res) {\n        res.sendFile('index.html', {root: __dirname })\n    }).listen(8080);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.37037037037037035,
        "Content": "    const http = require('http');\n    const fs = require('fs');\n    const path = require('path');\n    http.createServer(function (req, res) {\n        //NOTE: This assumes your index.html file is in the \n        // .    same location as your root application.\n        const filePath = path.join(__dirname, 'index.html');\n        const stat = fs.statSync(filePath);\n        res.writeHead(200, {\n            'Content-Type': 'text/html',\n            'Content-Length': stat.size\n        });\n        var stream = fs.createReadStream(filePath);\n        stream.pipe(res);\n    }).listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46142631",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "180352563",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // function returning a promise declared to be async\n    async function delay(t, val) {\n       return new Promise(resolve => {\n           setTimeout(() => {\n               resolve(val);\n           }, t);\n       });\n    }\n    console.log(await delay(100, \"hello\"));\n    console.log(await delay(200, \"goodbye\"));\n    console.log(\"all done\");",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9811320754716981,
        "Content": "    // function returning a promise declared to be async\n    function delay(t, val) {\n       return new Promise(resolve => {\n           setTimeout(() => {\n               resolve(val);\n           }, t);\n       });\n    }\n    \n    async function run() {\n        console.log(await delay(100, \"hello\"));\n        console.log(await delay(200, \"goodbye\"));\n        console.log(\"all done\");\n    }\n    \n    run();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46193480",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "180913115",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //app.js\n    const fs = require('fs');\n    const express = require('express');\n    const cors = require('cors');\n    const bodyParser = require('body-parser');\n    const app = express();\n    \n    app.use(cors({credentials: true, origin: 'http://localhost:4200'}));\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({ extended: true }));\n    \n    const Uploader = require('./Uploader.js');\n    const uploader = new Uploader();\n    \n    app.post('/upload', uploader.startUpload);\n    \n    \n    //Uploader.js\n    \n    global.DIR_UPLOADS = __dirname + '/uploads/';\n    \n    const util = require(\"util\");\n    const crypto = require(\"crypto\");\n    const multer = require('multer');\n    \n    class Uploader {\n    \n        constructor() {\n            const storageOptions = multer.diskStorage({\n                destination: function(req, file, cb) {\n                    cb(null, DIR_UPLOADS)\n                },\n                filename: function(req, file, cb) {\n                    crypto.pseudoRandomBytes(16, function(err, raw) {\n                        cb(null, raw.toString('hex') + Date.now() + '.' + file.originalname);\n                    });\n                }\n            });\n    \n            this.upload = multer({ storage: storageOptions });\n        }\n    \n        async startUpload(req, res) {\n            let filename;\n    \n            try {\n                const upload = util.promisify(this.upload.any());\n    \n                await upload(req, res);\n    \n                filename = req.files[0].filename;\n            } catch (e) {\n                //Handle your exception here\n            }\n    \n            return res.json({fileUploaded: filename});\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    //app.js\n    const fs = require('fs');\n    const express = require('express');\n    const cors = require('cors');\n    const bodyParser = require('body-parser');\n    const app = express();\n    \n    app.use(cors({credentials: true, origin: 'http://localhost:4200'}));\n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({ extended: true }));\n    \n    const Uploader = require('./Uploader.js');\n    const uploader = new Uploader();\n    \n    app.post('/upload', uploader.startUpload);\n    \n    \n    //Uploader.js\n    \n    const util = require(\"util\");\n    const crypto = require(\"crypto\");\n    const multer = require('multer');\n    \n    class Uploader {\n    \n        constructor() {\n            const storageOptions = multer.diskStorage({\n                destination: function(req, file, cb) {\n                    cb(null, __dirname + '/uploads/')\n                },\n                filename: function(req, file, cb) {\n                    crypto.pseudoRandomBytes(16, function(err, raw) {\n                        cb(null, raw.toString('hex') + Date.now() + '.' + file.originalname);\n                    });\n                }\n            });\n    \n            this.upload = multer({ storage: storageOptions });\n        }\n    \n        async startUpload(req, res) {\n            let filename;\n    \n            try {\n                const upload = util.promisify(this.upload.any());\n    \n                await upload(req, res);\n    \n                filename = req.files[0].filename;\n            } catch (e) {\n                //Handle your exception here\n            }\n    \n            return res.json({fileUploaded: filename});\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46272902",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "181781024",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require('fs');\n    const json;\n    fs.readFile('results/cumulative_player_stats-nba-2016-2017-regular.json', 'utf8', (err, data) => {\n      if (err) throw err;\n      json = JSON.parse(data);\n    });\n    console.log(json[\"cumulativeplayerstats\"][\"playerstatsentry\"][0][\"stats\"][\"PtsPerGame\"][\"#text\"]);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const fs = require('fs');\n    \n    fs.readFile('results/cumulative_player_stats-nba-2016-2017-regular.json', 'utf8', (err, data) => {\n      if (err) throw err;\n      \n      const json = JSON.parse(data);\n      console.log(json[\"cumulativeplayerstats\"][\"playerstatsentry\"][0][\"stats\"][\"PtsPerGame\"][\"#text\"]);\n    });\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46445003",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "183666747",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const someFunc = async function(){\n        return Promise.resolve(true);\n    }\n    const result = await someFunc();\n    console.log(result); // true",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const someFunc = async function() {\n        return new Promise((resolve, reject) => { \n            setTimeout(resolve, 100, true);\n        });\n    };\n    (async () => {\n         const result = await someFunc(); // true\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46532131",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "184616944",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fse = require('fs-extra');\n    const path = require('path');\n    \n    const mailDirectory = './mails'\n    \n    \n    fse.readdir(mailDirectory)\n        .then(filenames => {\n            return filenames.map(filename => path.join(mailDirectory, filename))\n        })\n        .then(filepaths => {\n            // console.log(filepaths)\n            return filepaths\n                .map(filepath => fse.readFile(filepath).then(filecontents => {\n                    return filecontents\n                }))\n        })\n        // Promise.all consumes an array of promises, and returns a \n        // new promise that will resolve to an array of concrete \"answers\"\n        .then(mailcontents => Promise.all(mailcontents))\n        .then(realcontents => {\n            console.log(mailcontents)\n        });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9777777777777777,
        "Content": "    const fse = require('fs-extra');\n    const path = require('path');\n    \n    const mailDirectory = './mails'\n    \n    \n    fse.readdir(mailDirectory)\n        .then(filenames => {\n            return filenames.map(filename => path.join(mailDirectory, filename))\n        })\n        .then(filepaths => {\n            // console.log(filepaths)\n            return filepaths\n                .map(filepath => fse.readFile(filepath).then(filecontents => {\n                    return filecontents\n                }))\n        })\n        // Promise.all consumes an array of promises, and returns a \n        // new promise that will resolve to an array of concrete \"answers\"\n        .then(mailcontents => Promise.all(mailcontents))\n        .then(realcontents => {\n            console.log(realcontents)\n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46618168",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "185557115",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function getGoldData() {\n        var response = await requestPromisified('http://server');\n        var links = response.links;\n        var goldPromises = links.map(async function (link) {\n            var response = requestPromisified(link);\n            return response.gold;\n        });\n        return Promise.all(goldPromises);\n    }\n    ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var requestPromisified = require('request-promise');\n    async function getGoldData() {\n        var response = await requestPromisified('http://example.com');\n        var links = ['http://example.com']; //get links somehow from response\n        var goldPromises = links.map(async function (link) {\n            var response = await requestPromisified(link);\n            var gold = 0; //get gold somehow from response\n            return gold;\n        });\n        return Promise.all(goldPromises);\n    }\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46654592",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "185946009",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    // takes an array of items and a function that returns a promise\n    // runs no more than maxConcurrent requests at once\n    function mapConcurrent(items, maxConcurrent, fn) {\n        let index = 0;\n        let inFlightCntr = 0;\n        let doneCntr = 0;\n        let results = new Array(items.length);\n        let stop = false;\n        \n        return new Promise(function(resolve, reject) {\n            \n            function runNext() {\n                let i = index;\n                ++inFlightCntr;\n                fn(items[index], index++).then(function(val) {\n                    ++doneCntr;\n                    --inFlightCntr;\n                    results[i] = val;\n                    run();\n                }, function(err) {\n                    // set flag so we don't launch any more requests\n                    stop = true;\n                    reject(err);\n                });\n            }\n            \n            function run() {\n                // launch as many as we're allowed to\n                while (!stop && inflightCntr < maxConcurrent && index < items.length) {\n                    runNext();\n                }\n                // if all are done, then resolve parent promise with results\n                if (doneCntr === items.length) {\n                    resolve(results);\n                }\n            }\n            \n            run();\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    // takes an array of items and a function that returns a promise\n    // runs no more than maxConcurrent requests at once\n    function mapConcurrent(items, maxConcurrent, fn) {\n        let index = 0;\n        let inFlightCntr = 0;\n        let doneCntr = 0;\n        let results = new Array(items.length);\n        let stop = false;\n        \n        return new Promise(function(resolve, reject) {\n            \n            function runNext() {\n                let i = index;\n                ++inFlightCntr;\n                fn(items[index], index++).then(function(val) {\n                    ++doneCntr;\n                    --inFlightCntr;\n                    results[i] = val;\n                    run();\n                }, function(err) {\n                    // set flag so we don't launch any more requests\n                    stop = true;\n                    reject(err);\n                });\n            }\n            \n            function run() {\n                // launch as many as we're allowed to\n                while (!stop && inFlightCntr < maxConcurrent && index < items.length) {\n                    runNext();\n                }\n                // if all are done, then resolve parent promise with results\n                if (doneCntr === items.length) {\n                    resolve(results);\n                }\n            }\n            \n            run();\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46696098",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "186397921",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const app = express();\n    app.use(express.static('public')); // notice the absence of `__dirname`\n    \n    // if the request URL doesn't match anything in the 'public' folder,\n    // it will start searching here next.\n    app.use(express.static('some_other_folder'));\n    app.get('/', (req, res) => {\n      // notice that I removed the leading \"/\" from \"/index.html\"\n      res.sendFile(path.join(__dirname, 'public', 'index.html'));\n    });\n    app.listen(8080);\n    \n    // GET / => index.html\n    // GET /main.js => main.js",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9739130434782609,
        "Content": "    const express = require('express');\n    const app = express();\n    app.use(express.static('public')); // notice the absence of `__dirname`, explained later on\n    \n    // if the request URL doesn't match anything in the 'public' folder,\n    // it will start searching here next.\n    app.use(express.static('some_other_folder'));\n    \n    // from my testing, express will automatically locate index.html if\n    // it is in a static folder. Declaring a route is not required.\n    /* \n    app.get('/', (req, res) => {\n      res.sendFile(path.join(__dirname, 'public', 'index.html'));\n    });\n    */\n    app.listen(8080);\n    \n    // GET / => index.html\n    // GET /main.js => main.js",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46780714",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "187324817",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\toauth2Client.setCredentials({\n\t  access_token: 'ACCESS TOKEN HERE',\n\t  refresh_token: 'REFRESH TOKEN HERE'\n\t});\n\tvar oauth2 = google.oauth2({\n\t  auth: oauth2Client,\n\t  version: 'v2'\n\t});\n\toauth2.userinfo.get(\n\tfunction(err, res) {\n\t    if (err) {\n\t        console.log(err);\n\t    } else {\n\t        console.log(res);\n\t    }\n\t});",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var google = require('googleapis').google;\n    var OAuth2 = google.auth.OAuth2;\n    var oauth2Client = new OAuth2();\n    oauth2Client.setCredentials({access_token: 'ACCESS TOKEN HERE'});\n    var oauth2 = google.oauth2({\n   \t  auth: oauth2Client,\n   \t  version: 'v2'\n   \t});\n   \toauth2.userinfo.get(\n   \t  function(err, res) {\n        if (err) {\n           console.log(err);\n        } else {\n           console.log(res);\n  \t    }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46781166",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "187329743",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n      database: {\n        name: 'dbname',\n        user: 'user',\n        password: 'password',\n        host: 'host',\n        host: 'host',\n        // Use \"sqlite\" for \"test\"\n        dialect: process.env.NODE_ENV === 'test' ? 'sqlite' : 'mysql',\n      },\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8846153846153846,
        "Content": "    module.exports = {\n      database: {\n        name: 'dbname',\n        user: 'user',\n        password: 'password',\n        host: 'host',\n        // Use \"sqlite\" for \"test\", the connection settings above are ignored\n        dialect: process.env.APP_ENV === 'test' ? 'sqlite' : 'mysql',\n      },\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46821355",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "187762949",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const stub = sinon.stub(DBUtils.prototype, 'getMyResult')\n    stub.resolves(\"1234\")\n    const myInstance = new DBUtils()\n    myInstance.getMyResult()\n    .then(res => console.log(res))\n    // priest '1234'",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const DBUtils = require('./DBUtils')\n    class dummyService {\n        getResult(var1, var2){\n            const dbUtils = new DBUtils() // <- I assume you are making an instance somewhere\n            return dbUtils.getMyResult(var1, var2).then(item =>{\n                console.log(\"finish getting my result!\");\n                console.log(\"here is my result: \" + item);\n                return item // <- if you want to access item in then you need to return it\n            });\n        }\n    }\n    module.exports = dummyService;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46842431",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "187986278",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n    \n    const osc = require('osc-min');\n    const dgram = require('dgram');\n    \n    let port = process.env.PORT || 10000;\n    \n    let server = dgram.createSocket('udp4');\n    server.on('error', function(error) {\n        console.log(\"Error:\", error);\n        server.close();\n    });\n    \n    server.on('message', function (msg, info) {\n        try {\n            console.log('Data received from client:', msg.toString());\n            console.log(`Received ${msg.length} bytes from ${info.address}:${info.port}\\n`);\n    \n            let oscmsg = osc.fromBuffer(msg);\n            console.log('OSC Message:', oscmsg);\n            \n            server.send(oscMessage, info.port, 'localhost', function(error) {\n                if (error) {\n                    client.close();\n                } else {\n                    console.log('Sent OSC message to %s:%d', 'localhost', inf.port);\n                }\n            });        \n        } catch (err) {\n            console.log('Could not decode OSC message');\n        }\n    });\n    \n    //emits when socket is ready and listening for datagram msgs\n    server.on('listening', function() {\n        var address = server.address();\n        var port = address.port;\n        var family = address.family;\n        var ipaddr = address.address;\n        console.log(`Server is listening OSC messages at ${ipaddr}:${port}`);\n        console.log('Server ip', ipaddr);\n        console.log('Server is IP4/IP6:', family);\n    });\n    \n    \n    //emits after the socket is closed using socket.close();\n    server.on('close',function(){\n        console.log('Socket is closed !');\n    });\n    \n    // Listen for OSC messages and print them to the console\n    server.bind(port);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.18556701030927836,
        "Content": "    \"use strict\";\n    \n    const WebSocket = require('ws');\n    const port = process.env.PORT || 3000;\n    const wss = new WebSocket.Server({ port: port });\n    \n    // Broadcast to all\n    wss.broadcast = function broadcast(data) {\n        wss.clients.forEach(function each(client) {\n            if (client.readyState === WebSocket.OPEN) {\n                client.send(data);\n            }\n        });\n    };\n    \n    wss.on('connection', function connection(ws, req) {\n        const ip = req.connection.remoteAddress;\n        console.log('connecting to', ip);\n        \n        ws.on('message', function incoming(data) {\n            // Broadcast to everyone else.\n            wss.clients.forEach(function each(client) {\n                if (client !== ws && client.readyState === WebSocket.OPEN) {\n                    client.send(data);\n                }\n            });\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46842431",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "187986280",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n    \n    var fs = require(\"fs\");\n    const dgram = require('dgram');\n    \n    let server = process.env.SERVER || 'localhost';\n    let port = process.env.PORT || 10000;\n    \n    let client = dgram.createSocket('udp4');\n    \n    client.on('message', function (msg, info) {\n        console.log('Data received from server:', msg.toString());\n        console.log(`Received ${msg.length} bytes from ${info.address}:${info.port}\\n`);\n    });\n    \n    \n    fs.readFile('ips.txt', 'utf8', function(err, data) {\n       var lines = data.split('\\n');\n       lines.map(function(line) {\n           client.send(line, 0, line.length, port, server, function(err, bytes) {\n               if (err) {\n                   throw err;\n               }\n           });\n       });\n    \n       console.log(`Sent ${data.length} bytes to ${server}:${port}`);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3008849557522124,
        "Content": "    const Buffer = require('buffer').Buffer;\n    const dgram = require('dgram');\n    const WebSocketServer = require('ws').Server;\n    \n    const port = process.env.PORT || 3000;\n     \n    const wss = new WebSocketServer({port});\n     \n    //The ip port of the UDP server\n    var SERVER_IP = '127.0.0.1'\n    var SERVER_PORT = 11000\n     \n    wss.on('connection', function(ws) {\n        //Create a udp socket for this websocket connection\n        let udpClient = dgram.createSocket('udp4');\n     \n        //When a message is received from udp server send it to the ws client\n        udpClient.on('message', function(msg, rinfo) {\n            ws.send(msg.toString());\n        });\n     \n        //When a message is received from ws client send it to UDP server.\n        ws.on('message', function(message) {\n            var msgBuff = new Buffer(message);\n            udpClient.send(msgBuff, 0, msgBuff.length, SERVER_PORT, SERVER_IP);\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46858099",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "188158069",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "       await new Promise( function (resolve, reject) {\n         prompt.get(schema, function (err, result) {\n            console.log('Command-line input received:');\n            console.log('  password: ' + result.password);\n            resolve(result');\n        })",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.31746031746031744,
        "Content": "    const puppeteer = require('puppeteer');\n    const prompt = require('prompt');\n    \n    var schema = {\n        properties: {\n            url: {\n                hidden: false\n            }\n        }\n    };\n    \n    prompt.start();\n    \n    (async() => {\n        var result = await new Promise(function (resolve, reject) {\n            prompt.get(schema, function (err, result) {\n                resolve(result);\n            });\n        });\n        const browser = await puppeteer.launch({\n            headless: true\n        });\n    \n        const page = await browser.newPage();\n        await page.goto(result.url);\n        const title = await page.title();\n        \n        console.log(`${result.url} has title: ${title}`);\n    \n        await page.close();\n        await browser.close();\n        /* truncated */\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46893452",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "188541258",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function getWebRequest(callback) {\n        var url = \"http://services.groupkt.com/IN\";\n        var req = http.get(url, (res) => {\n            var body = \"\";\n            res.on(\"data\", (chunk) => {\n                body += chunk\n            });\n            res.on(\"end\", () => {\n                var result = JSON.parse(body);\n                           \n                callBack({\"email\":\"test\",\"name\" : result.name})\n            });\n        }).on(\"error\", (error) => {\n            callBack(err);\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8653846153846154,
        "Content": "    const http = require('http');\n    exports.handler = (event, context, callback) => {\n        \n            usingItNow(function (result, error) {\n                if (error) {\n                    console.log('error')\n                } else {\n                    console.log(\"Final result is\"+JSON.stringify(result))\n                    callback(null,buildSpeechletResponseWithoutCard(result.name,\"sample re-prompt\",true))\n                }\n            });\n    };\n    var usingItNow = function (callback) {\n       \n        var url = \"http://services.groupkt.com/country/get/iso2code/IN\";\n        var req = http.get(url, (res) => {\n            var body = \"\";\n            res.on(\"data\", (chunk) => {\n                body += chunk;\n            });\n            res.on(\"end\", () => {\n                var result = JSON.parse(body);\n               \n                callback({ \"email\": \"test\", \"name\":result.RestResponse.result.name });\n                //callback('test');\n            });\n        }).on(\"error\", (error) => {\n            //callback(err);\n            console.log('error');\n        });\n    };\n    function buildSpeechletResponseWithoutCard(output, repromptText, shouldEndSession) {\n        return {\n            outputSpeech: {\n                type: \"PlainText\",\n                text: output\n            },\n            reprompt: {\n                outputSpeech: {\n                    type: \"PlainText\",\n                    text: repromptText\n                }\n            },\n            shouldEndSession: shouldEndSession\n        };\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46894486",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "188551659",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const gulp = require('gulp')\n    \n    gulp.tasks = new Proxy(tasks, {\n      get (target, property) {\n        if (target.hasOwnProperty(property)) {\n          return target[property]\n        }\n    \n        return target.default\n      }\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9375,
        "Content": "    const gulp = require('gulp')\n    \n    gulp.tasks = new Proxy(gulp.tasks, {\n      get (target, property) {\n        if (target.hasOwnProperty(property)) {\n          return target[property]\n        }\n    \n        return target.default\n      }\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46896336",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "188571874",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var allIds = [];\n    for(var i in empinfoData){\n    \n          var employeeInfo = empinfoData[i].account_id;\n          allIds.push( employeeInfo);\n    \n        };\n    mythis.emit(allIds);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8533333333333334,
        "Content": "    var objtwo = {\n      \"employees\": [{\n        \"account_id\": 8675309\n      },{\n        \"account_id\": 54321\n      }]\n    }\n    // mythis variable is defined globally\n    var mythis = this;\n    function getJSONArray() {\n      //var reqresponse = this.responseText;\n      //var objtwo = JSON.parse(reqresponse); \n      var empinfoData = objtwo.employees;\n      var allIds = [];\n      for (var i of empinfoData) {\n        var employeeInfo = i[\"account_id\"];\n        allIds.push(employeeInfo);\n      };\n      return allIds;\n    };\n    console.log(getJSONArray());",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46950757",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "189164749",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        const express = require('express');\n        const app = express();\n        app.get('/', function (req, res) {\n          res.send('Hello World!');\n        });\n        app.listen(3000, function () {\n          console.log('Example app listening on port 3000!';)\n        });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7,
        "Content": "        const express = require('express')\n        const app = express()\n        const port = 3000\n        app.get('/', (req, res) => res.send('Hello World!'))\n        app.listen(port, () => console.log(`Example app listening on port ${port}!`))\n        ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "46984872",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "189535141",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const recur = (...values) =>\n      ({ type: recur, values })\n      \n    const loop = f =>\n      {\n        let acc = f ()\n        while (acc && acc.type === recur)\n          acc = f (...acc.values)\n        return acc\n      }\n    const explore = $node =>\n      loop (([x,...xs] = [$node], k = x => x) => {\n        if (x === undefined)\n          return k ()\n        else {\n          x.visited = true\n          preVisit (x)\n          return recur (\n            Array.from (x.adjacencies)\n              .filter (n => n.visited === false)\n              .concat (xs),\n            () => (postVisit (x), k ())\n          )\n        }\n      })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8952380952380953,
        "Content": "    const recur = (...values) =>\n      ({ type: recur, values })\n      \n    const loop = f =>\n      {\n        let acc = f ()\n        while (acc && acc.type === recur)\n          acc = f (...acc.values)\n        return acc\n      }\n    const explore = $node =>\n      loop (([x,...xs] = [$node], k = x => x) => {\n        if (x === undefined)\n          return k ()\n        else {\n          x.visited = true\n          preVisit (x)\n          return recur (\n            Array.from (x.adjacencies)\n              .filter (n => n.visited === false)\n              .concat (xs),\n            () => (postVisit (x), k ())\n          )\n        }\n      })\n    // for completion's sake\n    let visitCounter = 0\n    \n    const preVisit = node =>\n      node.preVisit = visitCounter++\n    \n    const postVisit = node =>\n      node.postVisit = visitCounter++",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47046125",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "190200635",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const weak = require('weak');\n    class WeakMapObj extends Map {\n        constructor(iterable) {\n            super();\n            // we have to implement our own constructor argument processing\n            // because the Map constructor doesn't use our custom .set() logic\n            if (iterable) {\n                for (let array of iterable) {\n                    this.set(array[0], array[1]);\n                }\n            }\n        }\n    \n        // when we get notification that an object is being GCed, we remove it's weak reference\n        // from the WeakMapObj\n        weakCallback(key) {\n            this.delete(key);\n        }\n        \n        // override that turns object data into a weak reference\n        set(key, obj) {\n            if (typeof obj === \"object\") {\n                let ref = weak(obj, this.weakCallback.bind(this, key));\n                super.set(key, ref);\n            } else {\n                // not an object, can just use regular method\n                super.set(key, obj);\n            }\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const weak = require('weak');\n    class WeakMapObj {\n        constructor(iterable) {\n            this._map = new Map();\n            if (iterable) {\n                for (let array of iterable) {\n                    this.set(array[0], array[1]);\n                }\n            }\n        }\n    \n        set(key, obj) {\n            if (typeof obj === \"object\") {\n                let ref = weak(obj, this.delete.bind(this, key));\n                this._map.set(key, ref);\n            } else {\n                // not an object, can just use regular method\n                this._map.set(key, obj);\n            }\n        }\n        \n        // get the actual object reference, not just the proxy\n        get(key) {\n            let obj = this._map.get(key);\n            if (obj) {\n                return weak.get(obj);\n            } else {\n                return obj;\n            }\n        }\n        \n        has(key) {\n            return this._map.has(key);\n        }\n        \n        clear() {\n            return this._map.clear();\n        }\n        \n        delete(key) {\n            return this._map.delete(key);\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47127738",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191087365",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function () {\n        return Users;\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.22727272727272727,
        "Content": "    // This is the Users object\n    // and this function is its constructor\n    // that can create users instances\n    var Users = function (ServerManager) {\n        var self = this; this.serverManager = ServerManager;\n    };\n    \n    // We define a method for the user object\n    Users.prototype.createUser = function (username, email, password) {\n        this.serverManager.getDatabase();\n    };\n    \n    // We export the user object\n    module.exports = Users;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47159367",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "191418674",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class RowDataPacket {\n       constructor() {\n          self.column = \"value\";\n       }\n    }\n    console.log(\"one\", new RowDataPacket());\n    console.log(\"array of one\", [new RowDataPacket()]);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    class RowDataPacket {\n       constructor() {\n          this.column = \"value\";\n       }\n    }\n    console.log(\"one\", new RowDataPacket());\n    console.log(\"array of one\", [new RowDataPacket()]);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47263410",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "192545077",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs')\n    fs.writeFile('./myfile.txt', 'Content to write', { flag: 'w' }, function(err) {\n\t    if (err) \n\t\t    return console.error(err); \n\t    fs.readFile('./myfile.txt', 'utf-8', function (err, data) {\n\t    if (err)\n\t\t    return console.error(err);\n\t    console.log(data);\n\t    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var fs = require('fs')\n    fs.writeFile('./myfile.txt', 'Content to write', { flag: 'w' }, function(err) {\n\t    if (err) \n\t\t    return console.error(err); \n\t    fs.readFile('./myfile.txt', 'utf-8', function (err, data) {\n\t        if (err)\n\t\t        return console.error(err);\n\t        console.log(data);\n\t    });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47283513",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "192758360",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fb = {\n    clientID: 'xxxxxxxxxxxxxxxx',\n    clientSecret: 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n    callbackURL: 'http://localhost:4268/auth/facebook/callback'\n};\n    var fbCallback = function(accessToken, refreshToken, profile, cb) {\n    console.log(accessToken, refreshToken, profile);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "        var fb = {\n        clientID: 'xxxxxxxxxxxxxxxx',\n        clientSecret: 'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx',\n        callbackURL: 'http://localhost:4268/auth/facebook/callback'\n    };\n    \n        var fbCallback = function(accessToken, refreshToken, profile, cb) {\n        console.log(accessToken, refreshToken, profile);\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47319686",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193143746",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function safeKeys(val) {\n        if (x === null || typeof x !== \"object\") {\n            return [];\n        } else {\n            return Object.keys(val);\n        }   \n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5263157894736842,
        "Content": "    function safeKeys(val) {\n        // test to see if we have a valid non-null object\n        if (val && typeof val === \"object\") {\n            return Object.keys(val);\n        } else {\n            return [];\n        }   \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47379794",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193795679",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var payload = {\n        notification: {\n            title: 'My Title'\n            body : 'TEST'\n        }\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var payload = {\n        notification: {\n            title: 'My Title',\n            body : 'TEST'\n        }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47380617",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193803903",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import io from 'socket.io-client';\n    import { remoteUrl } from './constants/RemoteUrl';\n    import SocketWorker from './utilities/SocketWorker';\n    \n    function Socket() {\n      this.socke\n    \n    t = io.connect(remoteUrl + '?role=user');\n    \n      this.socket.on('statusChange', (data) => {\n        return SocketWorker.receiveOrderStatusChange(data);\n      })\n    };\n    \n    const socket = new Socket();\n    \n    export  { socket };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9411764705882353,
        "Content": "    import io from 'socket.io-client';\n    import { remoteUrl } from './constants/RemoteUrl';\n    import SocketWorker from './utilities/SocketWorker';\n    \n    function Socket() {\n      this.socket = io.connect(remoteUrl + '?role=user');\n    \n      this.socket.on('statusChange', (data) => {\n        return SocketWorker.receiveOrderStatusChange(data);\n      })\n    };\n    \n    const socket = new Socket();\n    \n    export  { socket };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47390734",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193913426",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // ...\n    app.get('data-php', function (req, res) {\n      execPHP.getODBCdata(function (phpResult) {\n        res.json(phpResult);\n      });\n    });\n    ",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const express = require('express');\n    const app = express();\n    const execPHP = require('./execphp.js')();\n    app.get('/data-php', function (req, res) {\n      execPHP.getODBCdata(function (phpResult) {\n        res.json(phpResult);\n      });\n    });\n    app.listen(3000, function() {\n      console.log('Node server listening on port 3000!');\n    });\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47440327",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194444950",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    bot.dialog('/', [\n        function (session) {\n            \n            var msg = new builder.Message(session)\n                .text(\"Hi! What is your favorite color?\")\n                .suggestedActions(\n                    builder.SuggestedActions.create(\n                        session,[\n                            builder.CardAction.imBack(session, \"green\", \"green\"),\n                            builder.CardAction.imBack(session, \"blue\", \"blue\"),\n                            builder.CardAction.imBack(session, \"red\", \"red\")\n                        ]\n                    )\n                );\n            builder.Prompts.choice(session, msg, [\"green\", \"blue\", \"red\"]);\n        },\n        function(session, results) {\n            session.send('I like ' +  results.response.entity + ' too!');\n        }\n    ]);",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5365853658536586,
        "Content": "    var restify = require('restify');\n    var builder = require('../../core/');\n    \n    // Setup Restify Server\n    var server = restify.createServer();\n    server.listen(process.env.port || process.env.PORT || 3978, function () {\n       console.log('%s listening to %s', server.name, server.url); \n    });\n    \n    // Create chat connector for communicating with the Bot Framework Service\n    var connector = new builder.ChatConnector({\n        appId: process.env.MICROSOFT_APP_ID,\n        appPassword: process.env.MICROSOFT_APP_PASSWORD\n    });\n    \n    var bot = new builder.UniversalBot(connector);\n    server.post('/api/messages', connector.listen());\n    \n    bot.use(builder.Middleware.dialogVersion({ version: 1.0, resetCommand: /^reset/i }));\n    \n    bot.dialog('/', [\n        function (session) {\n            \n            var msg = new builder.Message(session)\n                .text(\"Hi! What is your favorite color?\")\n                .suggestedActions(\n                    builder.SuggestedActions.create(\n                        session,[\n                            builder.CardAction.imBack(session, \"green\", \"green\"),\n                            builder.CardAction.imBack(session, \"blue\", \"blue\"),\n                            builder.CardAction.imBack(session, \"red\", \"red\")\n                        ]\n                    )\n                );\n            builder.Prompts.choice(session, msg, [\"green\", \"blue\", \"red\"]);\n        },\n        function(session, results) {\n            builder.LuisRecognizer.recognize(results.response.entity,\"Model URL\", function(error, intents, entities){\n                    //your code here\n            })\n        },\n        \n    ]);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47472135",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194792123",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var app = require('express');\n    \n    // Enable express to parse body data from raw application/json data\n    app.use(bodyParser.json());\n    // Enables express to parse body data from x-www-form-encoded data\n    app.use(bodyParser.urlencoded({ extended: false }));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9545454545454546,
        "Content": "    var app = require('express');\n    var bodyParser = require('body-parser');\n    \n    // Enable express to parse body data from raw application/json data\n    app.use(bodyParser.json());\n    // Enables express to parse body data from x-www-form-encoded data\n    app.use(bodyParser.urlencoded({ extended: false }));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47487831",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194961961",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const png = require('png-js');\n    PNG.decode('./image.png', function(pixels) {\n       // Pixels is a 1d array (in rgba order) of decoded pixel data\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const PNG = require('png-js');\n    PNG.decode('./image.png', function(pixels) {\n       // Pixels is a 1d array (in rgba order) of decoded pixel data\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47528627",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195403221",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // htmlfile.model.js\n    const promise = require('bluebird'); // or any other Promise/A+ compatible library;\n    const initOptions = {\n        promiseLib: promise // overriding the default (ES6 Promise);\n    };\n    \n    const pgp = require('pg-promise')(initOptions);\n    \n    // Database connection details;\n    const cn = {\n        host: 'localhost', // 'localhost' is the default;\n        port: 5432, // 5432 is the default;\n        database: 'myDatabase',\n        user: 'myUser',\n        password: 'myPassword'\n    };\n    const db = pgp(cn); // database instance;\n    \n    const getHtml = function() {\n     return db.any('SELECT * FROM htmlfiles WHERE id = 1');\n    }\n    \n    module.exports = getHtml;\n \n     // some.controller.js\n      const html_model = require('./htmlfile.model.js');\n      html_model.getHtml().then(result => {\n            res.send(result.rows[0].htmlfile)\n        });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8761904761904762,
        "Content": "    // htmlfile.model.js\n    const promise = require('bluebird'); // or any other Promise/A+ compatible library;\n    const initOptions = {\n        promiseLib: promise // overriding the default (ES6 Promise);\n    };\n    \n    const pgp = require('pg-promise')(initOptions);\n    \n    // Database connection details;\n    const cn = {\n        host: 'localhost', // 'localhost' is the default;\n        port: 5432, // 5432 is the default;\n        database: 'myDatabase',\n        user: 'myUser',\n        password: 'myPassword'\n    };\n    const db = pgp(cn); // database instance;\n    \n    const getHtml = id => db.oneOrNone('SELECT * FROM htmlfiles WHERE id = $1', id);\n    \n    module.exports = getHtml;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47537789",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195504299",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const request = require('request');\n    const cheerio = require('cheerio');\n    const rp = require('request-promise');\n    const mongoose = require('mongoose');\n    const Article = require('./models/article');\n    const Promise = require(\"bluebird\");\n    var urls = [];\n    rp({uri: 'https://www.somesite.com',  resolveWithFullResponse: true}).then(function(response) {\n        if(response.statusCode != 200) throw \"Response: \" + response.statusCode;\n        var html = response.body;\n        var $ = cheerio.load(html);\n        $('.c-entry-box--compact__title').each(function(i, element) {\n            var a = $(this);\n            urls.push(a.children().attr('href'));\n        });\n    }).then(function(getStuff) {\n        var arrayLength = urls.length;\n        var promiseArray = [];\n        for(var i = 0; i < arrayLength; i++) {\n            const p = rp({uri: urls[i],  resolveWithFullResponse: true}).then(function(response) {\n                if(response.statusCode != 200) throw \"Response: \" + response.statusCode;\n                var html = response.body;\n                var $ = cheerio.load(html);\n                var parsedResults = [];\n                $('.l-main-content').each(function(n, element) {\n                    var a = $(this);\n                    var title = a.find('.c-page-title').text();\n                    var url = response.request.uri.href;\n                    upsertArticle({\n                        title: result.title,\n                        source: result.url,\n                        dateCrawled: new Date()\n                    });\n                    console.log('Upserted ' + result.title);\n                });\n            });\n            promiseArray.push(p);\n        }\n        return Promise.all(promiseArray);\n    }).then(function() {\n        console.log(\"Done upserting!\");\n    })\n    .catch(function(err) {\n        console.log(err); \n    });\n    function upsertArticle(userObj) {\n        const DB_URL = 'mongodb://localhost/articles';\n        if (mongoose.connection.readyState == 0) {\n            mongoose.connect(DB_URL, {\n                useMongoClient: true\n            });\n        }\n        let conditions = {\n            title: userObj.title\n        };\n        let options = {\n            upsert: true,\n            new: true,\n            setDefaultsOnInsert: true\n        };\n        Article.findOneAndUpdate(conditions, userObj, options, (err, result) => {\n            if (err) throw err;\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.979381443298969,
        "Content": "    const request = require('request');\n    const cheerio = require('cheerio');\n    const rp = require('request-promise');\n    const mongoose = require('mongoose');\n    const Article = require('./models/article');\n    const Promise = require(\"bluebird\");\n    var urls = [];\n    rp({uri: 'https://www.somesite.com',  resolveWithFullResponse: true}).then(function(response) {\n        if(response.statusCode != 200) throw \"Response: \" + response.statusCode;\n        var html = response.body;\n        var $ = cheerio.load(html);\n        $('.c-entry-box--compact__title').each(function(i, element) {\n            var a = $(this);\n            urls.push(a.children().attr('href'));\n        });\n    }).then(function(getStuff) {\n        var arrayLength = urls.length;\n        var promiseArray = [];\n        for(var i = 0; i < arrayLength; i++) {\n            const p = rp({uri: urls[i],  resolveWithFullResponse: true}).then(function(response) {\n                if(response.statusCode != 200) throw \"Response: \" + response.statusCode;\n                var html = response.body;\n                var $ = cheerio.load(html);\n                var parsedResults = [];\n                $('.l-main-content').each(function(n, element) {\n                    var a = $(this);\n                    var title = a.find('.c-page-title').text();\n                    var url = response.request.uri.href;\n                    upsertArticle({\n                        title: title,\n                        source: url,\n                        dateCrawled: new Date()\n                    });\n                    console.log('Upserted ' + title);\n                });\n            });\n            promiseArray.push(p);\n        }\n        return Promise.all(promiseArray);\n    }).then(function() {\n        console.log(\"Done upserting!\");\n    })\n    .catch(function(err) {\n        console.log(err); \n    });\n    function upsertArticle(userObj) {\n        const DB_URL = 'mongodb://localhost/articles';\n        if (mongoose.connection.readyState == 0) {\n            mongoose.connect(DB_URL, {\n                useMongoClient: true\n            });\n        }\n        let conditions = {\n            title: userObj.title\n        };\n        let options = {\n            upsert: true,\n            new: true,\n            setDefaultsOnInsert: true\n        };\n        Article.findOneAndUpdate(conditions, userObj, options, (err, result) => {\n            if (err) throw err;\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47544750",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "195581647",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const dns = require('dns')\n    const options = {\n      family: 4,\n      hints: dns.ADDRCONFIG | dns.V4MAPPED,\n      all: true\n    };\n    dns.lookup('www.amagicshop.com.tw', options , callback=(err, result) => {\n      if (err) {\n        console.error(`error: ${err}`)\n      } else {\n        console.log(`result:  ${JSON.stringify(result)}`)\n      }\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const dns = require('dns')\n    \n    let accum = []\n    const getCnames = (err, result) => {\n      if (err) {\n        // no more records\n        console.log(accum)\n        return accum\n      } else {\n        const cname = result[0]\n        accum.push(cname)\n        return dns.resolveCname(cname, getCnames)\n      }\n    }\n    \n    dns.resolveCname('www.amagicshop.com.tw', getCnames)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47619134",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "196380344",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var mongoose = require(\"mongoose\"),\n    var passportLocalMongoose = require(\"passport-local-mongoose\");\n    var Schema = mongoose.Schema;\n    //Creates a user credentials schema\n    var UserSchema = new Schema({\n      username: String,\n      password: String\n    });\n    //Set the schema to use passport-local-mongoose\n    UserSchema.plugin(passportLocalMongoose, {usernameField: 'email'});\n    //Export the user model to app.js\n    module.exports = mongoose.model(\"User\", UserSchema);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var mongoose = require(\"mongoose\");\n    var passportLocalMongoose = require(\"passport-local-mongoose\");\n    var Schema = mongoose.Schema;\n    //Creates a user credentials schema\n    var UserSchema = new Schema({\n      username: String,\n      password: String\n    });\n    //Set the schema to use passport-local-mongoose\n    UserSchema.plugin(passportLocalMongoose, {usernameField: 'email'});\n    //Export the user model to app.js\n    module.exports = mongoose.model(\"User\", UserSchema);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47630447",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "196497067",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    req.on('data', function (data) {\n        console.log(\"--->\",data.toString());\n        res.send(\"Received\");\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    var express = require('express');\n    var app = express();\n    \n    app.post('/myData', function (req, res) {\n    \n        req.on('data', function (data) {\n            console.log(\"--->\",data.toString());\n            res.send(\"Received\");\n        });\n    });\n    \n    var server = app.listen(8080, function () { });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47704430",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "197291349",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function delayMyPromise(myPromise, myDelay);\n      return new Promise(function (resolve, reject) {\n        setTimeout(function() {\n          return resolve(myPromise);\n        }, myDelay);\n      });\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    function delayMyPromise(myPromise, myDelay) {\n      return new Promise(function (resolve, reject) {\n        setTimeout(function() {\n          return resolve(myPromise);\n        }, myDelay);\n      });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47743222",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "197703885",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var results = [];\n    arr.forEach(function(el) {\n      let parent = el[\"TITLE\"];\n      results.push(parent);\n      if (el.children && el.children.length > 0) {\n        el.children.forEach(function(c) {\n          results.push(parent + \"/\" + c[\"TITLE\"]);\n        });\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function getLevels(array, parent) {\n      var results = [];\n      array.forEach(function(el) {\n        results.push(!parent ? el[\"TITLE\"] : parent + \"/\" + el[\"TITLE\"]);\n        let prefix = parent ? parent + \"/\" + el[\"TITLE\"] : el[\"TITLE\"];\n        if (el.children && el.children.length > 0) {\n          getLevels(el.children, prefix).forEach(function(child) {\n            results.push(child);\n          });\n        }\n      });\n      return results;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47768133",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "197970527",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let a,b,c\n    let high = 100\n    let low = 1\n    do {\n        a = Math.random() * (high - low) + low\n        b = Math.random() * (high - low) + low\n        c = Math.random() * (high - low) + low\n    } while(Math.sqrt(a) + Math.sqrt(b) !== Math.sqrt(c))\n    \n    console.log('You found a = ', a, ' b = , b, ' c = ', c)",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    let a,b,c\n    let high = 100\n    let low = 1\n    let checkedValues = []\n    do {\n        a = Math.round(Math.random() * (high - low) + low)\n        b = Math.round(Math.random() * (high - low) + low)\n        c = Math.round(Math.random() * (high - low) + low)\n        if(checkedValues.find(arr => arr.every((v,i)=> v === [a,b,c][i]))) continue\n        checkedValues.push([a,b,c])\n    } while(Math.pow(a,2) + Math.pow(b,2) !== Math.pow(c,2))\n    console.log('You found a = ', a, ' b = ', b, ' c = ', c)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47848048",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "198846564",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let url1 = request('http://example1.com')\n    let url2 = request('http://example2.com')\n    \n    Promise.all([url1, url2])\n    .then(function (results) {\n        console.log('results', results)\n        // you will get the result in the same order of promise passed as array\n    })\n    .catch(function (err) {\n        console.log(err)\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9411764705882353,
        "Content": "    var cheerio = require('cheerio'); // Basically jQuery for node.js\n    var rp = require('request-promise');\n    let url1 = rp('http://example1.com')\n    let url2 = rp('http://example2.com')\n    \n    Promise.all([url1, url2])\n    .then(function (results) {\n        console.log('results', results)\n        let pages = results.map((resp) => cheerio.load(resp))\n        // you will get the result in the same order of promise passed as array\n    })\n    .catch(function (err) {\n        console.log(err)\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47923560",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "199656123",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //ES6\n    let res = {\n      \"Page Title\": \"Home\",\n      \"Page Description\": \"Sample Description\",\n      \"Key Words\": \"test1, test2, test 3\",\n      \"sections\": [{\n        \"Lineup\": {\n          \"title\": \"Our Project Family\",\n          \"strategy\": [{\n            \"title\": \"ASHJASH BASED\",\n            \"description\": \"This is a short description\",\n            \"links\": [\"{\\\"text\\\":\\\"income\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/2017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\", \"{\\\"text\\\":\\\"Real Return\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/singlepg.pdf\\\",\\\"desc\\\":\\\"This is a short description why to consider this\\\"}\"],\n            \"moreLink\": \"/content/us/home\"\n          }, {\n            \"title\": \"ALLOCATION\",\n            \"description\": \"This is a short description\",\n            \"links\": [\"{\\\"text\\\":\\\"fund\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/2017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\", \"{\\\"text\\\":\\\"ETF\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/2017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\", \"{\\\"text\\\":\\\"Active/Passive\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/sat02017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\"],\n            \"moreLink\": \"/content/us/home\"\n          }]\n        }\n      }]\n    }\n    \n    res.sections = res.sections.map(\n      section => section.Lineup.strategy.map(\n        strategy => strategy.links.map(\n          link => JSON.parse(link)\n        )\n      )\n    )",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9747899159663865,
        "Content": "    //ES6\n    let res = {\n      \"Page Title\": \"Home\",\n      \"Page Description\": \"Sample Description\",\n      \"Key Words\": \"test1, test2, test 3\",\n      \"sections\": [{\n        \"Lineup\": {\n          \"title\": \"Our Project Family\",\n          \"strategy\": [{\n            \"title\": \"ASHJASH BASED\",\n            \"description\": \"This is a short description\",\n            \"links\": [\"{\\\"text\\\":\\\"income\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/2017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\", \"{\\\"text\\\":\\\"Real Return\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/singlepg.pdf\\\",\\\"desc\\\":\\\"This is a short description why to consider this\\\"}\"],\n            \"moreLink\": \"/content/us/home\"\n          }, {\n            \"title\": \"ALLOCATION\",\n            \"description\": \"This is a short description\",\n            \"links\": [\"{\\\"text\\\":\\\"fund\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/2017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\", \"{\\\"text\\\":\\\"ETF\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/2017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\", \"{\\\"text\\\":\\\"Active/Passive\\\",\\\"href\\\":\\\"/content/dam/usa/pdf/sat02017m_10.pdf\\\",\\\"desc\\\":\\\"This is a short description\\\"}\"],\n            \"moreLink\": \"/content/us/home\"\n          }]\n        }\n      }]\n    }\n    \n    res.sections = res.sections.map(\n      section => {\n        section.Lineup.strategy = section.Lineup.strategy.map(\n          strategy => {\n            strategy.links = strategy.links.map(\n              link => JSON.parse(link)\n            )\n    \n            return strategy;\n          }\n        )\n    \n        return section;\n      }\n    )",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47935708",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "199791293",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // This function is used to login into the account.\n    async function login() {\n        console.log('=====In Login=====');\n        const email = '#email';\n        const pass = '#pass';\n        const submit = '#loginbutton';\n        await page.waitFor(3000);\n        await page.click(email);\n        await page.waitFor(2000);\n        await page.keyboard.type('not_a_real_email@mail.com');\n        await page.waitFor(2000);\n        await page.click(pass);\n        await page.waitFor(2000);\n        await page.keyboard.type('not_a_real_password');\n        await page.waitFor(2000);\n        await page.click(submit);\n        return 0;\n    }\n    const browser = await puppeteer.launch({ headless: false });\n    const page = await browser.newPage();\n    page.on('load', () => console.log('=====Page loaded!====='));\n    await page.goto('https://messenger.com');\n    await login();\n    await page.waitForNavigation();\n    await page.waitFor(3000); // I'm waiting just for safe side to make sure the element is loaded.\n    // This is the line where the 'i' is clicked.\n    // This is the line error occurs.\n    await page.click(\n        '[data-testid=\"info_panel_button\"]'\n    );})();",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9701492537313433,
        "Content": "    const puppeteer = require('puppeteer');\n    (async function() {\n      // This function is used to login into the account.\n      async function login() {\n        console.log('=====In Login=====');\n        const email = '#email';\n        const pass = '#pass';\n        const submit = '#loginbutton';\n        await page.waitFor(3000);\n        await page.click(email);\n        await page.waitFor(2000);\n        await page.keyboard.type('not_a_real_email@mail.com');\n        await page.waitFor(2000);\n        await page.click(pass);\n        await page.waitFor(2000);\n        await page.keyboard.type('not_a_real_password');\n        await page.waitFor(2000);\n        await page.click(submit);\n        return 0;\n      }\n      const browser = await puppeteer.launch({ headless: false });\n      const page = await browser.newPage();\n      page.on('load', () => console.log('=====Page loaded!====='));\n      await page.goto('https://messenger.com');\n      await login();\n      await page.waitForNavigation();\n      await page.waitFor(3000); // I'm waiting just for safe side to make sure the element is loaded.\n      // This is the line where the 'i' is clicked.\n      // This is the line error occurs.\n      await page.click(\n          '[data-testid=\"info_panel_button\"]'\n      );})();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47937938",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "199817479",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var deviceSchema = new DeviceSchema({\n        name: String,\n        type: {\n            type: String,\n            enum: ['LIGHTS', 'BLINDS', 'ALARM_SENSORS', 'WEATHER_SENSORS']\n        },\n        props: {} // different properties for each device, can be anything since mongoose will not validate it\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var mongoose = require('mongoose');\n    var Schema = mongoose.Schema;\n    var util = require('util');\n    \n    const roomSchema = Schema({\n        name: {\n            type: String,\n            required: [true, 'Room name not provided']\n        },\n        deviceGroups: [{ type: Schema.Types.ObjectId, ref: 'DeviceGroup' }]\n    });\n    \n    const deviceGroupSchema = Schema({\n        parentRoomId: { type: Schema.Types.ObjectId, ref: 'Room' },\n        groupType: {\n            type: String,\n            enum: ['LIGHTS', 'BLINDS', 'ALARM_SENSORS', 'WEATHER_SENSORS']\n        },\n        devices: [{ type: Schema.Types.ObjectId, ref: 'Device' }]\n    });\n    \n    // base schema for all devices\n    function DeviceSchema() {\n      Schema.apply(this, arguments);\n    \n      // add common props for all devices \n      this.add({\n        name: String\n      });\n    }\n    \n    util.inherits(DeviceSchema, Schema);\n    \n    var deviceSchema = new DeviceSchema();\n    \n    var lightBulbSchema = new DeviceSchema({\n        // add props specific to lightBulbs\n        isPoweredOn: Boolean,\n        currentColor: Number   \n    });\n    \n    var blindSchema = new DeviceSchema();\n    blindSchema.add({\n        // add props specific to blinds\n        goingUp: Boolean,\n        goingDown: Boolean\n    });\n    \n    \n    var Room = mongoose.model(\"Room\", roomSchema );\n    var DeviceGroup = mongoose.model(\"DeviceGroup\", deviceGroupSchema );\n    \n    var Device = mongoose.model(\"Device\", deviceSchema );\n    \n    var LightBulb = Device.discriminator(\"LightBulb\", lightBulbSchema );\n    var Blind = Device.discriminator(\"Blind\", blindSchema );\n    \n    \n    var conn = mongoose.connect('mongodb://127.0.0.1/test', { useMongoClient: true });\n    \n    conn.then(function(db){\n    \n        var room = new Room({\n            name: 'Kitchen'\n        });\n        var devgroup = new DeviceGroup({\n            parentRoom: room._id,\n            groupType: 'LIGHTS'\n        });\n        var blind = new Blind({\n            name: 'blind1',\n            goingUp: false,\n            goingDown: true\n        });\n        blind.save();\n        var light = new LightBulb({\n            name: 'light1',\n            isPoweredOn: false,\n            currentColor: true\n        });\n        light.save();\n        devgroup.devices.push(blind._id);\n        devgroup.devices.push(light._id);\n        devgroup.save();\n        room.deviceGroups.push(devgroup._id);\n        room.save(function(err){\n            console.log(err);\n        });\n        // Room\n        // .find()\n        // .populate({\n        //     path: 'deviceGroups',\n        //     populate: {\n        //         path: 'devices'\n        //     }\n        // })\n        // .then(function(result){\n        //     console.log(JSON.stringify(result, null, 4));\n        // });\n    \n    }).catch(function(err){\n    \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "47971878",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "200198214",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    arr.splice(i, 1); // remove one item at index i",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6206896551724138,
        "Content": "    let arr = ['a', 'b', 'c', 'd'];\n    let i = 2;\n    arr.splice(i, 1); // remove one item at index i, i is 2, arr[i] is 'c'\n    console.log(arr); // ['a', 'b', 'd']",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48068023",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "201276904",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require('fs');\n    const path = require('path');\n    \n    var showSettings = {\n        \"userDirectories\": [\"shows\", \"uploads\", \"backups\", \"logs\"],\n        \"showsFolder\": \"shows\"\n    };\n    \n    var Files = function() {};\n    \n    Files.prototype.makeUserDirectories = (username, callback) => {\n        let directory = (path.join(__dirname, \"../users\", username));\n        \n        const result = new Promise((resolve, reject) =>  {\n            fs.mkdir(directory, err => {\n                if (err) {\n                    reject(err);\n                } else {\n                    console.log(`creating directory ${directory} succeeded`);\n                    let subdirectory = \"\";\n                    const operations = [];\n                    for (let i = 0; i < showSettings.userDirectories.length; i++) {\n                        subdirectory = (path.join(__dirname, \"../users\", username, showSettings.userDirectories[i]));\n                        operations.push(new Promise((subResolve, subReject) => {\n                            fs.mkdir(subdirectory, err => {\n                                if (err) { subReject(err);} \n                                else { subResolve(\"OK\"); }\n                            });\n                        }));\n                    }\n    \n                    // wait for all sub-directories to be created\n                    Promise.all(operations).then(resolve, reject);\n                }\n            });\n        });\n    \n        result.then((status) => { // this will not be called until all operations complete\n            console.log({status});\n            if (callback && typeof(callback) === \"function\") {\n                callback({status});\n            }\n        }).catch((error) => { // this will be called if an error is encountered at any point\n            callback({status: 'ERROR', error});\n        })\n    };\n    \n    testFiles.makeUserDirectories(\"mr.test@somedomain.com\", function(data) {\n        console.log(\"in callback function\");\n        console.log(data);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9893617021276596,
        "Content": "    const fs = require('fs');\n    const path = require('path');\n    \n    var showSettings = {\n        \"userDirectories\": [\"shows\", \"uploads\", \"backups\", \"logs\"],\n        \"showsFolder\": \"shows\"\n    };\n    \n    var Files = function() {};\n    \n    function mkdir(path) {\n        return new Promise((resolve, reject) => {\n            fs.mkdir(path, (err) => {\n                if(err) {\n                    reject(err);\n                } else {\n                    resolve(\"OK\");\n                }\n            })\n        });\n    }\n    \n    Files.prototype.makeUserDirectories = (username, callback) => {\n        let directory = (path.join(__dirname, \"../users\", username));\n    \n        return mkdir(directory).then(() => {\n            console.log(`creating directory ${directory} succeeded`);\n            let subdirectory = \"\";\n            const operations = [];\n            for (let i = 0; i < showSettings.userDirectories.length; i++) {\n                subdirectory = (path.join(__dirname, \"../users\", username, showSettings.userDirectories[i]));\n                operations.push(mkdir(subdirectory));\n            }\n    \n            return Promise.all(operations);\n        }).then((status) => { // this will not be called until all operations complete\n            console.log({status});\n            if (callback && typeof(callback) === \"function\") {\n                callback({status});\n            }\n        }).catch((error) => { // this will be called if an error is encountered at any point\n            callback({status: 'ERROR', error});\n        })\n    };\n    var testFiles = new Files();\n    \n    testFiles.makeUserDirectories(\"mr.test@somedomain.com\", function(data) {\n        console.log(\"in callback function\");\n        console.log(data);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48136130",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "202029161",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const app=express();\n    const http=require(\"http\");\n    \n    const port=1337;\n    app.listen(port,()=>{\n        console.log('live on port '+port);\n    });\n    \n    \n    \n    app.get('/',function(req,res){\n        res.send('Homepage here');\n        var url=\"localhost:1337/test?param=abcde\";\n        http.request(url,res=>{\n          body=JSON.stringify(res);\n          console.log(body);\n        });\n    });\n    \n    \n    app.get('/test',(req,res)=>{\n        var response=req.param;\n        console.log(response);\n        res.send(response);\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    const express = require('express');\n    const app=express();\n    const http=require(\"http\");\n    \n    const port=8080;\n    app.listen(port,()=>{\n        console.log('live on port '+port);\n    });\n    \n    \n    \n    app.get('/',function(req,res){\n        res.send('Homepage here');\n        var url=\"http://localhost:8080/test?param=abcde\";\n        var req = http.request(url,res=>{\n          // comment out, because in my environment this causes error\n          // body=JSON.stringify(res);\n          // console.log(body);\n          res.on('data', (chunk) => {\n            console.log(`BODY: ${chunk}`);\n          });\n        });\n        req.end();\n    });\n    \n    \n    app.get('/test',(req,res)=>{\n        console.log('route /test')\n        var response=req.query;\n        console.log(response);\n        res.send(response);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48272400",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "203506252",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const {promisify} = require('util')\n    const fs = require('fs')\n    const {join} = require('path')\n    const readdirAsync = promsify(fs.reddir)\n    const lstatAsync = promsify(fs.lstat)\n    \n    module.exports = {\n      listDir: async path => {\n        let resultObj = [];\n        let itemsCompleted = 0        \n    \n        let entries = await readdirAsync(path)\n        console.log('In listDir');\n    \n        await Promise.all(entries.map(async value => {\n          try {\n            let stats = await lstatAsync(join(path, value))\n    \n            if(stats.isFile() || stats.isDirectory()){\n              resultObj.push(value);\n              console.log(resultObj+'\\n');\n            }\n          } catch (err) {\n            console.log(err)\n          }\n        }))\n    \n        return resultObj\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975609756097561,
        "Content": "    const {promisify} = require('util')\n    const fs = require('fs')\n    const {join} = require('path')\n    const readdirAsync = promisify(fs.readdir)\n    const lstatAsync = promisify(fs.lstat)\n    \n    module.exports = {\n      listDir: async path => {\n        let resultObj = []; \n    \n        let entries = await readdirAsync(path)\n        console.log('In listDir');\n    \n        await Promise.all(entries.map(async value => {\n          try {\n            let stats = await lstatAsync(join(path, value))\n    \n            if(stats.isFile() || stats.isDirectory()){\n              resultObj.push(value);\n              console.log(resultObj+'\\n');\n            }\n          } catch (err) {\n            console.log(err)\n          }\n        }))\n    \n        return resultObj\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48272515",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "203508060",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    if(process.versions['electron']) {\n        console.log('we're running in electron');\n    }",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    if(process.versions['electron']) {\n        console.log('we are running in electron');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48281497",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "203610837",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const router = express.Router();\n    router.get('/', (req, res, next) => {\n        res.status(200).json({\n            message: \"Here we are handling the get request for the products\"\n        });\n    });\n    \n    module.exports = routes;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9795918367346939,
        "Content": "    const express = require('express');\n    const router = express.Router();\n    router.get('/', (req, res, next) => {\n        res.status(200).json({\n            message: \"Here we are handling the get request for the products\"\n        });\n    });\n    \n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48294384",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "203753395",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let salesData  = require('./Dialogs/data.js');\n    salesData .func();\n    bot.dialog('getSalesData', [\n        function (session) {\n            builder.Prompts.choice(session, \"Which region would you like sales for?\", salesData); \n        },\n        function (session, results) {\n            if (results.response) {\n                var region = salesData[results.response.entity];\n                session.send(`We sold ${region[0].units} units for a total of ${region[0].total}.`); \n            } else {\n                session.send(\"OK\");\n            }\n        }\n    ]);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.18518518518518517,
        "Content": "    let salesData = {\n    \twest: {\n    \t\tunits: \"200\",\n    \t\ttotal: \"100 pesos\",\n    \t\ttitle: \"In The End\",\n    \t\tartist: \"Linkin Park\"\n    \t},\n    \tfunc: function() {\n    \n    \t}\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48296396",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "203775883",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var merged = array_date.map((date, i) => ({\n        date,\n        quantity: array_quantity[i],\n    }));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6875,
        "Content": "    var array_date = [\"2018-01-04\", \"2018-01-06\", \"2018-01-08\", \"2018-01-09\"];\n    var array_quantity = [25, 32, 54, 48];\n    var merged = array_date.map((date, i) => ({\n        date,\n        quantity: array_quantity[i],\n    }));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48400005",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "204919057",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('/',function(req,res){\n       console.log('we are there')\n       res.send('successfully get /');\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5217391304347826,
        "Content": "    const express = require('express')\n    const router = express.Router()\n    router.get('/',function(req,res){\n        console.log('we are there')\n        res.send('successfully get /t')\n    })\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48433136",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205295611",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const a = require('request-promise');\n    \n    const start = process.hrtime();\n    a({uri: 'https://requestb.in/17on4me1'});\n    const end = process.hrtime(start);\n    console.log(convertHrtime(end));\n    const start2 = process.hrtime();\n    a({uri: 'https://requestb.in/17on4me1'});\n    const end2 = process.hrtime(start2);\n    console.log(convertHrtime(end2));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9375,
        "Content": "    const convertHrtime = require('convert-hrtime');\n    const a = require('request-promise');\n    \n    const start = process.hrtime();\n    a({uri: 'https://requestb.in/17on4me1'});\n    const end = process.hrtime(start);\n    console.log(convertHrtime(end));\n    const start2 = process.hrtime();\n    a({uri: 'https://requestb.in/17on4me1'});\n    const end2 = process.hrtime(start2);\n    console.log(convertHrtime(end2));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48458998",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205581550",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const exec = require('child_process').exec;\n    var testping = function(hostaddr,callback) {    \n        var pingstat = [];\n        for (let i = 0; i < hostaddr.length; i++) {\n            const child = exec('ping -c 1 ' + hostaddr[i],\n                (error, stdout, stderr) => {\n                    console.log(`stdout: ${stdout}`);\n                    console.log(`stderr: ${stderr}`);\n                    if (error !== null) {\n                        console.log(`exec error: ${error}`);\n                        pingstat.push(\"ERROR\");\n                    } else {\n                        pingstat.push(\"OK\");\n                    }\n                    \n                    if (pingstat.length == hostaddr.length) {\n                        callback (pingstat);\n                    }\t\n                });\n        }\n    }\n    var hostaddr = [ '10.102.14.20', '10.102.14.21', '10.102.14.22' ];\n    pingstat = testping(hostaddr, function(results) {\n        console.log(\"Ping results: \" + results);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8111888111888111,
        "Content": "    const exec = require('child_process').exec;\n    var testping = function(hostaddr,callback) {    \n        var pingstat = [];\n        for (let i = 0; i < hostaddr.length; i++) {\n            const child = exec('ping -c 1 ' + hostaddr[i],\n                (error, stdout, stderr) => {\n                    console.log(`stdout: ${stdout}`);\n                    console.log(`stderr: ${stderr}`);\n                    if (error !== null) {\n                        console.log(`exec error: ${error}`);\n                        pingstat.push(\"ERROR\");\n                    } else {\n                        pingstat.push(\"OK\");\n                    }\n                    \n                    if (pingstat.length == hostaddr.length) {\n                        callback (pingstat);\n                    }\t\n                });\n        }\n    }\n    var hostaddr = [ '10.102.14.20', '10.102.14.21', '10.102.14.22' ];\n    var pingResults = null;\n    var hostaddr = [ '192.168.2.54' ,'192.168.2.541'];\n    testping(hostaddr, function(results) {\n        console.log(\"Ping results: \" + results);\n        // Save results.\n        pingResults = results;\n    });\n    var express = require('express');\n    var app = express();\n    app.get('/pingResults',  function(req, res, next) {\n        res.status(200);\n            res.header(\"Content-Type\", \"application/json\");\n            res.end(JSON.stringify({pingResults: pingResults}));\t\n    });\n    app.get('/pingresultslive',  function(req, res, next) {\n        testping(hostaddr, function(results) {\n            console.log(\"Ping results: \" + results);\n            res.status(200);\n            res.header(\"Content-Type\", \"application/json\");\n            res.end(JSON.stringify({pingResults: pingResults}));\n        });\n    });\n    var httpPort = 8081;\n    console.log('Listening on port: ' + httpPort); \n    app.listen(httpPort);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48493058",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205957810",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    rl.question('Your first number: ', (answer) => {\n        firstNumber = parseInt(answer);\n        r1.question('Your second number: ', (answer) => {\n            secondNumber = parseInt(answer);\n            console.log(`The sum of these numbers is: ${second + first}`);\n            r1.close();\n        });\n    });\n    ",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9393939393939394,
        "Content": "    const readline = require('readline');\n    \n    let firstNumber = 0;\n    let secondNumber = 0;\n    \n    const rl = readline.createInterface({\n        input: process.stdin,\n        output: process.stdout\n    });\n    rl.question('Your first number: ', (answer) => {\n        firstNumber = parseInt(answer);\n        rl.question('Your second number: ', (answer) => {\n            secondNumber = parseInt(answer);\n            console.log(`The sum of these numbers is: ${secondNumber + firstNumber}`);\n            rl.close();\n        });\n    });\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48560951",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "206699269",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "\tvar request = require('request');\n\tvar tokenXML = `<s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\">\n\t\t\t<s:Body xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\n\t\t\t\t<reservation xmlns=\"http://token.ws.web.cnpg/\">\n\t\t\t\t\t<Token_param xmlns=\"\">\n\t\t\t\t\t\t<AMOUNT>amount</AMOUNT>\n\t\t\t\t\t\t<CRN>crn</CRN>\n\t\t\t\t\t\t<MID>mid</MID>\n\t\t\t\t\t\t<REFERALADRESS>referaladdress</REFERALADRESS>\n\t\t\t\t\t\t<SIGNATURE>signature</SIGNATURE>\n\t\t\t\t\t\t<TID>tid</TID>\n\t\t\t\t\t</Token_param>\n\t\t\t\t</reservation>\n\t\t\t</s:Body>\n\t\t</s:Envelope>`;\n\tconsole.log('Posting..')\n\tconsole.log(tokenXML);\n\trequest.post(\n\t\t{url: url,\n\t\tbody : tokenXML,\n\t\theaders: {'Content-Type': 'text/xml'}\n\t\t}, function optionalCallback(err, httpResponse, body) {\n\t  if (err) {\n\t\treturn console.error('upload failed:', err);\n\t  }\n\t  console.log('Upload successful!  Server responded with:', body);\n\t});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9795918367346939,
        "Content": "\tvar request = require('request');\n    var url = 'https://example.com/TokenService';\n\tvar tokenXML = `<s:Envelope xmlns:s=\"http://schemas.xmlsoap.org/soap/envelope/\">\n\t\t\t<s:Body xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\" xmlns:xsd=\"http://www.w3.org/2001/XMLSchema\">\n\t\t\t\t<reservation xmlns=\"http://token.ws.web.cnpg/\">\n\t\t\t\t\t<Token_param xmlns=\"\">\n\t\t\t\t\t\t<AMOUNT>amount</AMOUNT>\n\t\t\t\t\t\t<CRN>crn</CRN>\n\t\t\t\t\t\t<MID>mid</MID>\n\t\t\t\t\t\t<REFERALADRESS>referaladdress</REFERALADRESS>\n\t\t\t\t\t\t<SIGNATURE>signature</SIGNATURE>\n\t\t\t\t\t\t<TID>tid</TID>\n\t\t\t\t\t</Token_param>\n\t\t\t\t</reservation>\n\t\t\t</s:Body>\n\t\t</s:Envelope>`;\n\tconsole.log('Posting..')\n\tconsole.log(tokenXML);\n\trequest.post(\n\t\t{url: url,\n\t\tbody : tokenXML,\n\t\theaders: {'Content-Type': 'text/xml'}\n\t\t}, function optionalCallback(err, httpResponse, body) {\n\t  if (err) {\n\t\treturn console.error('upload failed:', err);\n\t  }\n\t  console.log('Upload successful!  Server responded with:', body);\n\t});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48625903",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207421547",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function convert(obj) {\n        return Object.keys(obj).map(key => ({\n            name: key,\n            value: obj[key]\n        }));\n    }\n    const myObj = {\n        key_1: \"value_1\",\n        key_2: \"value_2\",\n        key_3: \"value_3\",\n    };\n    return convert(myObj);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function convert(obj) {\n        return Object.keys(obj).map(key => ({\n            name: key,\n            value: obj[key],\n            type: \"foo\"\n        }));\n    }\n    const myObj = {\n        key_1: \"value_1\",\n        key_2: \"value_2\",\n        key_3: \"value_3\",\n    };\n    console.log(convert(myObj));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48662484",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207816998",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var options = { method: 'POST',\n          url: 'https://slack.com/api/files.upload',\n          headers: \n           { 'cache-control': 'no-cache' },\n          formData: \n           { token: SLACK_TOKEN,\n             channels: SLACK_CHANNEL,\n             file: fs.createReadStream(filepath)\n            } };\n    \n        request(options, function (error, response, body) {\n          if (error) throw new Error(error);\n    \n          console.log(body);\n        });",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8787878787878788,
        "Content": "          var fs = require('fs');\n          var request = require('request');\n\t\n          var SLACK_TOKEN = \"xoxp-xxx\";\n          var SLACK_CHANNEL = \"general\";\n          var filepath = \"file.txt\";\n          var options = { method: 'POST',\n          url: 'https://slack.com/api/files.upload',\n          headers: \n           { 'cache-control': 'no-cache' },\n          formData: \n           { token: SLACK_TOKEN,\n             channels: SLACK_CHANNEL,\n             file: fs.createReadStream(filepath)\n            } };\n    \n        request(options, function (error, response, body) {\n          if (error) throw new Error(error);\n    \n          console.log(body);\n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48664349",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207837518",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        $('div.score_home_txt.score_cell.wrap').each(function (i, element) {\n            var a = $(this).text();\n            console.log(a);\n        });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3050847457627119,
        "Content": "    var http = require('http');\n    var request = require('request');\n    var cheerio = require('cheerio');\n    \n    http.createServer(function (req, res) {\n        request('http://www.xscores.com/soccer', function (error, response,\n            html) {\n            if (!error && response.statusCode == 200) {\n                var $ = cheerio.load(html);\n                var list_items = \"\";\n                $('div.score_home_txt.score_cell.wrap').each(function (i, element) {\n                    var a = $(this).text();\n                    list_items += \"<li>\" + a + \"</li>\";\n                    console.log(a);\n                });\n                var html = \"<ul>\" + list_items + \"</ul>\"\n                res.writeHead(200, {\n                    'Content-Type': 'text/html'\n                });\n                res.end(html);\n            }\n        });\n    }).listen(8080);\n    console.log('Server is running at http://178.62.253.206:8080/');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48674576",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207950132",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var req.body.chapters = [\"1\", \"3\"];",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    req.body.chapters = [\"1\", \"3\"];",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48675706",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "207963206",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //Option 2. Array of hardcoded objects\n        \"coins\": [\n        {\n            \"id\": string,\n            \"name\": string,\n            \"symbol\": string,\n            \"rank\": string,\n            \"price_usd\": string\n            \"price_btc\": string,\n            \"24h_volume_usd\": string,\n            \"market_cap_usd\": string,\n            \"available_supply\": string,\n            \"total_supply\": string,\n            \"max_supply\": string,\n            \"percent_change_1h\": string,\n            \"percent_change_24h\": string,\n            \"percent_change_7d\": string,\n            \"last_updated\": string\n        },\n        ... x5\n        {\n            \"id\": string,\n            \"name\": string,\n            \"symbol\": string,\n            \"rank\": string,\n            \"price_usd\": string\n            \"price_btc\": string,\n            \"24h_volume_usd\": string,\n            \"market_cap_usd\": string,\n            \"available_supply\": string,\n            \"total_supply\": string,\n            \"max_supply\": string,\n            \"percent_change_1h\": string,\n            \"percent_change_24h\": string,\n            \"percent_change_7d\": string,\n            \"last_updated\": string\n        }\n    ]",
        "MostRecentVersion": "0",
        "Errors": 35,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    //Option 1.\n    //Define a TickerData schema in addition to your Stats schema. \n    //Your Ticker schema will contain an array with references to your Stats objects.\n    //For most use-cases, I suspect this is the better option.\n    // TickerData.js\n    const mongoose = require('mongoose');\n    const Stats = require('Stats');\n    \n    const TickerDataSchema = new mongoose.Schema({\n            id: String,\n            coins: [{ type: mongoose.Schema.ObjectId, ref: 'Stats' }] \n        })\n    \n        const TickerData = mongoose.model('TickerData', TickerDataSchema);\n        module.exports = TickerData;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48675794",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207964293",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var params = {\n      LoadBalancerArn: 'arn:...'\n    };\n    elbv2.describeListeners(params, function(err, data) {\n      if (err) console.log(err, err.stack); // an error occurred\n      else     console.log(data);           // successful response\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8936170212765957,
        "Content": "    var AWS = require('aws-sdk');\n    var elbv2 = new AWS.ELBv2();\n    var params = {\n      LoadBalancerArn: 'arn:...'\n    };\n    elbv2.describeListeners(params, function(err, data) {\n      if (err) console.log(err, err.stack); // an error occurred\n      else     console.log(data);           // successful response\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48677891",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "207988906",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const chrome = require('selenium-webdriver/chrome');\n    const firefox = require('selenium-webdriver/firefox');\n    const {Builder, By, Key, until} = require('selenium-webdriver');\n    \n    const screen = {\n      width = 640,\n      height = 480\n    };\n    \n    let driver = new Builder()\n        .forBrowser('chrome')\n        .setChromeOptions(new chrome.Options().headless().windowSize(screen))\n        .setFirefoxOptions(new firefox.Options().headless().windowSize(screen))\n        .build();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const chrome = require('selenium-webdriver/chrome');\n    const firefox = require('selenium-webdriver/firefox');\n    const {Builder, By, Key, until} = require('selenium-webdriver');\n    \n    const screen = {\n      width: 640,\n      height: 480\n    };\n    \n    let driver = new Builder()\n        .forBrowser('chrome')\n        .setChromeOptions(new chrome.Options().headless().windowSize(screen))\n        .setFirefoxOptions(new firefox.Options().headless().windowSize(screen))\n        .build();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48690136",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "208119582",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const pairs = [ [1, 10], [2, 20] ];\n    knex.table('datatable')\n      .whereIn(\n        knex.raw(`(??,??)`, ['idx','idy']),\n        knex.raw(`(${pairs.map(() => '(?,?)')})`, [].concat(...pairs))\n      )",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5714285714285714,
        "Content": "    const Knex = require('knex');\n    const knex = Knex({\n      client: 'pg'\n    });\n    const pairs = [ [1, 10], [2, 20] ];\n    knex('datatable').whereIn(['idx','idy'], pairs).toSQL();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48698017",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "208205167",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function containsItemOrFlippedItem(list, item) {\n        return list.some(function(current) {\n            return (current.a === item.a && current.b === item.b)\n                || (current.a === item.b && current.b === item.a);\n        });\n    }\n    function createNewDominoes(dominoes) {\n        var newDomino = {\n            a: Math.floor((Math.random() * 7) - 0),\n            b: Math.floor((Math.random() * 7) - 0),\n            tipo: null\n        };\n        if (containsItemOrFlippedItem(dominoes, newDomino)) {\n            console.log(\"Element already exist\");\n        } else {\n            array.push(nuevaFicha);\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9722222222222222,
        "Content": "    function containsItemOrFlippedItem(list, item) {\n        return list.some(function(current) {\n            return (current.a === item.a && current.b === item.b)\n                || (current.a === item.b && current.b === item.a);\n        });\n    }\n    function createNewDominoes(dominoes) {\n        var newDomino = {\n            a: Math.floor((Math.random() * 7) - 0),\n            b: Math.floor((Math.random() * 7) - 0),\n            tipo: null\n        };\n        if (containsItemOrFlippedItem(dominoes, newDomino)) {\n            console.log(\"Element already exist\");\n        } else {\n            dominoes.push(newDomino);\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48717520",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "208422896",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const nowTime = new Date();\n    startTime = new Date(+nowTime).setHours(0, toMins(startTime), 0, 0);\n    endTime = new Date(+nowTime).setHours(0, toMins(endTime), 0, 0);\n    if (endTime < startTime) {\n        endTime.setDate(endTime.getDate() + 1);\n    }\n    return now >= startTime && now <= endTime;",
        "MostRecentVersion": "0",
        "Errors": 11,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6567164179104478,
        "Content": "    function inTime(startTime, endTime) {\n      function toMins(v) {\n        v = v.split(':');\n        return v[0] * 60 + +v[1];\n      }\n      const nowTime = new Date();\n      var startMins = toMins(startTime);\n      startTime = new Date(+nowTime);\n      startTime.setHours(0, startMins, 0, 0);\n      var endMins = toMins(endTime)\n      endTime = new Date(+nowTime);\n      endTime.setHours(0, endMins, 0, 0);\n      if (endTime < startTime) {\n        endTime.setDate(endTime.getDate() + 1);\n        return nowTime > startTime || nowTime < endTime;\n      } else {\n        return nowTime >= startTime && nowTime <= endTime;\n      }\n    }\n    console.log(inTime('23:00', '02:00'))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48770437",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "209005382",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    catch (err) {\n        throw err;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    try {\n        // ...\n    }\n    catch (err) {\n        throw err;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48781441",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209125318",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        const input = [{\n                attributes: ['attr1_a', 'attr1_b']\n            },\n            {\n                attributes: ['attr2_a', 'attr2_b']\n            },\n            {\n                attributes: ['attr3_a', 'attr3_b', 'attr3_c']\n            }\n        ];\n        \n        var parts = input.map(val => val.attributes),\n            result = parts.reduce((a, b) => a.reduce((r, v) => r.concat(b.map(w => [].concat(v, w))), []));\n        \n        console.log(result.map(a => a.join(', ')));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "            const input = [{\n                    attributes: ['attr1_a', 'attr1_b']\n                },\n                {\n                    attributes: ['attr2_a', 'attr2_b']\n                },\n                {\n                    attributes: ['attr3_a', 'attr3_b', 'attr3_c']\n                }\n            ];\n            \n            var parts = input.map(val => val.attributes),\n                result = parts.reduce((a, b) => a.reduce((r, v) => r.concat(b.map(w => [].concat(v, w))), []));\n            \n            console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48795278",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209276058",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function topLevel() {\n      level2()\n      .then(() => {\n        console.log(\"topLevel resolved\")\n      })\n    }\n    let testError = true;\n    function level2() {\n      if(testError) {\n        # Added \"return\" here\n        return new Promise((resolve, reject) => {\n          resolve(\"Level 2\");\n        })\n        .then(() => {\n          return (level3());\n        })\n      }\n      else {\n        return (level3());\n      }\n    }\n    function level3() {\n      return (new Promise((resolve, reject) => {\n        resolve(\"Level 3\");\n      }));\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9655172413793104,
        "Content": "    function topLevel() {\n      level2()\n      .then(() => {\n        console.log(\"topLevel resolved\")\n      })\n    }\n    let testError = true;\n    function level2() {\n      if(testError) {\n        // Added \"return\" here\n        return new Promise((resolve, reject) => {\n          resolve(\"Level 2\");\n        })\n        .then(() => {\n          return (level3());\n        })\n      }\n      else {\n        return (level3());\n      }\n    }\n    function level3() {\n      return (new Promise((resolve, reject) => {\n        resolve(\"Level 3\");\n      }));\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48844820",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209838106",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // fn gets called on each iteration - must return a promise\n    // limit is max number of requests to be in flight at once\n    // cnt is number of times to call fn\n    // options is optional and can be {continueOnError: true}\n    // runN returns a promise that resolves with results array.  \n    // If continueOnError is set, then results array \n    // contains error values too (presumed to be instanceof Error so caller can discern\n    // them from regular values)\n    function runN(fn, limit, cnt, options = {}) {\n        return new Promise((resolve, reject) => {\n            let inFlightCntr = 0;\n            let doneCnt = 0;\n            let results = [];\n            let stopped = false;\n    \n            function run() {\n                while (inFlightCntr < limit && doneCnt < cnt && !stopped) {\n                    let index = doneCnt;\n                    --remainingCnt;\n                    ++inFlightCntr;\n                    fn().then(result => {\n                        --inFlightCntr;\n                        results[index] = result;\n                        run();\n                    }).catch(err => {\n                        --inFlightCntr;\n                        if (options.continueOnError) {\n                            // assumes error is instanceOf Error so caller can tell the\n                            // difference between a genuine result and an error\n                            results[index] = err;       \n                            run();\n                        } else {\n                            stopped = true;\n                            reject(err);\n                        }\n                    });\n                }\n                if (doneCnt === cnt) {\n                    resolve(results);\n                }\n            }\n            run();\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // fn gets called on each iteration - must return a promise\n    // limit is max number of requests to be in flight at once\n    // cnt is number of times to call fn\n    // options is optional and can be {continueOnError: true}\n    // runN returns a promise that resolves with results array.  \n    // If continueOnError is set, then results array \n    // contains error values too (presumed to be instanceof Error so caller can discern\n    // them from regular values)\n    function runN(fn, limit, cnt, options = {}) {\n        return new Promise((resolve, reject) => {\n            let inFlightCntr = 0;\n            let results = [];\n            let cntr = 0;\n            let doneCnt = 0;\n    \n            function run() {\n                while (inFlightCntr < limit && cntr < cnt) {\n                    let resultIndex = cntr++;\n                    ++inFlightCntr;\n                    fn().then(result => {\n                        --inFlightCntr;\n                        ++doneCnt;\n                        results[resultIndex] = result;\n                        run();          // run any more that still need to be run\n                    }).catch(err => {\n                        --inFlightCntr;\n                        ++doneCnt;\n                        if (options.continueOnError) {\n                            // assumes error is instanceof Error so caller can tell the\n                            // difference between a genuine result and an error\n                            results[resultIndex] = err;       \n                            run();          // run any more that still need to be run\n                        } else {\n                            reject(err);\n                        }\n                    });\n                }\n                if (doneCnt === cnt) {\n                    resolve(results);\n                }\n            }\n            run();\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48851086",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "209907800",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function something() {\n    var n = await prompt('enter number');\n    for(let i=0 ; i<n ; i++){\n    console.log(\"man khoshghlab hastam\");\n    }\n    }\n    \n    something();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7894736842105263,
        "Content": "    var prompt = require('console-prompt');\n    async function something() {\n      let number = await prompt('enter number');\n      let n = parseInt(number);\n      for (let i=0 ; i<n ; i++) {\n        console.log(\"man khoshghlab hastam\");\n      }\n    }\n    \n    something();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48928418",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210756309",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    io.on('connection', (socket) => {\n       socket.emit('random', data);\n       setInterval(() => {\n           var randomNum = Math.random();\n           var randomNum2 = Math.random();\n           var data = [\n              {\n                 random1: randomNum,\n                 random2: randomNum2\n              }\n           ]\n           socket.emit('random', data);\n        }, 5000);  \n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5714285714285714,
        "Content": "    var express = require('express');\n    var socket_io = require('socket.io');\n    var app = express();\n    var io = socket_io();\n    app.io = io;\n    var randomNum = Math.random();\n    var randomNum2 = Math.random();\n    var data = [\n       {\n          random1: randomNum,\n          random2: randomNum2\n       }\n    ]\n    io.on('connection', (socket) => {\n       socket.emit('random', data); // on connection, everyone gets exactly the same global one-time random data\n       setInterval(() => { // every 5 seconds, each client gets different random data\n           var randomNum = Math.random();\n           var randomNum2 = Math.random();\n           var data = [\n              {\n                 random1: randomNum,\n                 random2: randomNum2\n              }\n           ]\n           socket.emit('random', data);\n        }, 5000);  \n    });\n    module.exports = app;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48936383",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210843596",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Handlebars.registerHelper('json', function(context) {\n        return JSON.stringify(context);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7142857142857143,
        "Content": "    var Handlebars = require('hbs');\n    Handlebars.registerHelper('json', function(context) {\n        return JSON.stringify(context);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "48972806",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "211246507",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = {\n        getRandSex: getRandSex,\n        //and so on\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5454545454545454,
        "Content": "    module.exports = {\n        getRandSex: function(){},\n        method2: function(){}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49021891",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "211775190",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const crypto = require(\"crypto\");\n    const ALGORITHM_NAME = \"aes-128-gcm\";\n    const ALGORITHM_NONCE_SIZE = 12;\n    const ALGORITHM_TAG_SIZE = 16;\n    const ALGORITHM_KEY_SIZE = 16;\n    const PBKDF2_NAME = \"sha256\";\n    const PBKDF2_SALT_SIZE = 16;\n    const PBKDF2_ITERATIONS = 32767;\n    \n    function encryptString(plaintext, password) {\n        // Generate a 128-bit salt using a CSPRNG.\n        let salt = crypto.randomBytes(PBKDF2_SALT_SIZE);\n    \n        // Derive a key using PBKDF2.\n        let key = crypto.pbkdf2Sync(new Buffer(password, \"utf8\"), salt, PBKDF2_ITERATIONS, ALGORITHM_KEY_SIZE, PBKDF2_NAME);\n    \n        // Encrypt and prepend salt.\n        let ciphertextAndNonceAndSalt = Buffer.concat([ salt, encrypt(new Buffer(plaintext, \"utf8\"), key) ]);\n    \n        // Return as base64 string.\n        return ciphertextAndNonce.toString(\"base64\");\n    }\n    \n    function decryptString(base64CiphertextAndNonceAndSalt, password) {\n        // Decode the base64.\n        let ciphertextAndNonceAndSalt = new Buffer(base64CiphertextAndNonceAndSalt, \"base64\");\n    \n        // Create buffers of salt and ciphertextAndNonce.\n        let salt = ciphertextAndNonceAndSalt.slice(0, PBKDF2_SALT_SIZE);\n        let ciphertextAndNonce = ciphertextAndNonceAndSalt.slice(PBKDF2_SALT_SIZE);\n    \n        // Derive the key using PBKDF2.\n        let key = crypto.pbkdf2Sync(new Buffer(password, \"utf8\"), salt, PBKDF2_ITERATIONS, ALGORITHM_KEY_SIZE, PBKDF2_NAME);\n    \n        // Decrypt and return result.\n        return decrypt(ciphertextAndNonce, key).toString(\"utf8\");\n    }\n    \n    function encrypt(plaintext, key) {\n        // Generate a 96-bit nonce using a CSPRNG.\n        let nonce = crypto.randomBytes(ALGORITHM_NONCE_SIZE);\n    \n        // Create the cipher instance.\n        let cipher = crypto.createCipheriv(ALGORITHM_NAME, key, nonce);\n    \n        // Encrypt and prepend nonce.\n        let ciphertext = Buffer.concat([ cipher.update(plaintext), cipher.final() ]);\n    \n        return Buffer.concat([ nonce, ciphertext, cipher.getAuthTag() ]);\n    }\n    \n    function decrypt(ciphertextAndNonce, key) {\n        // Create buffers of nonce, ciphertext and tag.\n        let nonce = ciphertextAndNonce.slice(0, ALGORITHM_NONCE_SIZE);\n        let ciphertext = ciphertextAndNonce.slice(ALGORITHM_NONCE_SIZE, ciphertextAndNonce.length - ALGORITHM_TAG_SIZE);\n        let tag = ciphertextAndNonce.slice(ciphertext.length + ALGORITHM_NONCE_SIZE);\n    \n        // Create the cipher instance.\n        let cipher = crypto.createDecipheriv(ALGORITHM_NAME, key, nonce);\n    \n        // Decrypt and return result.\n        cipher.setAuthTag(tag);\n        return Buffer.concat([ cipher.update(ciphertext), cipher.final() ]);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9888888888888889,
        "Content": "    const crypto = require(\"crypto\");\n    const ALGORITHM_NAME = \"aes-128-gcm\";\n    const ALGORITHM_NONCE_SIZE = 12;\n    const ALGORITHM_TAG_SIZE = 16;\n    const ALGORITHM_KEY_SIZE = 16;\n    const PBKDF2_NAME = \"sha256\";\n    const PBKDF2_SALT_SIZE = 16;\n    const PBKDF2_ITERATIONS = 32767;\n    \n    function encryptString(plaintext, password) {\n        // Generate a 128-bit salt using a CSPRNG.\n        let salt = crypto.randomBytes(PBKDF2_SALT_SIZE);\n    \n        // Derive a key using PBKDF2.\n        let key = crypto.pbkdf2Sync(new Buffer(password, \"utf8\"), salt, PBKDF2_ITERATIONS, ALGORITHM_KEY_SIZE, PBKDF2_NAME);\n    \n        // Encrypt and prepend salt.\n        let ciphertextAndNonceAndSalt = Buffer.concat([ salt, encrypt(new Buffer(plaintext, \"utf8\"), key) ]);\n    \n        // Return as base64 string.\n        return ciphertextAndNonceAndSalt.toString(\"base64\");\n    }\n    \n    function decryptString(base64CiphertextAndNonceAndSalt, password) {\n        // Decode the base64.\n        let ciphertextAndNonceAndSalt = new Buffer(base64CiphertextAndNonceAndSalt, \"base64\");\n    \n        // Create buffers of salt and ciphertextAndNonce.\n        let salt = ciphertextAndNonceAndSalt.slice(0, PBKDF2_SALT_SIZE);\n        let ciphertextAndNonce = ciphertextAndNonceAndSalt.slice(PBKDF2_SALT_SIZE);\n    \n        // Derive the key using PBKDF2.\n        let key = crypto.pbkdf2Sync(new Buffer(password, \"utf8\"), salt, PBKDF2_ITERATIONS, ALGORITHM_KEY_SIZE, PBKDF2_NAME);\n    \n        // Decrypt and return result.\n        return decrypt(ciphertextAndNonce, key).toString(\"utf8\");\n    }\n    \n    function encrypt(plaintext, key) {\n        // Generate a 96-bit nonce using a CSPRNG.\n        let nonce = crypto.randomBytes(ALGORITHM_NONCE_SIZE);\n    \n        // Create the cipher instance.\n        let cipher = crypto.createCipheriv(ALGORITHM_NAME, key, nonce);\n    \n        // Encrypt and prepend nonce.\n        let ciphertext = Buffer.concat([ cipher.update(plaintext), cipher.final() ]);\n    \n        return Buffer.concat([ nonce, ciphertext, cipher.getAuthTag() ]);\n    }\n    \n    function decrypt(ciphertextAndNonce, key) {\n        // Create buffers of nonce, ciphertext and tag.\n        let nonce = ciphertextAndNonce.slice(0, ALGORITHM_NONCE_SIZE);\n        let ciphertext = ciphertextAndNonce.slice(ALGORITHM_NONCE_SIZE, ciphertextAndNonce.length - ALGORITHM_TAG_SIZE);\n        let tag = ciphertextAndNonce.slice(ciphertext.length + ALGORITHM_NONCE_SIZE);\n    \n        // Create the cipher instance.\n        let cipher = crypto.createDecipheriv(ALGORITHM_NAME, key, nonce);\n    \n        // Decrypt and return result.\n        cipher.setAuthTag(tag);\n        return Buffer.concat([ cipher.update(ciphertext), cipher.final() ]);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49053420",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "212118712",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.post('/login', function(req, res){\n    \tvar result = {'ok':0};\n    \tif(req.body.username== 'admin' && req.body.password=='12345'){\n    \t\tresult.ok = 1;\n    \t}else{\n    \t\tresult.msg = 'wrong username/password';\n    \t}\n    \tres.setHeader('Content-Type', 'application/json');\n        res.send(JSON.stringify(result));\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express'); //npm install express\n    var app = express();\n    var path = require('path');\n    var bodyParser = require('body-parser'); //npm install body-parser\n    app.use(bodyParser.urlencoded({ extended: false }));\n    \n    app.get('/', function(req, res) {\n    \tres.sendFile(path.join(__dirname + '/login.html'));\n    });\n    \n    app.post('/login', function(req, res){\n    \tconsole.log(req.body);\n    \tvar result = {'ok':0};\n        if(req.body.username == 'admin' && req.body.password =='12345'){\n            result.ok = 1;\n        }else{\n            result.msg = 'wrong username/password';\n        }\n    \t\n        res.setHeader('Content-Type', 'application/json');\n        res.send(JSON.stringify(result));\n    });\n    \n    app.get('/welcome', function(req, res) {\n    \tres.sendFile(path.join(__dirname + '/welcome.html'));\n    });\n    \n    app.listen(8000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49164143",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "213327461",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.clear();\n    console.log(\"test before alert()\");\n    alert(\"Look at the console. Notice how you don't see the log message that came before me?\");",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9473684210526315,
        "Content": "    console.clear();\n    console.log(\"test before console.log()\");\n    console.log(\"Look at the console. Notice how you now do see the log message that came before me?\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49209093",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "213811723",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs = require('fs');\n    var data = {\n        \"fixtures\": []\n    };\n    var dir = __dirname + '/data/';\n    fs.readdir(dir, (err, files) => {\n        return new Promise(function (resolve, reject) {\n            if (err) {\n                reject(err);\n            } else {\n                files.forEach(file => {\n                    console.log(file);\n                    let content = require(dir + file);\n                    data['fixtures'] = data['fixtures'].concat(content['fixtures']);\n                });\n                resolve(data);\n            }\n        }).then(data => {\n            fs.writeFileSync('./final.json',JSON.stringify(data));\n        });\n    })",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const fs = require('fs');\n    const data = {\n        \"passed\": 0,\n        \"fixtures\": []\n    };\n    const dir = `${__dirname}/data/`;\n    fs.readdir(dir, (err, files) => {\n        return new Promise((resolve, reject) => {\n            if (err) reject(err);\n            files.forEach(file => {\n               console.log(file);\n               let content = require(`${dir}${file}`);\n               data['passed'] += content.passed;\n               data['fixtures'] = data['fixtures'].concat(content['fixtures']);\n            });\n            resolve(data);\n        }).then(data => {\n            fs.writeFileSync('./final.json',JSON.stringify(data));\n        });\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49234256",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "214088732",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var result = array.reduce(function (acc, cur, i) {\n            acc[cur.id] = cur;\n            return acc;\n        }, {});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8837209302325582,
        "Content": "    var array = [\n        {\n            \"id\": 123,\n            \"otherProp\": \"true\"\n        },\n        {\n            \"id\": 456,\n            \"otherProp\": \"false\"\n        },\n        {\n            \"id\": 789,\n            \"otherProp\": \"true\"\n        }\n    ];\n    var result = array.reduce(function (acc, cur, i) {\n        acc[cur.id] = cur;\n        return acc;\n    }, {});\n    \n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49255484",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214314185",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var playerUids = Json.stringify(playerUids);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var playerUids = JSON.stringify(playerUids);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49259276",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "214355092",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var events = 'HelloWorld'\n    abc(events);\n    function abc(args) { \n        console.log(args.charAt(1));   \n        console.log(arguments.callee);\n        console.log(arguments.caller);\n        console.log(arguments.length);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9166666666666666,
        "Content": "    var events = 'HelloWorld'\n    abc(events);\n    function abc(args) { \n        console.log(args.charAt(1));   \n        console.log(arguments.callee);\n        // console.log(arguments.caller); //DEPRECATED\n        console.log(arguments.length);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49273581",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214509055",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var netServer = null;\n    var netSocket = null;\n    function server(){\n        netServer = net.createServer(function (socket) {\n          netSocket = socket;\n          socket.write('\\x16');  //SYN character\n          socket.on('data', function (data) {\n             //handle data from client\n          });\n       });\n       \n       console.log('Server listening on 33333..');\n       netServer.listen(33333);\n    }\n    function sendData(data) {\n        if (netSocket) {\n            netSocket.write(data);\n        }\n    }\n    function WhenUserClicksButton(){\n       sendData('someData');\n    }\n    server();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    var net = require('net');\n    \n    var netServer = null;\n    var netSocket = null;\n    function sendData(data) {\n        if (netServer && netSocket) {\n            console.log('Send data: sending: ', data);\n            netSocket.write(data);\n        }\n    }\n    function startServer(){\n        netServer = net.createServer(function (socket) {\n          netSocket = socket;\n          socket.write('\\x16');  //SYN character\n          socket.on('data', function (data) {\n             console.log('Server: data from client: ', data);\n             if (data.length === 1 && data[0] === 0x16) {\n                 // log and ignore SYN chars..\n                 console.log('SYN received from client');\n             } else if (newDataCallback) {\n                 newDataCallback(data);\n             };\n          });\n       });\n       \n       console.log('Server listening on 33333..');\n       netServer.listen(33333);\n    }\n    var newDataCallback = null;\n    function setNewDataCallback(callback) {\n        newDataCallback = callback;\n    }\n    \n    module.exports = {\n        sendData: sendData,\n        startServer: startServer,\n        setNewDataCallback: setNewDataCallback\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49294198",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214732658",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var s = JSON.stringify([{\"id\":1, \"name\":firstname}, {\"id\":2, \"name\":secondname}])\n    var result = s.substring(1, s.length - 1)",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    var s = JSON.stringify([{\"id\":1, \"name\":\"firstname\"}, {\"id\":2, \"name\":\"secondname\"}])\n    var result = s.substring(1, s.length - 1)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49309132",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "214890414",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var readline = require(\"readline\"),\n        rl       = readline.createInterface({ input : process.stdin,\n                                              output: process.stdout\n                                            }),\n        rlq      = q => new Promise(v => rl.question(q, a => v(a))),\n        log      = (...m) => {readline.cursorTo(process.stdout,0);\n                              console.log(...m);\n                              rl.prompt(true);};\n        test      = _ => setTimeout(async function(){\n                                            log(\"Attempting\");\n                                            rl.close();\n                                            rl = readline.createInterface({ input : process.stdin,\n                                                                            output: process.stdout\n                                                                          });\n                                            var answer = await rlq(\"Can you see this? >\");\n                                            log(`Here i do something with ${answer} inside the test function`);\n                                            ask();\n                                          }, 3000);\n    \n    async function ask(){\n      let answer = await rlq(\"> \");\n      answer === \"testfunc\" ? test()\n                            : log(`Here i do something with ${answer}`);\n      /^q$|^quit$/i.test(answer) ? log(\"bye..!\"): ask(); // the \"test\" function here is RegExp.test..!}\n    }\n    ask();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9770992366412213,
        "Content": "    var readline = require(\"readline\"),\n        rl       = readline.createInterface({ input : process.stdin,\n                                              output: process.stdout\n                                            }),\n        rlq      = q => new Promise(v => rl.question(q, a => v(a))),\n        log      = (...m) => {readline.cursorTo(process.stdout,0);\n                              console.log(...m);\n                              rl.prompt(true);},\n        test     = _ => setTimeout(async function(){\n                                           log(\"Attempting\");\n                                           rl.close();\n                                           rl = readline.createInterface({ input : process.stdin,\n                                                                           output: process.stdout\n                                                                         });\n                                           var answer = await rlq(\"Can you see this? >\");\n                                           log(`Here i do something with ${answer} inside the test function`);\n                                           ask();\n                                         }, 3000);\n    \n    async function ask(){\n      let answer = await rlq(\"> \");\n      answer === \"testfunc\" ? test()\n                            : log(`Here i do something with ${answer}`);\n      /^q$|^quit$/i.test(answer) ? (log(\"bye..!\"), rl.close())\n                                 : ask(); // the \"test\" function here is RegExp.test..!}\n    }\n    ask();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49445796",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "216367180",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const testFolder = './images/';\n    const fs = require('fs');\n    \n    fs.readdir(images, (err, files) => {\n      files.forEach(file => {\n        console.log(file); // use those file and return it as a REST API\n      });\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9583333333333334,
        "Content": "    const testFolder = './images/';\n    const fs = require('fs');\n    \n    fs.readdir(testFolder, (err, files) => {\n      files.forEach(file => {\n        console.log(file); // use those file and return it as a REST API\n      });\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49468645",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "216617723",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const Discord = require('discord.js');\n    const bot = new Discord.Client();\n    client.user.setActivity('YouTube', { type: 'WATCHING' });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9090909090909091,
        "Content": "    const Discord = require('discord.js');\n    const bot = new Discord.Client();\n    bot.user.setActivity('YouTube', { type: 'WATCHING' });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49507853",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "217043166",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    getRandomData = (n) => {\n      const result = [];\n      for (let i = 0; i < n; i++) {\n        result.push({\n          r: Math.floor((Math.random() * 256)),\n          g: Math.floor((Math.random() * 256)),\n          b: Math.floor((Math.random() * 256))\n        });\n      }\n      \n      return result;\n    }\n    hash = (color) => color.g * 65536 + color.b * 256 + color.r;\n    const n = 6000;\n    const data = getRandomData(n);\n    const start = performance.now();\n    const set = new Set();\n    const result = [];\n    for (let i = 0; i < n; i++) {\n      const color = data[i];\n      const key = hash(color);\n      \n      if (!set.has(key)) {\n        set.add(key);\n        result.push(color);\n      }\n    }\n    const end = performance.now();\n    console.log(`Removed ${data.length - result.length} dups from ${n} items`);\n    console.log(`Operation took ${end - start} ms`);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9752066115702479,
        "Content": "    const getRandomData = (n) => {\n      const result = [];\n      for (let i = 0; i < n; i++) {\n        result.push({\n          r: Math.floor((Math.random() * 256)),\n          g: Math.floor((Math.random() * 256)),\n          b: Math.floor((Math.random() * 256))\n        });\n      }\n      \n      return result;\n    }\n    const hash = (color) => (color.r << 16) + (color.g << 8) + color.b;\n    const n = 6000;\n    const data = getRandomData(n);\n    const start = performance.now();\n    const set = new Set();\n    const result = [];\n    for (let i = 0; i < n; i++) {\n      const color = data[i];\n      const key = hash(color);\n      \n      if (!set.has(key)) {\n        set.add(key);\n        result.push(color);\n      }\n    }\n    const end = performance.now();\n    console.log(`Removed ${n - result.length} duplicates from ${n} items`);\n    console.log(`Operation took ${end - start} ms`);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49530686",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "217292455",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var a = require('./A.js);\n    // now as A.js is exporing a function so you can call that function by invoking a() function \n    // as you have inported it into variable name a\n    a(); // this will call that",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9629629629629629,
        "Content": "    var a = require('./A.js');\n    // now as A.js is exporing a function so you can call that function by invoking a() function \n    // as you have inported it into variable name a\n    a(); // this will call that",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49552655",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "217532645",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    for (var obj in cart) {\n        console.log(obj.quantity + 'x of' + obj.title);\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9072164948453608,
        "Content": "    var cart = [{\n        \"success\": false,\n        \"message\": \"All Items Fetched\",\n        \"cartItems\": [{\n                \"_id\": \"5abca75f43b4c21ec482e96d\",\n                \"title\": \"Apples\",\n                \"price\": 594,\n                \"quantity\": 6,\n                \"prodId\": \"5aadb71792f47742d4e3749b\",\n                \"__v\": 0\n            },\n            {\n                \"_id\": \"5abca75f43b4c21ec482e96e\",\n                \"title\": \"Red and Mixed Grapes\",\n                \"price\": 645,\n                \"quantity\": 5,\n                \"prodId\": \"5aac5dac664a9042a44bf787\",\n                \"__v\": 0\n            },\n            {\n                \"_id\": \"5abca76143b4c21ec482e96f\",\n                \"title\": \"AnanaB\",\n                \"price\": 445,\n                \"quantity\": 5,\n                \"prodId\": \"5ab1c1a8044a584bdcad6e1d\",\n                \"__v\": 0\n            }\n        ]\n    }];\n    cart.forEach((data) => {\n        for (var obj in data.cartItems) {\n            console.log(data.cartItems[obj].quantity + ' x of ' + data.cartItems[obj].title);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49640454",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "218489542",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     * @param {createThing.Thing} thing\n     */\n    export function takesThing(thing) {}",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    import createThing from './a';\n    /**\n     * @param {createThing.Thing} thing\n     */\n    export function takesThing(thing) {}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49662672",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "218732559",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    for (let i = 0; i < 10; i ++) {  \n    \n        cryptoController.sendApiData = (req, res) => {          \n            res.json({\n                message: 'data returned for crypto',            \n                i: res.locals.i\n            })  \n    \n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7058823529411765,
        "Content": "    cryptoController.sendApiData = (req, res) => { \n        console.log(res.locals.data)         \n        res.json({\n            message: 'data returned for crypto',            \n            data: res.locals.data\n        }); \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49748564",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "219661691",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    rl.on('line', (line) => {\n      arr.push(line);\n    });\n    \n    rl.on('close', (line) => {\n      console.log(arr); // []\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2978723404255319,
        "Content": "    const readline = require('readline');\n    const fs = require('fs');\n    var arr = [];\n    \n    const rl = readline.createInterface({\n      input: fs.createReadStream('file.txt')\n    });\n    \n    rl.on('close', (line) => {\n      console.log(arr);\n      //and anything else you want to do once finished processing\n    });\n    \n    // this will fire before 'close'\n    console.log('This fired before rl had finished');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49795763",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "220176281",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function json2array(json_array){\n      var array_full = [[\"Date\",\"ECH1\",\"ECH2\",\"ECH3\",\"ECH4\",\"PM2_5\",\"PM10\"]];\n      //header in first line\n      for (var i=0; i<json_array.length;i++){\n           var array_line = [];\n        array_line[0]=json_array[i].date_hour.value;\n        array_line[1]=json_array[i].avg_ech1;\n        array_line[2]=json_array[i].avg_ech2;\n        array_line[3]=json_array[i].avg_ech3;\n        array_line[4]=json_array[i].avg_ech4;\n        array_line[5]=json_array[i].avg_pm2_5;\n        array_line[6]=json_array[i].avg_pm10;\n        console.log('line',array_line);\n        array_full[i+1]=array_line;\n        console.log('full line',array_full[i+1]);\n        }\n        return array_full;\n    }\n    console.log('test',json2array(array_json));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.875,
        "Content": "    function json2array(json_array){\n      var array_full = [[\"Date\",\"ECH1\",\"ECH2\",\"ECH3\",\"ECH4\",\"PM2_5\",\"PM10\"]];\n      //header in first line\n      for (var i=0; i<json_array.length;i++){\n           var array_line = [];\n        array_line[0]=json_array[i].date_hour.value;\n        array_line[1]=json_array[i].avg_ech1;\n        array_line[2]=json_array[i].avg_ech2;\n        array_line[3]=json_array[i].avg_ech3;\n        array_line[4]=json_array[i].avg_ech4;\n        array_line[5]=json_array[i].avg_pm2_5;\n        array_line[6]=json_array[i].avg_pm10;\n        console.log('line',array_line);\n        array_full[i+1]=array_line;\n        console.log('full line',array_full[i+1]);\n        }\n        return array_full;\n    }\n    var array_json = []; // initialize your data\n    console.log('test', json2array(array_json));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49812895",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "220363872",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var router = express.Router();\n    var multer = require('multer');\n    var storage = multer.diskStorage({\n        destination: (req, file, cb) => {\n          cb(null, 'public/images/uploads')\n        },\n        filename: (req, file, cb) => {\n          cb(null, file.fieldname + '-' + Date.now())\n        }\n    });\n    \n    var upload = multer({storage: storage});\n    \n    router.post('/fileUpload', upload.single('singleInputFileName'), (req, res, next) => {\n        MongoClient.connect(url, (err, db) => {\n            assert.equal(null, err);\n            insertDocuments(db, 'public/images/uploads/' + req.file.filename, () => {\n                db.close();\n                res.json({'message': 'File uploaded successfully'});\n            });\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9247311827956989,
        "Content": "    // NodeJS module dependencies\n    var multer = require('multer');\n    var storage = multer.diskStorage({\n        destination: (req, file, cb) => {\n            cb(null, `${process.cwd()}/uploads/`)\n        },\n        filename: (req, file, cb) => {\n            cb(null, file.fieldname + '-' + Date.now() + '.' + file.originalname.split('.')[file.originalname.split('.').length - 1].toLowerCase())\n        }\n    });\n    var upload = multer({ storage: storage });\n    // Export routes\n    module.exports = function (app, router) {\n        router.post('/fileupload', upload.single('avatar'), (req, res, next) => {\n            res.status(200).json({message: `File uploaded successfully on '${process.cwd()}/uploads/${req.file.filename}`});\n        });\n        return router;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49907958",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "221391007",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function deepReplace ( x, targetKey, replaceWith ) {\n        if ( Array.isArray( x ) ) {\n            x.forEach( x => deepReplace( x, targetKey, replaceWith );\n        } else if ( typeof x === 'object' ) {\n            for ( var key in x ) {\n                if ( key === targetKey ) x[ key ] = replaceWith;\n                if ( typeof x[ key ] === 'object' ) {\n                     deepReplace( x[ key ], targetKey, replaceWith );\n                }\n            }\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    function deepReplace ( x, targetKey, replaceWith ) {\n        if ( Array.isArray( x ) ) {\n            x.forEach( x => deepReplace( x, targetKey, replaceWith ) );\n        } else if ( typeof x === 'object' ) {\n            for ( var key in x ) {\n                if ( key === targetKey ) x[ key ] = replaceWith;\n                if ( typeof x[ key ] === 'object' ) {\n                     deepReplace( x[ key ], targetKey, replaceWith );\n                }\n            }\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "49997646",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "222362323",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const stream = fs.createWriteStream(\"file.txt\");\n    stream.write(\"Test\");\n    console.log(\"1\");\n    \n    new Promise ((resolve, reject) => {\n        stream.on (\"finish\", () => {\n            console.log(\"2\");\n            resolve();\n        });\n    }).then(() => {\n       console.log(\"2\");\n       process.exit();\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.926829268292683,
        "Content": "    const fs = require (\"mz/fs\");\n    const stream = fs.createWriteStream(\"file.txt\");\n    stream.write(\"Test\");\n    console.log(\"1\");\n    \n    new Promise ((resolve, reject) => {\n        stream.on (\"finish\", () => {\n            console.log(\"2\");\n            resolve();\n        });\n    }).then(() => {\n       console.log(\"2\");\n       process.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50069956",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "223165240",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function sleep (time) {\n      return new Promise(resolve => setTimeout(resolve, time));\n    }\n    async run (data) {\n      await sleep(500);\n      data.response.outcome = 'success';\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    async function sleep (time) {\n      return new Promise(resolve => setTimeout(resolve, time));\n    }\n    async function run (data) {\n      await sleep(500);\n      data.response.outcome = 'success';\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50114845",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223657957",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require(\"express\");\n    const bodyParser = require(\"body-parser\");\n    const sql = require(\"mssql\");\n    const app = express();\n    const port = 3131;\n    \n    // Body Parser Middleware\n    app.use(bodyParser.json());\n    \n    //CORS Middleware\n    app.use(function (req, res, next) {\n        //Enabling CORS \n        res.header(\"Access-Control-Allow-Origin\", \"*\");\n        res.header(\"Access-Control-Allow-Methods\", \"GET,HEAD,OPTIONS,POST,PUT\");\n        res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, contentType,Content-Type, Accept, Authorization\");\n        next();\n    });\n    \n    \n    //Initiallising connection string\n    var dbConfig = {\n        user: 'sa',\n        password: '*****',\n        server: '94.200.123.222',\n        database: 'CUBES_HO',\n    };\n    \n    function executeQuery(query) {\n        return new Promise((resolve, reject) => {\n            sql.connect(dbConfig, function (err) {\n                if (err) {\n                    reject(err);\n                    sql.close();\n                } else {\n                    // create Request object\n                    var request = new sql.Request();\n                    // query to the database and get the records\n                    request.query(query, function (err, data) {\n                        if (err) {\n                            reject(err);\n                        } else {\n                            resolve(data);\n                        }\n                    });\n                }\n            });\n        });\n    }\n    \n    //GET API\n    app.get(\"/\", function (req, res) {\n        var query = \"select * from [osama] where bill_hdr_key = '31'\";\n        executeQuery(query)\n            .then((data) => {\n                res.status(200).send({ \"msg\": \"Records fetched\", \"data\": recordset });\n            }).catch((err) => {\n                res.status(500).json({ \"msg\": err.message });\n            });\n    });\n    \n    //Setting up server\n    var server = app.listen(port || 8080, function () {\n        var port = server.address().port;\n        console.log(\"App now running on port\", port);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9818181818181818,
        "Content": "    const express = require(\"express\");\n    const bodyParser = require(\"body-parser\");\n    const sql = require(\"mssql\");\n    const app = express();\n    const port = 3131;\n    \n    // Body Parser Middleware\n    app.use(bodyParser.json());\n    \n    //CORS Middleware\n    app.use(function (req, res, next) {\n        //Enabling CORS \n        res.header(\"Access-Control-Allow-Origin\", \"*\");\n        res.header(\"Access-Control-Allow-Methods\", \"GET,HEAD,OPTIONS,POST,PUT\");\n        res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, contentType,Content-Type, Accept, Authorization\");\n        next();\n    });\n    \n    \n    //Initiallising connection string\n    var dbConfig = {\n        user: 'sa',\n        password: \"******\",\n        server: '94.200.123.222',\n        database: 'CUBES_HO',\n    };\n    \n    function executeQuery(query) {\n        return new Promise((resolve, reject) => {\n            sql.connect(dbConfig, function (err) {\n                if (err) {\n                    reject(err);\n                    sql.close();\n                } else {\n                    // create Request object\n                    var request = new sql.Request();\n                    // query to the database and get the records\n                    request.query(query, function (err, data) {\n                        if (err) {\n                            reject(err);\n                            sql.close();\n                        } else {\n                            resolve(data);\n                            sql.close();\n                        }\n                    });\n                }\n            });\n        });\n    }\n    \n    //GET API\n    app.get(\"/\", function (req, res) {\n        var query = \"select * from [osama] where bill_hdr_key = '31'\";\n        executeQuery(query)\n            .then((data) => {\n                res.status(200).send({ \"msg\": \"Records fetched\", \"data\": data.recordsets });\n            }).catch((err) => {\n                res.status(500).json({ \"msg\": err.message });\n            });\n    });\n    \n    //Setting up server\n    var server = app.listen(port || 8080, function () {\n        var port = server.address().port;\n        console.log(\"App now running on port\", port);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50125242",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223773476",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const rp = require('request-promise-native');\n    const {load} = require('cheerio');\n    function scrape(uri, transform) {\n      const options = {\n        uri,\n        transform: load\n      };\n      \n      return rp(options).then(transform);\n    }\n    scrape(\n      'https://jobsite.procore.com',\n      ($) => $('.left-sidebar .article-title a').toArray().slice(0,6).map((linkEl) => linkEl.attribs.href)\n    ).then((links) => Promise.all(\n      links.map(\n        (link) => scrape({\n          `https://jobsite.procore.com/${link}`,\n          ($) => $('meta[name=\"description\"]').attr('content').trim()\n        )\n      )\n    )).then(console.log).catch(console.error);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const rp = require('request-promise-native');\n    const {load} = require('cheerio');\n    function scrape(uri, transform) {\n      const options = {\n        uri,\n        transform: load\n      };\n      \n      return rp(options).then(transform);\n    }\n    scrape(\n      'https://jobsite.procore.com',\n      ($) => $('.left-sidebar .article-title a').toArray().slice(0,6).map((linkEl) => linkEl.attribs.href)\n    ).then((links) => Promise.all(\n      links.map(\n        (link) => scrape(\n          `https://jobsite.procore.com/${link}`,\n          ($) => $('meta[name=\"description\"]').attr('content').trim()\n        )\n      )\n    )).then(console.log).catch(console.error);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50129951",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "223824637",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\tconst exec = require('child_process').exec;\n\tconst fs  = require('fs');\n\t// Read content of file\n\tfunction ReadCronFile(cb) {\n\t\texec(\"crontab -l\", function(err, stdout, stderr) {\n\t\t\tcb(stdout);\n\t\t});\n\t}\n\t// Write a crontab file\n\tfunction WriteCronFile(data, cb) {\n\t\tfs.writeFile(\"tmp.txt\", data, function(err) {\n\t\t\texec(\"crontab tmp.txt\", function(err, stdout, stderr) {\n\t\t\t\tfs.removeFile(\"tmp.txt\", function(err) {\n\t\t\t\t\tcb();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\t// Example usage\n\tReadCronFile(function(data) { console.log(data); });\n\tWriteCronFile(\"...\", function() { console.log(\"Done!\"); });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "\tconst exec = require('child_process').exec;\n\tconst fs  = require('fs');\n\t// Read content of file\n\tfunction ReadCronFile(cb) {\n\t\texec(\"crontab -l\", function(err, stdout, stderr) {\n\t\t\tcb(stdout);\n\t\t});\n\t}\n\t// Write a crontab file\n\tfunction WriteCronFile(data, cb) {\n\t\tfs.writeFile(\"tmp.txt\", data, function(err) {\n\t\t\texec(\"crontab tmp.txt\", function(err, stdout, stderr) {\n\t\t\t\tfs.unlink(\"tmp.txt\", function(err) {\n\t\t\t\t\tcb();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t}\n\t// Example usage\n\tReadCronFile(function(data) { console.log(data); });\n\tWriteCronFile(\"...\", function() { console.log(\"Done!\"); });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50299359",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "225681302",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const path = require('path');\n    const fileName = path.basename(__filename);\n    module.exports = (requiredFrom = 'Somewhere') => {\n        console.log(`${childFileName} is being called from ${requiredFrom}`);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const path = require('path');\n    const fileName = path.basename(__filename);\n    module.exports = (requiredFrom = 'Somewhere') => {\n        console.log(`${fileName} is being called from ${requiredFrom}`);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50360972",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "226354598",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const count = Number(process.argv[2]) || 1e6;\n    const state = {};\n    \n    const writeOrBuffer = (data) => {\n    \tconst last = state.lastBufferedRequest;\n        state.lastBufferedRequest = {\n          chunk: Buffer.from(data),\n          encoding: 'buffer',\n          isBuf: true,\n          callback: function nop() {},\n          next: null\n        };\n    \n        if (last) {\n          last.next = state.lastBufferedRequest;\n        } else {\n          state.bufferedRequest = state.lastBufferedRequest;\n        }\n        state.bufferedRequestCount += 1;\n    }\n    \n    const start = process.memoryUsage().heapUsed;\n    for(let i = 0; i < count; i++) {\n    \tbuffer('a');\n    }\n    const used = (process.memoryUsage().heapUsed - start) / 1024 / 1024;\n    console.log(`${Math.round(used * 100) / 100} MB`);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const count = Number(process.argv[2]) || 1e6;\n    const state = {};\n    function nop() {}\n    \n    const buffer = (data) => {\n    \tconst last = state.lastBufferedRequest;\n        state.lastBufferedRequest = {\n          chunk: Buffer.from(data),\n          encoding: 'buffer',\n          isBuf: true,\n          callback: nop,\n          next: null\n        };\n    \n        if(last)\n          last.next = state.lastBufferedRequest;\n        else\n          state.bufferedRequest = state.lastBufferedRequest;\n        state.bufferedRequestCount += 1;\n    }\n    \n    const start = process.memoryUsage().heapUsed;\n    for(let i = 0; i < count; i++) {\n    \tbuffer('a');\n    }\n    const used = (process.memoryUsage().heapUsed - start) / 1024 / 1024;\n    console.log(`${Math.round(used * 100) / 100} MB`);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50372831",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226483469",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var aws = require('aws-sdk');\n    var lambda = new aws.Lambda({\n      region: 'us-west-1'\n    });    \n    var params = {\n          FunctionName: \"MyFunction\", \n          InvocationType: \"RequestResponse\", \n          LogType: \"Tail\", \n          Payload: <Stringified oject to pass parameters as event>\n         };\n         lambda.invoke(params, function(err, data) {\n           if (err) console.log(err, err.stack); // an error occurred\n           else     console.log(data);           // successful response\n         });",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8641975308641975,
        "Content": "    var aws = require(\"aws-sdk\");\n    var lambda = new aws.Lambda({\n      region: \"us-west-1\",\n    });\n    \n    var params = {\n      FunctionName: \"MyFunction\",\n      InvocationType: \"RequestResponse\",\n      LogType: \"Tail\",\n      Payload: \"<Stringified oject to pass parameters as event>\",\n    };\n    \n    \n    lambda.invoke(params, function (err, data) {\n      if (err) console.log(err, err.stack);\n      // an error occurred\n      else console.log(data); // successful response\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50400118",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226788419",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const type = req.params.type;\n    postgres.client.query(\n      'SELECT * FROM $1 WHERE step != FALSE', \n      [type], \n      (error, results) => {\n        if (err) return res.status(500).send(error);\n        res.status(200).send(results);\n      });",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const tableNames = require('../../constants/tableNames.js');\n    module.exports = (tableName, queryTail = 'WHERE step != FALSE') => {\n      if (tableNames.includes(tableName)) {\n        return 'SELECT * FROM '+tableName+' '+queryTail; \n      }\n      return 'SELECT NULL';\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50407931",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226877284",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var request = require('request');\n    \n    var boardsCall = {\n      method: 'GET',\n      url: 'https://api.trello.com/1/organizations/xxxxxxxxxx/boards?filter=open&fields=id,name',\n      qs: {\n        key: 'xxxxxxxxxxxxxxxx',\n        token: 'xxxxxxxxxxxxxxxxxxxxxxxxx'\n      }\n    };\n    \n    function test(url) {\n    \t//Wrapping request callback with Promise\n    \treturn new Promise((res, rej)=> {\n    \t\trequest(url, function(error, response, body) {\n    \t\t\tif (error) {\n    \t\t\t  rej(error);\n    \t\t\t}\n    \t\t\tres(JSON.parse(body));\n    \t\t  })\n    \t})\n    }\n    \n    async main() {\n    \ttry {\n    \t\tconst x = await test(boardsCall);\t\t\n    \t\tconsole.log(\"Result : \", x );\n    \t\t\n    \t\t// Remaing logic to process based on x value\n    \t\t\n    \t} catch(e) {\n    \t\tconsole.error(\"Error :', e);\n    \t}\n    \t\n    \n    }\n    \n    //Calling main method\n    main()",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.972972972972973,
        "Content": "    var request = require('request');\n    \n    var boardsCall = {\n      method: 'GET',\n      url: 'https://api.trello.com/1/organizations/xxxxxxxxxx/boards?filter=open&fields=id,name',\n      qs: {\n        key: 'xxxxxxxxxxxxxxxx',\n        token: 'xxxxxxxxxxxxxxxxxxxxxxxxx'\n      }\n    };\n    \n    function test(url) {\n    \t//Wrapping request callback with Promise\n    \treturn new Promise((res, rej)=> {\n    \t\trequest(url, function(error, response, body) {\n    \t\t\tif (error) {\n    \t\t\t  rej(error);\n    \t\t\t}\n    \t\t\tres(JSON.parse(body));\n    \t\t  })\n    \t})\n    }\n    \n    async function main() {\n    \ttry {\n    \t\tconst x = await test(boardsCall);\t\t\n    \t\tconsole.log(\"Result : \", x );\n    \t\t\n    \t\t// Remaining logic to process based on x value\n    \t\t\n    \t} catch(e) {\n    \t\tconsole.error(\"Error :\", e);\n    \t}\n    \t\n    \n    }\n    \n    //Calling main method\n    main()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50554048",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "228495510",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const util = require('util');\n    async function savePosition(con) {\n        const con.queryPromise = util.promisify(con.query);\n        let IDs = [];\n        let finished = false;\n        let callers = await con.queryPromise(`SELECT * FROM Callers;`);\n    \n        if (callers.length < 1) throw new Error('No callers');\n    \n        for (let i = 0; i < callers.length; i++) {\n            let maxCalls = -1;\n            let maxID = \"\";\n            let maxLast = \"\";\n    \n            for (let j = 0; j < callers.length; j++) {\n                const uID = callers[j].id;\n    \n                let isWritten = false;\n                for (let a = 0; a < IDs.length; a++) {\n                    if (uID == IDs[a]) isWritten = true;\n                }\n    \n                if (isWritten) continue;\n    \n                let curr = await con.queryPromise(`SELECT * FROM Callers WHERE id = '${uID}';`);\n                if (Number(curr[0].calls) > maxCalls) {\n                    maxID = curr[0].id;\n                    console.log(maxID)\n                    maxCalls = curr[0].calls;\n                }\n            }\n    \n            IDs[i] = maxID;\n            console.log(\"maxid\" + maxID);\n            await con.queryPromise(`UPDATE Callers SET position = ${i + 1} WHERE id = '${maxID}';`);\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const util = require('util');\n    async function savePosition(con) {\n        con.queryPromise = util.promisify(con.query);\n        let IDs = [];\n        let finished = false;\n        let callers = await con.queryPromise(`SELECT * FROM Callers;`);\n    \n        if (callers.length < 1) throw new Error('No callers');\n    \n        for (let i = 0; i < callers.length; i++) {\n            let maxCalls = -1;\n            let maxID = \"\";\n            let maxLast = \"\";\n    \n            for (let j = 0; j < callers.length; j++) {\n                const uID = callers[j].id;\n    \n                let isWritten = false;\n                for (let a = 0; a < IDs.length; a++) {\n                    if (uID == IDs[a]) isWritten = true;\n                }\n    \n                if (isWritten) continue;\n    \n                let curr = await con.queryPromise(`SELECT * FROM Callers WHERE id = '${uID}';`);\n                if (Number(curr[0].calls) > maxCalls) {\n                    maxID = curr[0].id;\n                    console.log(maxID)\n                    maxCalls = curr[0].calls;\n                }\n            }\n    \n            IDs[i] = maxID;\n            console.log(\"maxid\" + maxID);\n            await con.queryPromise(`UPDATE Callers SET position = ${i + 1} WHERE id = '${maxID}';`);\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50567293",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "228637796",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const BigQuery = require('@google-cloud/bigquery');\n    const bigquery = new BigQuery({\n      'your-google-cloud-platrform-project-id'\n    );",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const BigQuery = require('@google-cloud/bigquery');\n    const projectId = 'project-id';\n    exports.testBigQuery = (req, res) => {\n \n       const bigquery = new BigQuery({\n           projectId: projectId,\n       });\n \n       bigquery\n          .createDataset('test_set')\n          .then(results => {\n              const dataset = results[0];\n              res.send(dataset.id);\n          })\n          .catch(err => {\n              console.error('ERROR:', err);\n          });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50677927",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "229866980",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let promises = items.map(async item => {\n        return foo(item) && await bar(item);\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5789473684210527,
        "Content": "    function foo(x) { return \"foo \" + x; }\n    async function bar(x) { return \"bar \" + x; }\n    const items = [1];\n    let promises = items.map(\n        async item => foo(item) && await bar(item)\n    );\n    Promise.all(promises).then(x => console.log(x));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50742109",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "230548164",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      console.log( myData[ \"foo\" ] );\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5555555555555556,
        "Content": "    function myFunction() {\n    \tvar myData = {\n    \t\t\"foo\": \"My foo string\"\n    \t};\n    \tconsole.log( myData[ \"foo\" ] );\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50829072",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231484835",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var moment = require('moment');\n    var Profile = require('./model/profile.js');\n    var threeHours = 10800000;//3 hours in millisecs\n    Profile.findOne({ userName: \"Rick\" }, function (err, result) {\n    \tvar nowDate = new Date();\n    \tvar currentTime = moment(nowDate);\n    \tvar lastUpdated = moment(result.lastUpdated);\n    \tvar TotalDuration = Math.abs(moment.duration(currentTime.diff(lastUpdated)));//value in millisec\n    \tvar totalPoints = result.points.free + result.points.purchased;\n    \n    \t// console.log(timeSinceLastUpdate)\n    \tif (TotalDuration >= threeHours) {\n    \t\t// ... time to update score ... \n    \t\tif (totalPoints < 200) {\n    \t\t\tresult.free += 50; // issue 50 free points\n    \t\t\tProfile.update(\n    \t\t\t\t{\n    \t\t\t\t\tuserName: \"Rick\"\n    \t\t\t\t},\n    \t\t\t\t$set: {\n    \t\t\t\t\tpoints: {\n    \t\t\t\t\t\tfree: result.free\n    \t\t\t\t\t}\n    \t\t\t\t}, function (err, res) {\n    \t\t\t\t\tif (err) throw err;\n    \t\t\t\t\tconsole.log(res)\n    \t\t\t\t})\n    \t\t} else {\n    \t\t\t// do nothing, wait for next check  \n    \n    \t\t}\n    \t}\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    var moment = require('moment');\n    var Profile = require('./model/profile.js');\n    var threeHours = 10800000;//3 hours in millisecs\n    Profile.findOne({ userName: \"Rick\" }, function (err, result) {\n    \tvar nowDate = new Date();\n    \tvar currentTime = moment(nowDate);\n    \tvar lastUpdated = moment(result.lastUpdated);\n    \tvar TotalDuration =  Math.abs(moment.duration(currentTime.diff(lastUpdated)));//value in millisec\n\tvar totalPoints = result.points.free + result.points.purchased;\n\t// console.log(timeSinceLastUpdate)\n\tif (TotalDuration >= threeHours) {\n\t\t// ... time to update score ... \n\t\tif (totalPoints < 200) {\n\t\t\tresult.free += 50; // issue 50 free points\n\t\t\tProfile.update(\n\t\t\t\t{\n\t\t\t\t\tuserName: \"Rick\"\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\t$set: {\n\t\t\t\t\t\tpoints: {\n\t\t\t\t\t\t\tfree: result.free\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tfunction (err, res) {\n\t\t\t\t\tif (err) throw err;\n\t\t\t\t\tconsole.log(res)\n\t\t\t\t})\n\t\t} else {\n\t\t\t// do nothing, wait for next check  \n\t\t}\n\t}\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50842791",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231633015",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports = function(sequelize, DataTypes) {\n    var user =  sequelize.define('user', {\n        id: {\n            type: DataTypes.INTEGER(11),\n            allowNull: false,\n            primaryKey: true,\n            autoIncrement: true,\n            field: 'ID'\n        },\n        password: {\n            type: DataTypes.STRING(255),\n            allowNull: false,\n            field: 'password'\n        },\n        email: {\n            type: DataTypes.STRING(255),\n            allowNull: false,\n            unique: true,\n            field: 'email'\n        },\n        roleId: {\n            type: DataTypes.INTEGER(11),\n            allowNull: false,\n            references: {\n                model: 'role',\n                key: 'ID'\n            },\n            field: 'role_id'\n        }\n    }, {\n        timestamps: false,\n        tableName: 'user'\n    });\n        user.associate = function(models) {\n            user.hasMany(models.role, {foreignKey: 'id',sourceKey: 'roleId'});\n        \n        }\n        return user;\n    };\n     \n    module.exports = function(sequelize, DataTypes) {\n       var role = sequelize.define('role', {\n    id: {\n        type: DataTypes.INTEGER(11),\n        allowNull: false,\n        primaryKey: true,\n        autoIncrement: true,\n        field: 'ID'\n    },\n    name: {\n        type: DataTypes.STRING(255),\n        allowNull: false,\n        unique: true,\n        field: 'name'\n    },\n    description: {\n        type: DataTypes.STRING(255),\n        allowNull: false,\n        field: 'description'\n    },\n    permission: {\n        type: DataTypes.INTEGER(11),\n        allowNull: false,\n        field: 'permission'\n    }\n    }, {\n        timestamps: false,\n        tableName: 'role',\n    });\n        role.associate = function(models) {\n            user.belongsTo(models.role, {foreignKey: 'id'});\n        \n        }\n        return role;\n    };\n    ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    module.exports = function(sequelize, DataTypes) {\n    var user =  sequelize.define('user', {\n        id: {\n            type: DataTypes.INTEGER(11),\n            allowNull: false,\n            primaryKey: true,\n            autoIncrement: true,\n            field: 'ID'\n        },\n        password: {\n            type: DataTypes.STRING(255),\n            allowNull: false,\n            field: 'password'\n        },\n        email: {\n            type: DataTypes.STRING(255),\n            allowNull: false,\n            unique: true,\n            field: 'email'\n        },\n        roleId: {\n            type: DataTypes.INTEGER(11),\n            allowNull: false,\n            references: {\n                model: 'role',\n                key: 'ID'\n            },\n            field: 'role_id'\n        }\n    }, {\n        timestamps: false,\n        tableName: 'user'\n    });\n        user.associate = function(models) {\n            user.hasOne(models.role, {foreignKey: 'id',sourceKey: 'roleId'});\n        \n        }\n        return user;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50940724",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "232704204",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const http = require('http');\n    const express = require('express');\n    const routes = require('./api/routes/positions');\n    const port = process.env.PORT || 3000;\n    const host = '127.0.0.1';\n    const app = express();\n    app.use('/', routes);\n    http.createServer(app).listen(port, host, function() {\n        console.log('Listening at http://' + host + ':' + port);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "    const http = require('http');\n    const express = require('express');\n    const routes = require('./api/routes/positions');\n    const port = process.env.PORT || 3000;\n    const host = '127.0.0.1';\n    const app = express();\n    app.use('/', routes);\n    http.createServer(app).listen(port);\n    console.log('Listening at http://' + host + ':' + port);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "50998516",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "233336857",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const SDK = require(\"balebot\");\n    const BaleBot = SDK.BaleBot;\n    const TextMessage = SDK.TextMessage;\n    const Group = SDK.Group;\n    \n    \n    let bot = new BaleBot('token');\n    \n    \n    bot.hears([\"/start\"], (message, responder) => {\n        my_group=new Group(group_id,\"group_access_hsah\");\n        bot.send(new TextMessage(\"Hello\"),my_group).then((res) => {\n            console.log(res)\n        }).catch((err) => {\n            console.log(err)\n        });\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const SDK = require(\"balebot\");\n    const BaleBot = SDK.BaleBot;\n    const TextMessage = SDK.TextMessage;\n    const Group = SDK.Group;\n    \n    \n    let bot = new BaleBot('token');\n    \n    \n    bot.hears([\"/start\"], (message, responder) => {\n       console.log(responder._peer)\n        bot.send(new TextMessage(\"hello\"),responder.peer).then((res) => {\n            console.log(res)\n        }).catch((err) => {\n            console.log(err)\n        });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51007602",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "233439395",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const mongoose = require('mongoose');\n    const bcrypt = require('bcryptjs');\n    const config = require('../config/database');\n    \n    const BoardSchema = mongoose.Schema({\n        _id: {\n            type: String\n        },\n        position: {\n            type: [String]\n        }\n    });\n    \n    const Board = module.exports = mongoose.model('boards', BoardSchema);\n    \n    module.exports.getBoardById = function (id, callback)\n    {\n        Board.findById(id, callback);\n    }\n    \n    module.exports.addBoard = function (newBoard, callback)\n    {\n        newBoard.save(callback);\n    }\n    \n    module.exports.updateBoard = function (update, callback)\n    {\n        newBoard.update(update,callback);\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9206349206349206,
        "Content": "    const mongoose = require('mongoose');\n    const bcrypt = require('bcryptjs');\n    const config = require('../config/database');\n    \n    const BoardSchema = mongoose.Schema({\n        _id: {\n            type: String\n        },\n        position: {\n            type: [String]\n        }\n    });\n    \n    const Board = module.exports = mongoose.model('boards', BoardSchema);\n    \n    module.exports.getBoardById = function (id, callback)\n    {\n        Board.findById(id, callback);\n    }\n    \n    module.exports.addBoard = function (newBoard, callback)\n    {\n        newBoard.save(callback);\n    }\n    \n    module.exports.updateBoard = function (condition, update, callback)\n    {\n        Board.update(condition,update,callback);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51038477",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "233771363",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const MongoClient = require('mongodb').MongoClient;\n    const url = 'mongodb://localhost:27017';\n    const dbName = 'onthemove';\n    \n    let db;\n    const initMongo = async () => {\n        const client = await MongoClient.connect(url);\n        db = await client.db(dbName);\n        await getDb.collection('comments').insert({text: 'hello'});\n    };\n    \n    module.exports = {\n        initMongo,\n        getDb() {\n          return db;\n        },\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9565217391304348,
        "Content": "    const MongoClient = require('mongodb').MongoClient;\n    const url = 'mongodb://localhost:27017';\n    const dbName = 'onthemove';\n    \n    let db;\n    const initMongo = async () => {\n        const client = await MongoClient.connect(url);\n        db = await client.db(dbName);\n        await db.collection('comments').insert({text: 'hello'});\n    };\n    \n    module.exports = {\n        initMongo,\n        getDb() {\n          return db;\n        },\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51100629",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "234439585",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // The require is painful. I wonder if there is a away to do without it?\n    const Express = require(\"express\");\n    /**\n     *  @param {Express.Request} req\n     *  @param {Express.Response} res\n     *  @param {Express.NextFunction} next\n     * \n    */\n    module.exports = function (req, res, next) {\n        res.intellisense...\n        next();\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.896551724137931,
        "Content": "    /** @type {import(\"express\").RequestHandler} */\n    module.exports = function (req, res, next) {\n        req. // intellisense works\n        next();\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51145935",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "234935631",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     exports.colors = {\n      pass: 32, //with value 32 your gray \"pass\" lines become green\n      fail: 31,\n      'bright pass': 92,\n      'bright fail': 91,\n      'bright yellow': 93,\n      pending: 36,\n      suite: 0,\n      'error title': 0,\n      'error message': 31,\n      'error stack': 90,\n      checkmark: 32,\n      fast: 90,\n      medium: 33,\n      slow: 31,\n      green: 32,\n      light: 90,\n      'diff gutter': 90,\n      'diff added': 32,\n      'diff removed': 31\n    }; here",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     exports.colors = {\n      pass: 32, //with value 32 your gray \"pass\" lines become green\n      fail: 31,\n      'bright pass': 92,\n      'bright fail': 91,\n      'bright yellow': 93,\n      pending: 36,\n      suite: 0,\n      'error title': 0,\n      'error message': 31,\n      'error stack': 90,\n      checkmark: 32,\n      fast: 90,\n      medium: 33,\n      slow: 31,\n      green: 32,\n      light: 90,\n      'diff gutter': 90,\n      'diff added': 32,\n      'diff removed': 31\n    }; ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51160727",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "235098151",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var test = values => firstTrue(\n            values.map((v) => new Promise((resolve) => {\n                setTimeout(() => resolve(v), Math.round(Math.random() * 1000));\n            }))\n        ).then((ret) => console.log(values, ret));\n    test([true, true, true]);\n    test([false, false, false]);\n    test([true, false, false]);\n    test([false, true, false]);\n    test([false, false, true]);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    function firstTrue(promises) {\n      const newPromises = promises.map(p => new Promise(\n        (resolve, reject) => p.then(v => v && resolve(true), reject)\n      ));\n      newPromises.push(Promise.all(promises).then(() => false));\n      return Promise.race(newPromises);\n    }\n    var test = values => firstTrue(\n      values.map((v) => new Promise((resolve) => {\n        setTimeout(() => resolve(v), Math.round(Math.random() * 1000));\n      }))\n    ).then((ret) => console.log(values, ret));\n    test([true, true, true]);\n    test([false, false, false]);\n    test([true, false, false]);\n    test([false, true, false]);\n    test([false, false, true]);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51182522",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "235345345",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    npm i node-fetch\n    // ------\n    import fetch from 'node-fetch';",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6153846153846154,
        "Content": "    import fetch from 'node-fetch';",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51224450",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "235799872",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const parseFormdata = require('parse-formdata')\n    const http = require('http')\n    \n    http.createServer((req, res) => {\n        parseFormdata(req, (err, data) => {\n            if (err) {\n            \t// Set whatever status code you want\n            \treturn res.end('Error...');\n            }\n            console.log('fields:', data.fields)\n            data.parts.forEach(function(part) {\n                console.log('part:', part.fieldname)\n            });\n    \n            res.writeHead(200, {\n                'Content-Type': 'text/html\\; charset=utf-8'\n            });\n            res.write(body);\n            res.end();\n        });\n    \n    }).listen(8080)",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const parseFormdata = require('parse-formdata')\n    const http = require('http')\n    \n    http.createServer((req, res) => {\n        parseFormdata(req, (err, data) => {\n            if (err) {\n            \t// Set whatever status code you want\n            \treturn res.end('Error...');\n            }\n            console.log('fields:', data.fields)\n            data.parts.forEach(function(part) {\n                console.log('part:', part.fieldname)\n            });\n    \n            res.writeHead(200, {\n                'Content-Type': 'text/html\\; charset=utf-8'\n            });\n            res.end();\n        });\n    \n    }).listen(8080)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51236410",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "235930687",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const path = require('path');\n    const { spawn } = require('child_process');\n    const commandPath = path.join(__dirname, '../../node_modules/.bin/tsc');\n    const tsc = spawn(commandPath, process.argv.slice(2));\n    tsc.stdout.on('data', data => console.log(data));\n    tsc.stderr.on('data', data => console.error(data));\n    tsc.on('close', code => console.log(`tsc exited with code ${code}`);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7755102040816326,
        "Content": "    const path = require('path');\n    const { exec } = require('child_process');\n    const tscPath = path.join(__dirname, '../../node_modules/.bin/tsc');\n    const tsc = exec(`${tscPath} ${process.argv.slice(2).join(' ')}`);\n    tsc.stdout.on('data', data => console.log(data));\n    tsc.stderr.on('data', data => console.error(data));\n    tsc.on('close', code => console.log(`tsc exited with code ${code}`));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51377194",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237464580",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const ENV = {\n      'ccc.logger.winston.level': 'info',\n      'ccc.logger.winston.transports[0].type.file': 'File',\n      'ccc.logger.winston.transports[0].filename': 'logs/testOne.log',\n      'ccc.logger.winston.transports[0].rotate': 'false',\n      'ccc.logger.winston.transports[1].type.file': 'File',\n      'ccc.logger.winston.transports[1].filename': 'logs/testTwo.log',\n      'ccc.logger.winston.transports[1].rotate': 'true'\n    }\n    for (let property in ENV) {\n      let checkForShallowProperties = property.split('.')[1]; \n      if (typeof checkForShallowProperties === 'undefined') {\n        continue;\n      }\n      let resultObject = expand(property, ENV[property])\n      console.log(resultObject)\n    }\n    function expand(string, value) {\n      items = string.split('.').map(name => {\n        const match = name.match(/\\[\\d+?\\]/)\n        return {\n          name: match ? name.slice(0, match.index) : name,\n          usesBrackets: !!match,\n          key: match && match[0].slice(1, -1)\n        }\n      })\n      \n      const output = {}\n      let ref = output\n      \n      for (const item of items) {\n        ref[item.name] = {}\n        ref = ref[item.name]\n        if (item.usesBrackets) {\n          ref[item.key] = {}\n          ref = ref[item.key]\n        }\n      }\n      ref[items[items.length - 1].name] = value\n      return output\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9701492537313433,
        "Content": "    const ENV = {\n      'ccc.logger.winston.level': 'info',\n      'ccc.logger.winston.transports[0].type': 'File',\n      'ccc.logger.winston.transports[0].filename': 'logs/testOne.log',\n      'ccc.logger.winston.transports[0].rotate': 'false',\n      'ccc.logger.winston.transports[1].type': 'File',\n      'ccc.logger.winston.transports[1].filename': 'logs/testTwo.log',\n      'ccc.logger.winston.transports[1].rotate': 'true'\n    }\n    for (let property in ENV) {\n      let checkForShallowProperties = property.split('.')[1]; \n      if (typeof checkForShallowProperties === 'undefined') {\n        continue;\n      }\n      let resultObject = expand(property, ENV[property])\n      console.log(resultObject)\n    }\n    function expand(string, value) {\n      const items = string.split('.').map(name => {\n        const match = name.match(/\\[\\d+?\\]/)\n        return {\n          name: match ? name.slice(0, match.index) : name,\n          usesBrackets: !!match,\n          key: match && match[0].slice(1, -1)\n        }\n      })\n      \n      const output = {}\n      let ref = output\n      let parent\n      \n      for (const item of items) {\n        ref[item.name] = {}\n        parent = ref\n        ref = ref[item.name]\n        if (item.usesBrackets) {\n          ref[item.key] = {}\n          ref = ref[item.key]\n        }\n      }\n      parent[items[items.length - 1].name] = value\n      return output\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51393191",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237642663",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // let path = require('path');\n    console.log(path.resolve(\".\") === __dirname); // true",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    console.log(require.resolve('.') === __dirname); // true",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51413486",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237868632",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let arr = [1,2,3]\n    arr.forEach((item, i) =>{\n        doSomething(inputParam, (err, result) => {\n            // you can access variables such as i in the parent scope here\n            // from an inline callback\n            ...\n            //Use err and result\n            console.log(\"i: \", i);\n        });\n    \n    })",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    \n    let arr = [1, 2, 3];\n    let inputParam = \"something\";\n    \n    arr.forEach((item, i) => {\n        doSomething(inputParam, (err, result) => {\n            // you can access variables such as i in the parent scope here\n            // from an inline callback\n    \n            //Use err and result\n            console.log(\"i: \", i);\n        });\n    });\n    \n    function doSomething(param1, callback) {\n        // simulate async callback\n        setTimeout(function() {\n            callback(null, \"hello\");\n        }, 100);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51424365",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "237986120",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const mongoose = require('mongoose');\n    const node_acl = require('acl');\n    \n    const connect = (callback) => {\n      mongoose.connect('mongodb://127.0.0.1:27017/aclExample', (err) => {\n        if (err) return callback(err);\n        \n        const mongoBackend = new node_acl.mongodbBackend(mongoose.connection.db, 'acl_');\n        const acl = new node_acl(mongoBackend);\n    \n        set_roles().then(() => callback(null, acl)).catch(callback);\n      });\n    };\n    \n    const set_roles = () => {\n      acl.allow([ /* stuff */ ]);\n      \n      return Promise.all([\n        acl.addUserRoles(420, 'b').then(() => console.log('added user b')),\n        acl.addUserRoles(520, 'a').then(() => console.log('added user a')),\n      ])\n    };\n    \n    module.exports = connect;",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9512195121951219,
        "Content": "    const mongoose = require('mongoose');\n    const node_acl = require('acl');\n    \n    const connect = (callback) => {\n      mongoose.connect('mongodb://127.0.0.1:27017/aclExample', (err) => {\n        if (err) return callback(err);\n        \n        const mongoBackend = new node_acl.mongodbBackend(mongoose.connection.db, 'acl_');\n        const acl = new node_acl(mongoBackend);\n    \n        set_roles(acl).then(() => callback(null, acl)).catch(callback);\n      });\n    };\n    \n    const set_roles = (acl) => {\n      acl.allow([ /* stuff */ ]);\n      \n      return Promise.all([\n        acl.addUserRoles(420, 'b').then(() => console.log('added user b')),\n        acl.addUserRoles(520, 'a').then(() => console.log('added user a')),\n      ])\n    };\n    \n    module.exports = connect;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51449070",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "238265779",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class App {\n        constructor() {\n            this.function1();\n            this.function2();\n        }\n        public function1() { /* your code */ }\n        public function2() { /* your code */ }\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    class App {\n      constructor() {\n        setTimeout(() => {\n          console.log('Hier 1');\n          this.funktion2();\n        }, 2500);\n    \n        this.funktion1(); //case #one\n      }\n    \n      funktion1() {\n        console.log('Funktion 1');\n      }\n    \n      funktion2(){\n        console.log('Funktion 2');\n      }\n    }\n    \n    new App();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51525281",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "239100254",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let x, y\n    Promise.resolve(2).then(await data = > {\n      let x = data\n      let y = await 2;\n    })",
        "MostRecentVersion": "0",
        "Errors": 11,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    Promise.resolve(2).then(async data => {\n      let x = data\n      let y = await 2\n      console.log(x, y)\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51530009",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "239151438",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    socket.on('connection', function (s) {\n        console.log('user connected ' + s.id);\n        socket.on('disconnect', function () {\n            console.log('user disconnected ' + s.id);\n        });\n    });\n    \n    \n    // Home page route.\n    router.get('/', function (req, res) {\n    \n        res.render('main', {\n            page_name: 'main'\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7924528301886793,
        "Content": "    \"use strict\";\n    const router = require('express').Router();\n   \n    module.exports = function(io) {\n    \n        io.on('connection', function (socket) {\n            console.log('user connected ' + socket.id);\n            socket.on('disconnect', function () {\n                console.log('user disconnected ' + socket.id);\n            });\n        });\n    \n        // Home page route.\n        router.get('/', function (req, res) {\n            res.render('main', {\n                page_name: 'main'\n            });\n        });\n    \n        return router;\n    };\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51614387",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240084533",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class Foo {\n      constructor (bar) {\n        this.bar = bar;\n      }\n      get bar () {\n        return this.bar;\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    class Foo {\n      constructor (bar) {\n        this._bar = bar;\n      }\n      get bar () {\n        return this._bar;\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51643176",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "240405600",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const {promisify} = require('util')\n    const getAllUsers = promisify(require('../models/userModel').getAllUsers)\n    const getAllStores = promisify(require('../models/homeModel').getAllStores)\n    \n    const index = async (req, res) => {\n      let queryResults\n      try {\n        queries = await Promise.all([getAllStores, getAllUsers])\n      } catch (err) {\n        console.error(err)\n        return res.sendStatus(500)\n      }\n      let [stores, users] = queryResults\n      \n      return res.render('home', {stores, users})\n    }\n    module.exports = {index}",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9836065573770492,
        "Content": "    const {promisify} = require('util')\n    const getAllUsers = promisify(require('../models/userModel').getAllUsers)\n    const getAllStores = promisify(require('../models/homeModel').getAllStores)\n    \n    const index = async (req, res) => {\n      let queryResults\n      try {\n        queryResults = await Promise.all([getAllStores, getAllUsers])\n      } catch (err) {\n        console.error(err)\n        return res.sendStatus(500)\n      }\n      let [stores, users] = queryResults\n      \n      return res.render('home', {stores, users})\n    }\n    module.exports = {index}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51643218",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240406170",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const mergedBatches = message2.Batches.reduce((acc, cur) => {\n      const prev = acc.find(x => x.Batch === cur.Batch)\n      \n      if (prev) prev.Lines += cur.Lines\n      else acc.push(cur)\n      \n      return acc\n    }, [])\n    \n    mergedBatches.forEach((mb) => {\n      const wb = Worker.Batches.find(x => x.Batch === mb.Batch)\n      \n      if (wb && wb.Lines < mb.Lines ) mb.Lines = wb.Lines\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8157894736842105,
        "Content": "    const message2 = {\n      Batches: [ \n        {Batch: \"AA\", Lines: 1 },\n        {Batch: \"BB\", Lines: 2 },\n        {Batch: \"BB\", Lines: 6 }\n      ]\n    }\n    const Worker = { \n      Batches: [\n        {Batch: \"AA\", Lines: 2 },\n        {Batch: \"BB\", Lines: 3 },\n      ]\n    }\n    const mergedBatches = message2.Batches.reduce((acc, cur) => {\n      const prev = acc.find(x => x.Batch === cur.Batch)\n      if (prev) prev.Lines += cur.Lines\n      else acc.push(cur)\n      return acc\n    }, [])\n    mergedBatches.forEach((mb) => {\n      const wb = Worker.Batches.find(x => x.Batch === mb.Batch)\n      if (wb && wb.Lines < mb.Lines ) mb.Lines = wb.Lines\n    })\n    console.log(mergedBatches)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51652564",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240509899",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let orderedItems = [];\n    \n    function getAllOrderedItems() {\n      const promises = orderCode.map(id => {\n        return menuModel.findOne({ _id: id });\n      })\n      // fire  all async items then resolve them all at once\n      return Promise.all(promises)\n        .then((data) => {\n          return orderedItems.concat(data);\n        })\n        .catch(err => console.log(err))\n    }\n    \n    function handleSave() {\n      let orderData = new orderModel();\n      orderData._id = helpers.createRandomString(5).toUpperCase();\n      orderData.username = username;\n      orderData.orderCode = orderCode;\n      orderData.orderedItems = orderedItems;\n      orderData.totalPrice = 5;\n    \n      orderData.save((err) => {\n        if (err) {\n          console.log(err);\n          callback(500, {\n            'Error': '1'\n          });\n        }\n        callback(200, {\n          'Message': 'Successfully ordered'\n        });\n      });\n    }\n    //do all the async tasks then do the save task\n    getAllOrderedItems()\n      .then(() => handleSave())",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9447852760736196,
        "Content": "    const orderCode = [1, 2, 3]\n    const menuModel = {\n      findOne: item => new Promise(resolve => resolve({\n        _id: item._id,\n        name: 'name'\n      }))\n    }\n    class orderModel {\n      save(cb) {\n        return cb(null)\n      }\n    }\n    /*\n      ignore all above here i'm mocking your funcs \n      and vars so that the code works\n    */\n    let orderedItems = [];\n    function getAllOrderedItems() {\n      const promises = orderCode.map(id => {\n        return menuModel.findOne({\n          _id: id\n        });\n      })\n      console.log('...start the request')\n      // fire  all async items then resolve them all at once\n      return Promise.all(promises)\n        .then((data) => {\n          console.log('...finished all requests')\n          return orderedItems.concat(data);\n        })\n        .catch(err => console.log(err))\n    }\n    function handleSave(data) {\n      let orderData = new orderModel();\n      console.log(data)\n      console.log('...start save')\n      orderData.save((err) => {\n        console.log('...save finished')\n      });\n    }\n    //do all the async tasks then do the save task\n    getAllOrderedItems()\n      .then((data) => handleSave(data))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51683932",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "240858127",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import * as Oracle from \"oracledb\";\n    import { mergeMap , ignoreElements} from 'rxjs/operators';\n    import { using } from 'rxjs/observable/using';\n    import { from as observableFrom } from 'rxjs/observable/from';\n    import { concat } from 'rxjs/observable/concat';\n    import { defer } from 'rxjs/observable/defer';\n    import { empty as observableEmpty } from 'rxjs/observable/empty';\n    class OracleConnection {\n      constructor(parameters) {\n        this.isClosed = false;\n        this.connection = null;\n        this.parameters = parameters;\n      }\n      setup() {\n        return defer(() => Oracle.getConnection(parameters)\n          .then(connection => { // do this in promise in case observable gets unsubscribed before connection is established\n            this.connection = connection;\n            if (this.isClosed) { // close in case connection got already closed before even got established\n              this.terminate();\n            }\n            return connection;\n          }));\n      }\n      close() {\n        this.isClosed = true;\n        if (this.connection !== null) {\n          const connection = this.connection;\n          this.connection = null;\n          return observableFrom(connection.close())\n            .pipe(ignoreElements()) // only propagate errors\n        }\n        return observableEmpty(); // connection already closed\n      }\n      \n      terminate() {\n        this.close().subscribe(/* handle error from connection close */);\n      }\n      unsubscribe() { // this will get called on observable unsubscribe\n        if (!this.isClosed) {\n          this.terminate();\n        }\n      }\n    }\n    class Oracle {\n      constructor(params) {\n        this.params = params;\n      }\n      getConnection() {\n        return using(() => new OracleConnection(this.params), oracleConnection => oracleConnection.setup())\n      }\n    }\n    const oracle = new Oracle({ /* some params */ });\n    oracle.getConnection()\n      .pipe(\n        mergeMap(connection => concat(\n          connection.execute('SELECT 1'),\n          connection.close() // explicitly close connection\n        )),\n        // alternatively\n        // take(1) // to close connection automatically\n      );",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    import * as Oracle from \"oracledb\";\n    import { mergeMap , ignoreElements} from 'rxjs/operators';\n    import { using } from 'rxjs/observable/using';\n    import { from as observableFrom } from 'rxjs/observable/from';\n    import { concat } from 'rxjs/observable/concat';\n    import { defer } from 'rxjs/observable/defer';\n    import { empty as observableEmpty } from 'rxjs/observable/empty';\n    class OracleConnection {\n      constructor(parameters) {\n        this.isClosed = false;\n        this.connection = null;\n        this.parameters = parameters;\n      }\n      setup() {\n        return defer(() => Oracle.getConnection(this.parameters)\n          .then(connection => { // do this in promise in case observable gets unsubscribed before connection is established\n            this.connection = connection;\n            if (this.isClosed) { // close in case connection got already closed before even got established\n              this.terminate();\n            }\n            return connection;\n          }));\n      }\n      close() {\n        this.isClosed = true;\n        if (this.connection !== null) {\n          const connection = this.connection;\n          this.connection = null;\n          return observableFrom(connection.close())\n            .pipe(ignoreElements()) // only propagate errors\n        }\n        return observableEmpty(); // connection already closed\n      }\n      \n      terminate() {\n        this.close().subscribe(/* handle error from connection close */);\n      }\n      unsubscribe() { // this will get called on observable unsubscribe\n        if (!this.isClosed) {\n          this.terminate();\n        }\n      }\n    }\n    class ConnectionManager {\n      constructor(params) {\n        this.params = params;\n      }\n      getConnection() {\n        return using(() => new OracleConnection(this.params), oracleConnection => oracleConnection.setup())\n      }\n    }\n    const manager = new ConnectionManager({ /* some params */ });\n    manager.getConnection()\n      .pipe(\n        mergeMap(connection => concat(\n          connection.execute('SELECT 1'),\n          connection.close() // explicitly close connection\n        )),\n        // alternatively\n        // take(1) // to close connection automatically\n      );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51758581",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241688589",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let account={feed:{data:[1,2,3,4,5,6,7,8,9,10].map(x=>({id:x}))}}\n    let obj={};\n    for (i = 0; i < account.feed.data.length; i++) { \n      obj[`account_post_${i}`] = `${account.feed.data[i].id}`\n    }\n    console.log(obj)",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    let account={feed:{data:[1,2,3,4,5,6,7,8,9,10].map(x=>({id:x}))}}\n    let obj={};\n    for (let i = 0; i < account.feed.data.length; i++) { \n      obj[`account_post_${i}`] = `${account.feed.data[i].id}`\n    }\n    console.log(obj)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51772161",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241839508",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const async = require('async');\n    const request = require('request');\n    let getApi = function (args, callback) {\n        request({url: 'https://httpbin.org/get', qs: args} , (err, response, body) => {\n            callback(err, JSON.parse(body));\n        });\n    };\n    const functionArray = [...Array(10).keys()].map((n) => { \n        return (callback) => getApi({ testParameter: n }, callback); \n    });\n    async.parallel(\n        functionArray, (err, results) => {\n            if (err) {\n                console.error('Error: ', err);\n            } else {\n                console.log('Results: ', results.length, results);\n            }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7126436781609196,
        "Content": "    const async = require('async');\n    const request = require('request');\n    \n    //Set whatever request options you like, see: https://github.com/request/request#requestoptions-callback\n    var requestArray = [\n        {url: 'https://httpbin.org/get'},\n        {url: 'https://httpbin.org/ip'}\n    ];\n    \n    let getApi = function (opt, callback) {\n        request(opt, (err, response, body) => {\n            callback(err, JSON.parse(body));\n        });\n    };\n    const functionArray = requestArray.map((opt) => { \n        return (callback) => getApi(opt, callback); \n    });\n    async.parallel(\n        functionArray, (err, results) => {\n            if (err) {\n                console.error('Error: ', err);\n            } else {\n                console.log('Results: ', results.length, results);\n            }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51793680",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "242086876",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    callback.emtr.emit",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3,
        "Content": "    var callback = require('./progresponses.js');\n    //...\n    callback.emtr.emit",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51857986",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "242813248",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const admin = require('firebase-admin');\n    admin.initializeApp();\n    admin.firestore().settings({\n      timestampsInSnapshots: true\n    });\n    var db = admin.firestore();\n    \n    function debugLogger(msg) {\n      // comment out to disable logging\n      console.log(msg);\n    }\n    \n    function errLogger(err) {\n      console.log(err);\n    }\n    \n    exports.sendFollowerNotification =\n      functions.database.ref('/m/{messageid}')\n        .onCreate((snapshot, context) => {\n          debugLogger('v23_stackoverflow');\n          const message = context.params.messageid;\n          debugLogger(`Message Id: ${message}`);\n    \n          const reciever = snapshot.val().r;\n          debugLogger(`Message reciever: ${reciever}`);\n          const sender = snapshot.val().s;\n          debugLogger(`Message sender: ${sender}`);\n          const payload = {\n            data: {\n              id: `${message}`,\n              sender: `${sender}`\n            }\n          };\n          debugLogger('Payload Created');\n    \n          let tokenRef = db.collection(reciever).doc('t');\n          debugLogger('Fetching Token');\n          return tokenRef.get()\n            .then(doc => {\n              debugLogger('Fetching Token started');\n              if (!doc.exists)\n                throw new Error(\"Token doesnt exist\");\n    \n              let token = doc.data().v;\n              debugLogger(`Token data: ${token}`);\n              return token;\n            })\n            .then(token => {\n              debugLogger('Sending FCM now');\n              return admin.messaging().sendToDevice(token, payload);\n            })\n            .then(() => {\n              debugLogger('Successfully sent message!');\n              return null;\n            })\n            .catch(err => {\n              errLogger(err);\n            })\n        })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9873417721518988,
        "Content": "    const functions = require('firebase-functions');\n    const admin = require('firebase-admin');\n    admin.initializeApp();\n    admin.firestore().settings({\n      timestampsInSnapshots: true\n    });\n    var db = admin.firestore();\n    \n    function debugLogger(msg) {\n      // comment out to disable logging\n      console.log(msg);\n    }\n    \n    function errLogger(err) {\n      console.log(err);\n    }\n    \n    exports.sendFollowerNotification =\n      functions.database.ref('/m/{messageid}')\n        .onCreate((snapshot, context) => {\n          debugLogger('v23_stackoverflow');\n          const message = context.params.messageid;\n          debugLogger(`Message Id: ${message}`);\n    \n          const reciever = snapshot.val().r;\n          debugLogger(`Message reciever: ${reciever}`);\n          const sender = snapshot.val().s;\n          debugLogger(`Message sender: ${sender}`);\n          const payload = {\n            data: {\n              id: `${message}`,\n              sender: `${sender}`\n            }\n          };\n          debugLogger('Payload Created');\n    \n          let tokenRef = db.collection(reciever).doc('t');\n          debugLogger('Fetching Token');\n          return tokenRef.get()\n            .then(doc => {\n              debugLogger('Fetching Token started');\n              if (!doc.exists)\n                throw new Error(\"Token doesnt exist\");\n    \n              let token = doc.data().v;\n              debugLogger(`Token data: ${token}`);\n              return token;\n            })\n            .then(token => {\n              debugLogger('Sending FCM now');\n              return admin.messaging().sendToDevice(token, payload);\n            })\n            .then(() => {\n              debugLogger('Successfully sent message!');\n              return null;\n            })\n            .catch(err => {\n              errLogger(err);\n            })\n        })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51920269",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243516436",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var rp = require('request-promise');\n    return rp('https://api.myjson.com/bins/8lwqk')\n      .then((html) => html)\n      .catch((err) => console.error(err));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6060606060606061,
        "Content": "    var rp = require('request-promise');\n    function fetchResponseByURL(relativeURL) {\n      return rp('https://api.myjson.com/bins/8lwqk')\n        .then((html) => {\n          const data = JSON.parse(html)\n          return data.merchant\n        })\n        .catch((err) => console.error(err));\n      // .catch(error => { console.log('request failed', error); });\n    \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51923327",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243550967",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const agentsEndpoint = (agentList) => Promise.all(agentList.map(getData));\n    function listEndpoints(zk) {\n        zk.agentsEndpoint()\n        .then(elements => console.log('Calling agentsEndpoint: %s', elements))\n      }\n  ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8181818181818182,
        "Content": "    function listEndpoints(zk) {\n        zk.agentsEndpoint()\n        .then(elements => console.log('Calling agentsEndpoint: %s', elements))\n      }\n  ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51951418",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243857324",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let logger = require('./path-to-logger.js');\n    process.on('unhandledRejection', (reason, promise) => {\n        logger.log({ level: 'error', message: reason.stack });\n        console.log('Unhandled Rejection at:', reason.stack || reason);\n    });\n    process.on('uncaughtException', (err) => {\n        logger.log({ level: 'error', message: err.stack });\n        console.log('Caught exception', err);\n    });\n    //other code here, your setInterval code...",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8761904761904762,
        "Content": "    \"use strict\";\n    const winston = require('winston');\n    const myFormat = winston.format.printf(info => {\n        return `${info.timestamp} ${info.level}: ${info.message}`;\n    });\n    const logger = winston.createLogger({\n        level: \"debug\",\n        format: winston.format.combine(winston.format.timestamp(), myFormat),  // winston.format.json(),\n        transports: [\n            new winston.transports.File({filename: \"logs/error.log\", level: 'error'}),\n            new winston.transports.File({filename: 'logs/combined.log'}),\n        ],\n        exceptionHandlers: [\n            new winston.transports.File({ filename: 'logs/exceptions.log' }),\n            new winston.transports.File({ filename: 'logs/combined.log' })\n        ],\n        exitOnError: false,\n        // handleExceptions: true // Otherwise, you should use this in options.\n    });\n    process.on('unhandledRejection', (reason, promise) => {\n        logger.debug(reason);\n    });\n    process.on('uncaughtException', (err) => {\n        logger.debug(err);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "51999331",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "244406258",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (1).getOwnProperty(\"MAX_SAFE_INTEGER\")",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9285714285714286,
        "Content": "    (1).hasOwnProperty(\"MAX_SAFE_INTEGER\")",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52017916",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "244623450",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const badValues = ['', null, undefined, false, {}, []];\n    var values = [1,2,3,4,null,5];\n    for(let i = 0; i<badValues.length; i++){\n       if(values.includes(badValues[i])){\n           console.log(\"bad value present\");\n           break;\n       }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const badValues = ['', 'null', 'undefined', 'false', '{}', '[]'];\n    var values = [1,2,3,4,'null',5];\n    for(let i = 0; i<badValues.length; i++){\n       if(values.includes(badValues[i])){\n           console.log(\"bad value present\");\n           break;\n       }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52028621",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "244743850",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const frag = new JSDOM(`<!DOCTYPE html><table><tr>${td.join(\"\")}</tr></table>`);\n    const data = [...frag.querySelectorAll(\"td\")].reduce((ob, td) => {\n      const a = td.textContent.split(':');\n      ob[a[0].trim()] = a.slice(1).join(\":\").trim();\n      return ob;\n    }, {})\n    console.log( data );",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7777777777777778,
        "Content": "    const jsdom = require(\"jsdom\");\n    const { JSDOM } = jsdom;\n    \n    const td = ['<td bgcolor=\"#2D2F34\">&nbsp;<font color=\"#999999\">Name: </font><a href=\"site.php?page=send&sendto=Username\"><font color=\"#999999\">Username</font></a>&nbsp;&nbsp;&nbsp;</td>', '<td bgcolor=\"#2D2F34\">&nbsp;<font color=\"#999999\">Crew: </font><a href=\"site.php?page=crewprofile&id=2120\"><font color=\"#999999\">My Crew</font></a> </td>', '<td bgcolor=\"#2D2F34\">&nbsp;<font color=\"#999999\">Wealth: Rich</font></td>', '<td bgcolor=\"#2D2F34\">&nbsp;<font color=\"#999999\">Rank: Hitman</td>', '<td bgcolor=\"#2D2F34\">&nbsp;<font color=\"#999999\">Status: Alive ( </font><font color=green>Online</font><font color=\"#999999\"> )</font></td>', '<td bgcolor=\"#2D2F34\">&nbsp;<font color=\"#999999\">Messages sent: 3</font></td>', '<td bgcolor=\"#2D2F34\">&nbsp;<font color=\"#999999\">Messages received: 1</font></td>'];\n    \n    const dom = new JSDOM(`<table><tr>${td.join(\"\")}</tr></table>`);\n    const frag = dom.window.document;\n    const data = [...frag.querySelectorAll(\"td\")].reduce((ob, td) => {\n        const a = td.textContent.split(':');\n        ob[a[0].trim()] = a.slice(1).join(\":\").trim();\n        return ob;\n    }, {});\n    \n    console.log( data );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52053554",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "245025977",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    [\n        [\"2\", \"3\", \"+\"],\n        \"6\", \"4\", \"-\"]\n    ]",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    [\n        [\"2\", \"3\", \"+\"],\n        [\"6\", \"4\", \"-\"]\n    ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52074884",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "245269322",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const mongoose = require( 'mongoose' ); \n    \n    // just call it once to connect to your DB\n    const connectToMongoDB = uri => new Promise((resolve, reject) => {\n      mongoose.connect(uri, { useNewUrlParser: true }); \n      const mongooseCo = mongoose.connection;\n      db.on('error', err => reject(err))\n      db.once('open', () => resolve(mongooseCo));\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9375,
        "Content": "    const mongoose = require( 'mongoose' ); \n    \n    // just call it once to connect to your DB\n    const connectToMongoDB = uri => new Promise((resolve, reject) => {\n      mongoose.connect(uri, { useNewUrlParser: true }); \n      const mongooseCo = mongoose.connection;\n      mongooseCo.on('error', err => reject(err))\n      mongooseCo.once('open', () => resolve(mongooseCo));\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52082257",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "245352952",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const os = require('os');\n    const THRESHOLD = 1000000 * 100; // 100 mb\n    \n    // Check how much space left with a minute interval\n    setInterval(function () {\n        if (os.freemem() - process.memoryUsage() < THRESHOLD) {\n            console.log('We lack of memory!');\n        }\n    \n    }, 1000 * 60);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9696969696969697,
        "Content": "    const os = require('os');\n    const THRESHOLD = 1000000 * 100; // 100 mb\n    \n    // Check how much space left with a minute interval\n    setInterval(function () {\n        if (os.freemem() - process.memoryUsage().rss < THRESHOLD) {\n            console.log('We lack of memory!');\n        }\n    \n    }, 1000 * 60);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52086032",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "245397202",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.post('/puppeteer', async (req, res) => {\n        const LOGIN_URL = `https://twitter.com/login`\n        const ACCOUNT_URL = `https://twitter.com/settings/account`\n        const CREDENTIALS = req.body\n    \n        // Setting up Puppeteer\n        const browser = await puppeteer.launch({ headless: false })\n        const page = await browser.newPage()\n        await page.setViewport({ width: 1920, height: 926 })\n    \n        // Go to login page\n        await page.goto(LOGIN_URL)\n    \n        // Let's wait until submit button is available, without this you won't be able to login\n        await page.waitForSelector('.submit')\n    \n        // Let's fill in the form and submit it\n        await page.$eval('.js-username-field', (el, payload) => el.value = payload, CREDENTIALS.username)\n        await page.$eval('.js-password-field', (el, payload) => el.value = payload, CREDENTIALS.password)\n        await page.click('button.submit')\n    \n        // Wait for navigation in case there's some redirect\n        await page.waitForNavigation()\n    \n        // We are logged in, now navigate to the page you want to get data from, i.e. account settings\n        await page.goto(ACCOUNT_URL)\n    \n        // Wait for #user_lang select list\n        await page.waitForSelector('#user_lang')\n    \n        // Find out what's user's selected language (there might be a better way to do this, I rarely need to do DOM manipulations)\n        const userLanguage = await page.$eval('#user_lang', languages => [].map.call(languages, lang => { return { lang: lang.textContent, selected: lang.selected } }).find(el => el.selected).lang)\n    \n        // This scenario assumes we succeed, so I return a successful response, but you might want to return different error codes based on results\n        return res.status(200).json(userLanguage)\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9343065693430657,
        "Content": "    const express = require('express')\n    const app = express()\n    const bodyParser = require('body-parser')\n    app.use(bodyParser.json())\n    app.use(bodyParser.urlencoded({ extended: false }))\n    app.set('trust proxy')\n    const puppeteer = require('puppeteer')\n    const http = require('http')\n    \n    app.post('/puppeteer', async (req, res) => {\n        const LOGIN_URL = `https://twitter.com/login`\n        const ACCOUNT_URL = `https://twitter.com/settings/account`\n        const CREDENTIALS = req.body\n    \n        // Setting up Puppeteer\n        const browser = await puppeteer.launch({ headless: false })\n        const page = await browser.newPage()\n        await page.setViewport({ width: 1920, height: 926 })\n    \n        // Go to login page\n        await page.goto(LOGIN_URL)\n    \n        // Let's wait until submit button is available, without this you won't be able to login\n        await page.waitForSelector('.submit')\n    \n        // Let's fill in the form and submit it\n        await page.$eval('.js-username-field', (el, payload) => el.value = payload, CREDENTIALS.username)\n        await page.$eval('.js-password-field', (el, payload) => el.value = payload, CREDENTIALS.password)\n        await page.click('button.submit')\n    \n        // Wait for navigation in case there's some redirect\n        await page.waitForNavigation()\n    \n        // We are logged in, now navigate to the page you want to get data from, i.e. account settings\n        await page.goto(ACCOUNT_URL)\n    \n        // Wait for #user_lang select list\n        await page.waitForSelector('#user_lang')\n    \n        // Find out what's user's selected language (there might be a better way to do this, I rarely need to do DOM manipulations)\n        const userLanguage = await page.$eval('#user_lang', languages => [].map.call(languages, lang => { return { lang: lang.textContent, selected: lang.selected } }).find(el => el.selected).lang)\n    \n        // This scenario assumes we succeed, so I return a successful response, but you might want to return different error codes based on results\n        return res.status(200).json(userLanguage)\n    })\n    const server = http.createServer(app)\n    server.listen(8000)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52108588",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "245659755",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    1) First require mongoose like this var Mongoose = require('mongoose');\n    \n    2) use\n      { $match : { \"vendorID\" :  Mongoose.Types.ObjectId(req.params.vendorID)\n     } }\n    \n    **instead of** \n    \n     { $match : { \"vendorID\" : req.params.vendorID } }",
        "MostRecentVersion": "0",
        "Errors": 19,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.38095238095238093,
        "Content": "    var Mongoose = require('mongoose');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52153650",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "246168877",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (async () => {\n        await sequelize.sync();\n    \n        for (const models of models) {\n            await model.associate(models);\n        }\n    })();",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3870967741935484,
        "Content": "    (async () => {\n        const models = require('./models');\n    \n        const users = await models.User.findAll({\n            include: [\n                {\n                    model: models.Trip,\n                },\n                {\n                    model: models.AuthoriseDate,\n                },\n            ],\n        });\n    \n        console.log(users);\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52153650",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "246168879",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const User = sequelize.define('user', {/* ... */})\n    const Project = sequelize.define('project', {/* ... */})\n    \n    // OK. Now things get more complicated (not really visible to the user :)).\n    // First let's define a hasMany association\n    Project.hasMany(User, {as: 'Workers'})",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.15873015873015872,
        "Content": "    module.exports = (sequelize, DataTypes) => {\n        const user = sequelize.define('User', {\n            id: { type: DataTypes.INTEGER, primaryKey: true, autoIncrement: true },\n            email: { type: DataTypes.STRING(50), unique: true },\n            phoneNumber: {\n                type: DataTypes.STRING(12), unique: true,\n            },\n        });\n    \n        user.associate = (models) => {\n            // associations can be defined here\n            user.hasOne(models.AuthoriseDate, { foreignKey: 'userId' });\n            user.hasMany(models.Trip, { foreignKey: 'userId' });\n        };\n    \n    \n        return user;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52212883",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "246835365",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const readPkg = require('read-pkg');\n    const extensionId = 'ms-python.python';\n    const extensionPath = vscode.extensions.getExtension(extensionId).extensionPath;\n    (async () => {\n        console.log(await readPkg({cwd: extensionPath});\n    })();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5454545454545454,
        "Content": "    const readManifest = require('vscode-read-manifest');\n     \n    // Async\n    (async () => {\n        let manifest = await readManifest('ms-python.python');\n    })();\n     \n    // Sync\n    let manifest = readManifest.sync('ms-python.python');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52263257",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "247392431",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function encrypt(plaintext, passphrase) {\n        var salt = crypto.randomBytes(16);\n        var nonce = crypto.randomBytes(12);\n        var key = crypto.pbkdf2Sync(passphrase, salt, 40000, 32, 'sha256');\n        var cipher = crypto.createCipheriv('aes-256-gcm', key, nonce);\n        var ciphertext = Buffer.concat([cipher.update(plaintext), cipher.final()]);\n        var output = Buffer.concat([salt, nonce, ciphertext, cipher.getAuthTag()]);\n        return output.toString('base64');\n    }\n    \n    function decrypt(ciphertext, passphrase) {\n        var input = new Buffer(ciphertext, 'base64');\n        var salt = input.slice(0, 16);\n        var nonce = input.slice(16, 28);\n        ciphertext = input.slice(28, -16);\n        var tag = input.slice(-16);\n        var key = crypto.pbkdf2Sync(passphrase, salt, 40000, 32, 'sha256');\n        var cipher = crypto.createDecipheriv('aes-256-gcm', key, nonce);\n        cipher.setAuthTag(tag);\n        var plaintext = Buffer.concat([cipher.update(ciphertext), cipher.final()]);\n        return plaintext.toString('utf-8');\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var crypto = require('crypto');\n    function encrypt(plaintext, passphrase) {\n        var salt = crypto.randomBytes(16);\n        var nonce = crypto.randomBytes(12);\n        var key = crypto.pbkdf2Sync(passphrase, salt, 40000, 32, 'sha256');\n        var cipher = crypto.createCipheriv('aes-256-gcm', key, nonce);\n        var ciphertext = Buffer.concat([cipher.update(plaintext), cipher.final()]);\n        var output = Buffer.concat([salt, nonce, ciphertext, cipher.getAuthTag()]);\n        return output.toString('base64');\n    }\n    \n    function decrypt(ciphertext, passphrase) {\n        var input = new Buffer(ciphertext, 'base64');\n        var salt = input.slice(0, 16);\n        var nonce = input.slice(16, 28);\n        ciphertext = input.slice(28, -16);\n        var tag = input.slice(-16);\n        var key = crypto.pbkdf2Sync(passphrase, salt, 40000, 32, 'sha256');\n        var cipher = crypto.createDecipheriv('aes-256-gcm', key, nonce);\n        cipher.setAuthTag(tag);\n        var plaintext = Buffer.concat([cipher.update(ciphertext), cipher.final()]);\n        return plaintext.toString('utf-8');\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52281583",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "247603690",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let parser = required('xml2json');\n    let xmlString = \"<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <TestScenario>\n       <TestSuite name=\"TS_EdgeHome\">\n          <TestCaseName name=\"tc_Login\">dt_EdgeCaseHome,dt_EdgeCaseRoute</TestCaseName>\n          <TestCaseName name=\"tc_Logout\">dt_EdgeCaseRoute</TestCaseName>\n       </TestSuite>\n       <TestSuite name=\"TS_EdgePanel\">\n          <TestCaseName name=\"tc_AddContract\">dt_EdgeCaseHome,dt_EdgeCaseSpectrum</TestCaseName>\n       </TestSuite>\n          <TestSuite name=\"TS_EdgeRoute\">\n          <TestCaseName name=\"tc_VerifyContract\">dt_EdgeCaseRoute</TestCaseName>\n          <TestCaseName name=\"tc_Payment\">dt_EdgeCaseRoute</TestCaseName>\n       </TestSuite>\n       <TestSuite name=\"TS_EdgeSpectrum\">\n          <TestCaseName name=\"tc_ClientFeedback\">dt_EdgeCaseSpectrum</TestCaseName>\n       </TestSuite>\n    </TestScenario>\";\n    \n    let json = parser.toJson(xmlString);\n    console.log(json);",
        "MostRecentVersion": "0",
        "Errors": 42,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    let xmlParser = require('xml2json');\n    let xmlString = `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <TestScenario>\n       <TestSuite name=\"TS_EdgeHome\">\n          <TestCaseName name=\"tc_Login\">dt_EdgeCaseHome,dt_EdgeCaseRoute</TestCaseName>\n          <TestCaseName name=\"tc_Logout\">dt_EdgeCaseRoute</TestCaseName>\n       </TestSuite>\n       <TestSuite name=\"TS_EdgePanel\">\n          <TestCaseName name=\"tc_AddContract\">dt_EdgeCaseHome,dt_EdgeCaseSpectrum</TestCaseName>\n       </TestSuite>\n          <TestSuite name=\"TS_EdgeRoute\">\n          <TestCaseName name=\"tc_VerifyContract\">dt_EdgeCaseRoute</TestCaseName>\n          <TestCaseName name=\"tc_Payment\">dt_EdgeCaseRoute</TestCaseName>\n       </TestSuite>\n       <TestSuite name=\"TS_EdgeSpectrum\">\n          <TestCaseName name=\"tc_ClientFeedback\">dt_EdgeCaseSpectrum</TestCaseName>\n       </TestSuite>\n    </TestScenario>`;\n    \n    console.log('JSON output', xmlParser.toJson(xmlString));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52301708",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "247834327",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var userMosque = req.params.userMosque;\n    userMosque = JSON.parse(userMosque)\n    var city = userMosque.city",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.42424242424242425,
        "Content": "    const express = require('express')\n    const app = express()\n    app.get('/shalat/:userMosque', (req, res) => {\n\t  var userMosque = req.params.userMosque;\n      userMosque = JSON.parse(userMosque)\n      var city = userMosque.city\n\t  console.log(city)\n      res.send(city)\n    })\n    app.listen(3000, () => console.log('Example app listening on port 3000!'))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52327421",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "248122194",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var express = require('express');\n    var history = require('connect-history-api-fallback');\n    var app = express();\n    // Serve all the files in '/dist/js' and '/dist/css' directory\n    app.use(express.static('dist/js'));\n    app.use(express.static('dist/css'));\n    // Support history api \n    app.use(history({\n      index: '/dist/index.html'\n    });\n    app.listen(3000, function () {\n      console.log('Example app listening on port 3000!');\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var express = require('express');\n    var history = require('connect-history-api-fallback');\n    var app = express();\n    // Middleware for serving '/dist' directory\n    const staticFileMiddleware = express.static('dist');\n    \n    // 1st call for unredirected requests \n    app.use(staticFileMiddleware);\n    // Support history api \n    app.use(history({\n      index: '/dist/index.html'\n    }));\n    // 2nd call for redirected requests\n    app.use(staticFileMiddleware);\n    app.listen(3000, function () {\n      console.log('Example app listening on port 3000!');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52343466",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "248302562",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     (function() { // prevent leaking to global scope\n       var A = (function(exports) { // A.js\n         exports.default = function() { };\n         return exports;\n       })({});\n      (function(exports, A) { // B.js\n        A();\n      })({}, A.default);\n     })();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     (function() { // prevent leaking to global scope\n       // emulated loader:\n       var modules = {};\n       function require(name) { return modules[name]; }\n       function define(name, fn) {\n         var module = modules[name] = { exports: {} };\n         fn(module, module.exports, require);\n       }\n      \n      // The code:\n      define(\"A\", function(module, exports, require) {\n          // A.js\n         exports.default = function() { };\n      });\n      define(\"B\", function(module, exports, require) { \n        // B.js\n       var A = require(\"A\").default;\n        A();\n      });\n     })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52384224",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "248735976",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const doc = Object.keys(obj).reduce((acc, curr) => {\n        const val = obj[curr];\n        if (curr === \"geography\") {\n            acc[\"geography\"] = obj[curr];\n            return acc;\n        };\n    \n        switch(curr) {\n            case \"year\":\n            case \"gender\":\n            case \"age\":\n                acc[`${obj['year']}.${obj['gender'].toLowerCase()}.${obj['age']}`] = obj['size']\n            \n        }\n        return acc;\n    \n    }, {});",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7857142857142857,
        "Content": "    const obj = {\n        \"size\": 100,\n        \"year\": 2015,\n        \"geography\": \"London\",\n        \"age\": \"21\",\n        \"gender\": \"Female\"\n    }\n    const doc = Object.keys(obj).reduce((acc, curr) => {\n        if (curr === \"geography\") {\n            acc[\"geography\"] = obj[curr];\n            return acc;\n        };\n        switch(curr) {\n            case \"year\":\n            case \"gender\":\n            case \"age\":\n                acc[`${obj['year']}.${obj['gender'].toLowerCase()}.${obj['age']}`] = obj['size']\n        }\n        return acc;\n    }, {});\n    console.log(JSON.stringify(doc, null, 4));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52454954",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "249417869",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     module.exports = myMessage;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "     const myMessage = 'Bananas';\n     module.exports.myMessage = myMessage;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52455615",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "249423911",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const request = require('./rq.js');\n    const callback = require('./callback.js')\n    \n    const url = `https://localhost.3000/${id}`;\n    \n    function page() {\n        return request(url, callback)\n    }\n  \n    module.exports = {page: page} //Tell me how to export all code from module",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9583333333333334,
        "Content": "    const request = require('./rq.js');\n    const callback = require('./callback.js')\n    \n    function page({id}) {\n        const url = `https://localhost.3000/${id}`;\n        return request(url, callback)\n    }\n  \n    module.exports = {page: page} //Tell me how to export all code from module",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52554620",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250369328",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (function (root, factory) {\n        if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\n            // Node\n            module.exports = factory();\n    \t\t// Global\n        } else {\n            root.file1 = factory();\n        }\n    }(this, function () {\n    \t// module body\n        function abc(foo) {\n    \t    console.log(\"abc received:\", foo);\n    \t}\n    \n    \treturn abc;\n    }));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    (function (root, factory) {\n        if (typeof exports === 'object' && typeof exports.nodeName !== 'string') {\n            // Node\n            module.exports = factory();\n    \t\t// Global\n        } else {\n            root.file1 = factory();\n        }\n    }(this, function () {\n    \t// module body\n        function abc(foo) {\n    \t    console.log(\"abc received:\", foo);\n    \t}\n    \n    \treturn { abc: abc };\n    }));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52625401",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251049816",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const key = require.resolve('path/to/file')\n    delete delete require.cache[key]",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const key = require.resolve('path/to/file')\n    delete require.cache[key]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52653120",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251316345",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var playerRank = $('.ranked-stats__rating-point');\n    var playerRankText = playerRank[0].text();\n    console.log(playerRankText);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var url = \"https://pubg.op.gg/api/users/59fdce2bdf1b210001a9324d/ranked-stats?season=pc-2018-01&queue_size=1&mode=tpp\";\n    var request = require('request');\n    \n    request(url, function(err, resp, body) {\n      var jsonData = JSON.parse(body);\n      var score = jsonData['stats']['rating'];\n      console.log(score);  // outputs \"1520\"\n    } );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52667075",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251448213",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // file name - run.js\n    var asyncFunction = require(index.js); // This fetches the function, as its exported in index.js\n    asyncFunction() // this executes the function.",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.95,
        "Content": "    // file name - run.js\n    var asyncFunction = require('index.js'); // This fetches the function, as its exported in index.js\n    asyncFunction() // this executes the function.",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52702751",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251786989",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.use(bodyParser.urlencoded({ extended: true })); // for parsing application/x-www-form-urlencoded",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3018867924528302,
        "Content": "    var app = require('express')();\n    var bodyParser = require('body-parser');\n    \n    app.use(bodyParser.json()); // for parsing application/json\n    app.use(bodyParser.urlencoded({ extended: true })); // for parsing application/x-www-form-urlencoded\n    \n    \n    replaceUser: async (req, res, next) => {\n        //enforce that req.body must contain all the fields\n        const { userId } = req.params;\n        const  newUser  = req.body;\n        // const result = await User.findByIdAndUpdate(userId, newUser, {new: true}).exec();\n        // console.log(result)\n        console.log(newUser)\n        console.log(userId)\n    \n        // res.status(200).json(result);\n        // console.log(userId, newUser)\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52727151",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252018910",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function runTest() {\n      let conn;\n      let result;\n      try {\n        conn = await oracledb.getConnection(config);\n        result = await conn.execute(\n          'select * from all_objects where rownum < 100',\n          [],\n          {\n            resultSet: true\n          }\n        );\n        let row;\n        while (row = await result.resultSet.getRow()) {\n          console.log(row);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        if (result && result.resultSet) {\n          try {\n            await result.resultSet.close();\n          } catch (err) {\n            console.error(err);\n          }\n        }\n        if (conn) {\n          try {\n            await conn.close();\n          } catch (err) {\n            console.error(err);\n          }\n        }\n      }\n    }\n    runTest();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9397590361445783,
        "Content": "    const oracledb = require('oracledb');\n    const config = require('./dbConfig.js');\n    async function runTest() {\n      let conn;\n      let result;\n      try {\n        conn = await oracledb.getConnection(config);\n        result = await conn.execute(\n          'select * from all_objects where rownum < 100',\n          [],\n          {\n            resultSet: true\n          }\n        );\n        let row;\n        while (row = await result.resultSet.getRow()) {\n          console.log(row);\n        }\n      } catch (err) {\n        console.error(err);\n      } finally {\n        if (result && result.resultSet) {\n          try {\n            await result.resultSet.close();\n          } catch (err) {\n            console.error(err);\n          }\n        }\n        if (conn) {\n          try {\n            await conn.close();\n          } catch (err) {\n            console.error(err);\n          }\n        }\n      }\n    }\n    runTest();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52743658",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252181043",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var jsforce = require(\"jsforce\");\n    var moment = require('moment');\n    \n    function login() {\n        return conn.login(\"myUid\", \"myPwd\");\n    }\n    \n    function queryTaskSumForDay(conn, m) {\n        return conn.query(\"SELECT SUM(Total_ETA_of_all_tasks__c), SUM(Total_ETA__C) from Daily_Update__c where DAY_ONLY(createddate)= \" + m.format('YYYY-MM-DD'));\n    }\n    \n    function queryTaskCountForDay(conn, m) {\n        return conn.query(\"SELECT count(Id), Task_Type__c FROM Daily_Task__c where DAY_ONLY(createddate) = \" + m.format('YYYY-MM-DD') + \" group by Task_Type__c\");\n    }\n    ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.96875,
        "Content": "    var jsforce = require(\"jsforce\");\n    var moment = require('moment');\n    \n    function login(conn) {\n        return conn.login(\"myUid\", \"myPwd\");\n    }\n    \n    function queryTaskSumForDay(conn, m) {\n        return conn.query(\"SELECT SUM(Total_ETA_of_all_tasks__c), SUM(Total_ETA__C) from Daily_Update__c where DAY_ONLY(createddate)= \" + m.format('YYYY-MM-DD'));\n    }\n    \n    function queryTaskCountForDay(conn, m) {\n        return conn.query(\"SELECT count(Id), Task_Type__c FROM Daily_Task__c where DAY_ONLY(createddate) = \" + m.format('YYYY-MM-DD') + \" group by Task_Type__c\");\n    }\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52772281",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "252452025",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const util = require.requireActual('util');  // get the real util\n    \n    const realPromisify = util.promisify;  // capture the real promisify\n    \n    util.promisify = (...args) => {\n      if (args[0] === setTimeout) {  // return a mock if promisify(setTimeout)\n        return time =>\n          new Promise(resolve => {\n            setTimeout(resolve, time);\n          });\n      }\n      return realPromisify(...args);  // ...otherwise call the real promisify\n    }\n    \n    module.exports = util;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.967741935483871,
        "Content": "    const realPromisify = util.promisify;  // capture the real promisify\n    \n    util.promisify = (...args) => {\n      if (args[0] === setTimeout) {  // return a mock if promisify(setTimeout)\n        return time =>\n          new Promise(resolve => {\n            setTimeout(resolve, time);\n          });\n      }\n      return realPromisify(...args);  // ...otherwise call the real promisify\n    }\n    \n    module.exports = util;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52782414",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252540470",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    {\n    \t$match: {\n    \t\t$expr: {\n    \t\t\t$lt: [\"$distance\", \"$range\"] // \"calculated_distance < tutor_range\"\n    \t\t}\n    \t}\n    },",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    {\n    \t$match: {\n    \t\t$expr: {\n    \t\t\t$lt: [\"$distance\", \"$range\"] // \"calculated_distance < tutor_range\"\n    \t\t}\n    \t}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52787591",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252580632",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "       //Mongoose Schema\n       var postSchema = new mongoose.Schema({\n           username: String,\n           date: Date,\n           title: String,\n           link: String,\n           text: String,\n           votes: Number,\n           community: String\n       });\n       module.exports = mongoose.model(\"Post\", postSchema);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "       var mongoose = require('mongoose');\n       //Mongoose Schema\n       var postSchema = new mongoose.Schema({\n           username: String,\n           date: Date,\n           title: String,\n           link: String,\n           text: String,\n           votes: Number,\n           community: String\n       });\n       var Post = mongoose.model(\"Post\", postSchema);\n       module.exports = Post;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52799639",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252676245",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const [deposits, withdrawals] = await Promise.all(promises);\n    return deposits - withdrawals;",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.3076923076923077,
        "Content": "    function totalPurchases(user) {\n        return new Promise(function (resolve, reject) {\n            setTimeout(function(){\n                resolve(5);\n            }, 2000);\n        })\n    }\n    function totalDW(user) {\n        return new Promise(function (resolve, reject) {\n            setTimeout(function(){\n                resolve(3);\n            }, 1000);\n        });\n    }\n    \n    let balance = async (user) => {\n        let promises = [];\n        promises[0] = totalPurchases(user);\n        promises[1] = totalDW(user);   \n        const [deposits, withdrawals] = await Promise.all(promises);\n        return deposits - withdrawals;\n    }\n    balance().then(r => { //If `balance' is called from an async method you can do await here. Else you need to do `then` like I have done here\n        console.log(r); //prints 2\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52804722",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "252714384",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    devServer: {\n      index: '',\n      open: true,\n      overlay: {\n        warnings: true,\n        errors: true\n      },\n      host: 'mysite.test',\n      proxy: {\n        '**': {\n          target: 'http://mysite.test',\n          changeOrigin: true,\n        }\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 19,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4727272727272727,
        "Content": "    const path = require('path');\n    const devMode = process.env.NODE_ENV !== \"production\";\n    \n    let conf = {\n        mode: devMode ? \"development\" : \"production\",\n        entry: {\n            index: './src/js/index.js'\n        },\n        output: {\n            path: path.join( __dirname, 'public/build' ),\n            publicPath: '/build/',\n            filename: '[name].js'\n        },\n        devServer: {\n          index: '',\n          open: true,\n          overlay: {\n            warnings: true,\n            errors: true\n          },\n          host: 'yoursitename.test',\n          proxy: {\n            '**': {\n              target: 'http://yoursitename.test',\n              changeOrigin: true,\n            }\n          }\n        }\n    };\n    \n    module.exports = conf;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52834426",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252934140",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     class HttpError extens Error {\n        constructor(code, message) {\n          super(message)\n          this.code = code\n        }\n     }\n     class BadRequestError extens HttpError {\n        constructor(message) {\n          super(400, message)\n        }\n     }",
        "MostRecentVersion": "0",
        "Errors": 16,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     class HttpError extends Error {\n        constructor(code, message) {\n          super(message)\n          this.code = code\n        }\n     }\n     class BadRequestError extends HttpError {\n        constructor(message) {\n          super(400, message)\n        }\n     }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52861334",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253111277",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const functions = require(\"firebase-functions\");\n    const admin = require(\"firebase-admin\");\n    admin.initializeApp();\n    \n    const request = require(\"request-promise-native\");\n    \n    exports.foo = functions.https.onRequest(async (req, res) => {\n        var ref = admin.database().ref(\"/foo\");\n        var options = {\n            url:\n                \"https://api.meetup.com/2/open_events?sign=true&photo-host=public&lat=39.747988&lon=-104.994945&page=20&key=****\",\n            json: true\n        };\n        try {\n            const body = await request(options);\n            if (\"results\" in body) {\n                for (var i = 0; i < body.results.length; i++) {\n                    var result = body.results[i];\n                    if (\n                        \"name\" in result &&\n                        \"description\" in result &&\n                        \"group\" in result &&\n                        \"urlname\" in result.group\n                    ) {\n                        var event = {\n                            name: result.name,\n                            description: result.description\n                        };\n    \n                        var groupOptions = {\n                            url:\n                                \"https://api.meetup.com/\" +\n                                result.group.urlname +\n                                \"?sign=true&photo-host=public&key=****\",\n                            json: true\n                        };\n                        var categoryResultResponse = await request(groupOptions);\n                        if (\n                            \"category\" in groupBody &&\n                            \"name\" in groupBody.category\n                        ) {\n                            event.category = categoryResult;\n                        }\n    \n                        await ref.push(event);\n                    }\n                }\n            }\n            return res.status(200).send(\"processed events\");\n        } catch (error) {\n            console.log(JSON.stringify(error));\n            return res.status(500).end();\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const functions = require(\"firebase-functions\");\n    const admin = require(\"firebase-admin\");\n    admin.initializeApp();\n    \n    const request = require(\"request-promise-native\");\n    \n        exports.foo = functions.https.onRequest(async (req, res) => {\n        const ref = admin.database().ref(\"/foo\");\n        try {\n            const reqEventOptions = {\n                url:\n                    \"https://api.meetup.com/2/open_events?sign=true&photo-host=public&lat=39.747988&lon=-104.994945&page=20&key=xxxxxx\",\n                json: true\n            };\n            const bodyEventRequest = await request(reqEventOptions);\n            if (!bodyEventRequest.results) {\n                return res.status(200).end();\n            }\n            await Promise.all(\n                bodyEventRequest.results.map(async result => {\n                    if (\n                        result.name &&\n                        result.description &&\n                        result.group &&\n                        result.group.urlname\n                    ) {\n                        const event = {\n                            name: result.name,\n                            description: result.description\n                        };\n    \n                        // get group information\n                        const groupOptions = {\n                            url:\n                                \"https://api.meetup.com/\" +\n                                result.group.urlname +\n                                \"?sign=true&photo-host=public&key=xxxxxx\",\n                            json: true\n                        };\n    \n                        const categoryResultResponse = await request(groupOptions);\n                        if (\n                            categoryResultResponse.category &&\n                            categoryResultResponse.category.name\n                        ) {\n                            event.category = categoryResultResponse.category.name;\n                        }\n    \n                        // save to the databse\n                        return ref.push(event);\n                    }\n                })\n            );\n            return res.status(200).send(\"processed events\");\n        } catch (error) {\n            console.error(error.message);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52911848",
    "RootLocalId": "26",
    "RootPostBlockVersionId": "253425971",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var x = \"\";\n    module.exports = {\n        set: function (val) {x=val},\n        get: function () {return val}\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var x = \"\";\n    module.exports = {\n        set: function (val) {x=val},\n        get: function () {return x}\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "52986947",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "253873908",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    \n    var htmlContent = '<html>Whatever</html>';\n    fs.writeFile('/my-page.html', htmlContent);\n ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6363636363636364,
        "Content": "    var fs = require('fs');\n    \n    var htmlContent = '<html>Whatever</html>';\n    fs.writeFile('/my-page.html', htmlContent, (error) => { /* handle error */ });\n ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53076177",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "254267724",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function testStr(testVal, targetStr) {\n        if (testVal === targetStr) {\n            console.log(\"two strings are the same\");\n            return;\n        } \n        if (testVal.length !== targetStr.length) {\n            console.log(\"two strings are different length\");\n            if (testVal.trim() === targetStr) {\n                console.log(\"Found it: testVal.trim() === targetStr\");\n                return;\n            } else {\n                console.log(\"testVal.trim() !== targetStr, trimming whitespace off ends is not enough\");\n            }\n            testVal = testVal.trim();\n        }\n        if (testVal.replace(/\\s/g, \"\") === targetStr) {\n            console.log(\"replacing whitespace makes a match\")\n            return;\n        }\n        // still no match, so lets output each separate character as a char code\n        // to manually see what's different\n        console.log(\"testVal = \", testVal.split().map(item => item.charCodeAt(0)));\n        console.log(\"targetStr = \", targetStr.split().map(item => item.charCodeAt(0)));\n    }\n    testVal(department, \"Centers For Medicare & Medicaid Services\");",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9497206703910615,
        "Content": "    function testStr(testVal, targetStr) {\n            console.log(\"-------------\");\n            if (testVal === targetStr) {\n                console.log(\"two strings are the same\");\n                return;\n            } \n            if (testVal.length !== targetStr.length) {\n                console.log(\"two strings are different length\");\n                if (testVal.trim() === targetStr) {\n                    console.log(\"Found it: testVal.trim() === targetStr\");\n                    return;\n                } else {\n                    console.log(\"testVal.trim() !== targetStr, trimming whitespace off ends is not enough\");\n                }\n                testVal = testVal.trim();\n            }\n            if (testVal.replace(/\\s/g, \" \") === targetStr) {\n                console.log(\"replacing whitespace makes a match\")\n                return;\n            }\n            // still no match, so lets output each separate character as a char code\n            // to manually see what's different\n            console.log(\"testVal = \", testVal.split(\"\").map(item => item.charCodeAt(0)).join(\",\"));\n            console.log(\"targetStr = \", targetStr.split(\"\").map(item => item.charCodeAt(0)).join(\",\"));\n        }\n        \n        const testValues = [\n            \" Centers For Medicare & Medicaid Services\",  // leading whitespace\n            \"Centers For Medicare & Medicaid Services \",  // trailing whitespace\n            \"Centers\\tFor Medicare & Medicaid Services\",  // tab for whitespace\n            \"C℮nters For Medicare & Medicaid Services\",   // odd first e in Centers\n            \"Cënters For Medicare & Medicaid Services\"    // odd first e in Centers\n        ];\n        for (let t of testValues) {\n           testStr(t, \"Centers For Medicare & Medicaid Services\");\n        }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53125800",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "127558588",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var allowedPlugins = [\n      {name: \"login\", path: \"login/index.js\", loaded: false, module: null},\n      {name: \"reg\", path: \"reg/reg.js\", loaded: false, module: null},\n      {name: \"articles\", path: \"articles/all.js\", loaded: false, module: null}\n    ];\n    allowedPlugins.forEach((plugin) => {\n      try {\n        var module = require(plug.path);\n        plug.loaded = true;\n        plug.module = module;\n      } catch(err) {}\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9615384615384616,
        "Content": "    var allowedPlugins = [\n      {name: \"login\", path: \"login/index.js\", loaded: false, module: null},\n      {name: \"reg\", path: \"reg/reg.js\", loaded: false, module: null},\n      {name: \"articles\", path: \"articles/all.js\", loaded: false, module: null}\n    ];\n    allowedPlugins.forEach((plug) => {\n      try {\n        var module = require(plug.path);\n        plug.loaded = true;\n        plug.module = module;\n      } catch(err) {}\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53149828",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "127822374",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const browser = await puppeteer.launch({headless: true})\n    \n    const page = await browser.newPage(); // <-- this line\n    \n    await page.goto('https://www.squarespace.com/login');",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.27450980392156865,
        "Content": "    const puppeteer = require('puppeteer');\n    const CREDS = require('./creds');\n    \n    (async () => {\n      const browser = await puppeteer.launch({ headless: true });\n      \n      const page = await browser.newPage();\n    \n      await page.goto('https://www.squarespace.com/login');\n    \n      const USERNAME_SELECTOR = '.username.Input-hxTtdt.ipapEE';\n      const PASSWORD_SELECTOR = '.password.Input-hxTtdt.ipapEE';\n      const BUTTON_SELECTOR = '.Button-kDSBcD.fATVqu';\n    \n      await page.click(USERNAME_SELECTOR);\n      await page.keyboard.type(CREDS.username);\n    \n      await page.click(PASSWORD_SELECTOR);\n      await page.keyboard.type(CREDS.password);\n    \n      await Promise.all([\n        page.waitForNavigation(),\n        page.click(BUTTON_SELECTOR),\n      ]);\n    \n      await page.goto('https://triangle-oarfish-hk21.squarespace.com/config/analytics#activity-log');\n    \n      await page.screenshot({ path: 'example.png' });\n    \n      await browser.close();\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53154411",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "127869156",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    try {\n     var urlfile ='https://url of json file';\n     var data = JSON.parse(urlfile, 'utf8');\n       for (var i = 0; i < data.length; i++) {\n        var latIT = data.results[i].geometry.location.lat;\n        //for loop will break and will return latIT value\n        return latIT;\n      }\n     } catch(error) {\n       //error \n      }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    var jsonObj = {\n       \"results\" : [\n          {  \"geometry\" : {\n                \"location\" : {\n                   \"lat\" : 37.422593,\n                   \"lng\" : -122.0853986\n                }\n              }\n           }\n       ]\n    };\n    var latIT;\n    for(var temp of jsonObj.results){\n      latIT = temp.geometry.location.lat;\n    }\n    console.log(latIT);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53204064",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "128401784",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const isElementVisible = async (page, cssSelector) => {\n      await page.waitForSelector(cssSelector, { visible: true, timeout: 2000 })\n      .catch(() => {\n        return false;\n      });\n      return true;\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    const isElementVisible = async (page, cssSelector) => {\n      let visible = true;\n      await page\n        .waitForSelector(cssSelector, { visible: true, timeout: 2000 })\n        .catch(() => {\n          visible = false;\n        });\n      return visible;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53237448",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "128764689",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    shoutMSG = shoutMSG.substr(6)",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2857142857142857,
        "Content": "    var shoutMSG = '!shout Please mark this as correct'\n    console.log(shoutMSG)\n    shoutMSG = shoutMSG.substr(7)\n    console.log(shoutMSG)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53306593",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "129506442",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     // server.js\n     // npm install express:\n     const app = require(\"express\")();\n     const bodyParser = require(\"body-parser\");\n     const db = require(\"mongodb\").MongoClient.connect(/*...*/);\n     app.use(bodyParser json());\n     app.post(\"/findOne\", async (req, res) => {\n      try {\n       const connection = await db;\n       const result = await connection.findOne(req.body);\n       if(!result) throw new Error(\"Not found!\");\n       res.status(200).json(result);\n      } catch(error) {\n       res.status(500).json(error);\n     }\n    });\n       \n    // ... all those other methods ...\n     app.listen(80);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9367088607594937,
        "Content": "     // server.js\n     // npm install express, body-parser, mongodb\n     const app = require(\"express\")();\n     const bodyParser = require(\"body-parser\");\n     const db = require(\"mongodb\").MongoClient.connect(/*...*/);\n     app.use(bodyParser.json());\n     app.post(\"/findOne\", async (req, res) => {\n      try {\n       const connection = await db;\n       const result = await connection.findOne(req.body);\n       if(!result) throw new Error(\"Not found!\");\n       res.status(200).json(result);\n      } catch(error) {\n       res.status(500).json(error);\n      }\n     });\n       \n     // ... all those other methods ...\n     app.listen(80);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53378589",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "130269010",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    //utility/sqsThing.js\n    const AWS = require('aws-sdk');\n    AWS.config.update({ region: 'us-east-1' });\n    const sqs = new AWS.SQS({ apiVersion: '2012-11-05' });\n    const outputQueURL = 'https:awsUrl';\n    \n    const SQSOutputSender = (results) => {\n      const params = {\n        MessageBody: JSON.stringify(results),\n        QueueUrl: outputQueURL,\n      };\n      // Method that I want to mock\n      retun sqs.sendMessage(params, function (err, data) {\n        if (err) {\n          console.log('Error');\n        } else {\n          console.log('Success', data.MessageId);\n        }\n      });\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975609756097561,
        "Content": "    //utility/sqsThing.js\n    const AWS = require('aws-sdk');\n    AWS.config.update({ region: 'us-east-1' });\n    const sqs = new AWS.SQS({ apiVersion: '2012-11-05' });\n    const outputQueURL = 'https:awsUrl';\n    \n    const SQSOutputSender = (results) => {\n      const params = {\n        MessageBody: JSON.stringify(results),\n        QueueUrl: outputQueURL,\n      };\n      // Method that I want to mock\n      return sqs.sendMessage(params, function (err, data) {\n        if (err) {\n          console.log('Error');\n        } else {\n          console.log('Success', data.MessageId);\n        }\n      });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53420377",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "130720619",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var A = [{\n      \"func_id\": 1,\n      \"func_score\": 0.4\n    }, {\n      \"func_id\": 2,\n      \"func_score\": 0.5\n    }, {\n      \"func_id\": 3,\n      \"func_score\": 0.7\n    }];\n    var B = [{\n      \"func_id\": 3,\n      \"func_score\": 0.9\n    }, {\n      \"func_id\": 4,\n      \"func_score\": 0.7\n    }, {\n      \"func_id\": 5,\n      \"func_score\": 0.8\n    }];\n    let C = A.map(e => {\n      return {\n        func_id: e.func_id,\n        func_score_A: e.func_score\n      };\n    });\n    B.forEach(e => {\n      let i = C.findIndex(x => x.func_id == e.func_id);\n      if (i >= 0) {\n        C[i].func_score_B = e.func_score;\n      } else {\n        C.push({\n          func_id: e.func_id,\n          func_score_B: e.func_score\n        })\n      }\n    });\n    console.log(C);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9885057471264368,
        "Content": "    var A = [{\n        \"func_id\": 1,\n        \"func_score\": 0.4\n    }, {\n        \"func_id\": 2,\n        \"func_score\": 0.5\n    }, {\n        \"func_id\": 3,\n        \"func_score\": 0.7\n    }];\n    var B = [{\n        \"func_id\": 3,\n        \"func_score\": 0.9\n    }, {\n        \"func_id\": 4,\n        \"func_score\": 0.7\n    }, {\n        \"func_id\": 5,\n        \"func_score\": 0.8\n    }];\n    let C = A.map(e => {\n        return {\n            func_id: e.func_id,\n            func_score_A: e.func_score,\n            func_score_B: 0\n        };\n    });\n    B.forEach(e => {\n        let i = C.findIndex(x => x.func_id == e.func_id);\n        if (i >= 0) {\n            C[i].func_score_B = e.func_score;\n        } else {\n            C.push({\n                func_id: e.func_id,\n                func_score_A: 0,\n                func_score_B: e.func_score\n            })\n        }\n    });\n    console.log(C);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53440350",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "130932920",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Default export:\n    export default function (idx) {\n      this.camera = idx;\n    };\n    // Named exports:\n    export function CONFIG() {\n      return Promise.resolve([]);\n    }\n    export function FLOOR = function () {\n      return Promise.resolve([]);\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    // Default export:\n    export default function (idx) {\n      this.camera = idx;\n    };\n    // Named exports:\n    export function CONFIG() {\n      return Promise.resolve([]);\n    }\n    export function FLOOR () {\n      return Promise.resolve([]);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53477744",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "131332634",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "       class Strategy {\n           constructor(external_id) {\n              this.id = id;\n           }\n           get getId() {\n              return this.id;\n           }\n           run(){};\n           stop(){};\n           reset(){};\n       }\n     ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "       class Strategy {\n           constructor(external_id) {\n              this.id = external_id;\n           }\n           get getId() {\n              return this.id;\n           }\n           run(){};\n           stop(){};\n           reset(){};\n       }\n     ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53528595",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "131865608",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var FCM = require('fcm-node')\n    var serverKey = require('/Users/john/Desktop/Apps/APNS/node/mhn-app-firebase-adminsdk-bs45c-5ac3770488.json')\n    var fcm = new FCM(serverKey)\n    var message = { //this may vary according to the message type (single recipient, multicast, topic, et cetera)\n        to: '##########',\n        collapse_key: \"new_messages\",\n        notification: {\n            tag: \"new_messages\",\n            title: 'Title of your push notification',\n            body: 'Body of your push notification'\n            sound: 'default',\n            //badge: \"100\"\n        },\n        data: {  //you can send only notification or only data(or include both)\n            cpeMac: '000000000000',\n            type: 'malware'\n        }\n    }\n    fcm.send(message, function(err, response){\n        if (err) {\n            console.log(\"Something has gone wrong!\")\n    \n            console.log(err);\n    \n        } else {\n            console.log(\"Successfully sent with response: \", response)\n        }\n    })\n    console.log(\"END\");",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6564885496183206,
        "Content": "    console.log(\"START\");\n    var FCM = require('fcm-node');\n    var serverKey = require('secretKeyJson_path')\n    var fcm = new FCM(serverKey)\n    var collapseKey = 'new_message';\n    var message = {\n        to: 'client_app_token',\n        data: {\n               cpeMac: '000000000000',\n            type: 'malware' \n        },\n        notification: {\n            title: 'Hello motherfucker',\n            body: 'Nice body',\n            tag: collapseKey,\n            icon: 'ic_notification',\n            color: '#18d821',\n            sound: 'default',\n        },\n    };\n    \n    \n    fcm.send(message, function(err, response){\n        if (err) {\n            console.log(\"Something has gone wrong!\")\n    \n            console.log(err);\n    \n        } else {\n            console.log(\"Successfully sent with response: \", response)\n        }\n    })\n    \n    console.log(\"END\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53560703",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "132210204",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    A.prototype.foo = 'bar'",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.10526315789473684,
        "Content": "    class A {\n    \tsay() {console.log(\"hey!\")}\n    }\n    var foo = new A\n    foo.say() // hey!\n    A.prototype.yell = function(con) {console.info(con)}\n    foo.yell(\"hmmm...\") // hmmm...",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53593037",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "132556381",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require('fs').promises;\n    module.exports = {\n        foo: async () => {\n            const a = async () => {\n                filedata = await fs.readFile('./scripts/pairs.json');\n                console.log(filedata);\n            };\n            a();\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.896551724137931,
        "Content": "    const fs = require('fs').promises;\n    module.exports = {\n        foo: async () => {\n            const filedata = await fs.readFile('./scripts/pairs.json');\n            console.log(filedata);\n            return filedata;\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53621803",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "132861763",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var gulp = require('gulp');\n    var sass = require('gulp-sass');\n    var browserSync = require('browser-sync');\n    \n    gulp.task('sass', function() {\n      return gulp.src('sass/**/*.scss')\n        .pipe(sass().on('error', sass.logError))\n        .pipe(gulp.dest('./css/'));\n        .pipe(browserSync.reload({ stream:true }));\n    });\n    \n    // watch Sass files for changes, run the Sass preprocessor with the 'sass' task and reload\n    gulp.task('serve', gulp.series('sass', function() {\n      browserSync({\n        server: {\n          baseDir: './'\n        }\n      });\n    \n      gulp.watch('sass/**/*.scss', gulp.series('sass'));\n    }));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975609756097561,
        "Content": "    var gulp = require('gulp');\n    var sass = require('gulp-sass');\n    var browserSync = require('browser-sync');\n    \n    gulp.task('sass', function() {\n      return gulp.src('sass/**/*.scss')\n        .pipe(sass().on('error', sass.logError))\n        .pipe(gulp.dest('./css/')) //removed semicolon\n        .pipe(browserSync.reload({ stream:true }));\n    });\n    \n    // watch Sass files for changes, run the Sass preprocessor with the 'sass' task and reload\n    gulp.task('serve', gulp.series('sass', function() {\n      browserSync({\n        server: {\n          baseDir: './'\n        }\n      });\n    \n      gulp.watch('sass/**/*.scss', gulp.series('sass'));\n    }));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53651806",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "133184257",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let [first, ...rest] = str.split(\" \");\n    let second = rest.join(\" \");\n    let res = [first, second];",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function getParams(query) {\n      let [first, ...rest] = query.split(\" \");\n      return [first, rest.join(\" \")];\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53655933",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "133228174",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    'use strict';\n    const { createLogger, format, transports } = require('winston');\n    require('winston-daily-rotate-file');\n    const fs = require('fs');\n    const path = require('path');\n    const logDir = '/codeforge/log';\n    \n    const dailyRotateFileTransport = filename => new transports.DailyRotateFile({\n      filename: `${logDir}/%DATE%-${filename}.log`,\n      maxSize: \"1g\",\n      maxDays: \"3d\",\n      zippedArchive: true,\n      datePattern: 'YYYY-MM-DD'\n    });\n    \n    const logger = function(filename){\n      return createLogger({\n        // change level if in dev environment versus production\n        level: 'debug', \n        maxsize: '500m',\n        format: format.combine(\n          format.timestamp({\n            format: 'YYYY-MM-DD HH:mm:ss'\n          }),\n          // for the log file\n          format.printf(info => `${info.timestamp} ${info.level}: ${info.message}`)\n        ),\n        transports: [\n          new transports.Console({\n            level: 'info',\n            format: format.combine(\n              format.colorize(),\n              format.printf(\n                info => `${info.message}`\n              )\n            )\n          }),\n          dailyRotateFileTransport(fileName)\n        ]\n      });\n    }\n    \n    module.exports = logger // is now a function",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    'use strict';\n    const { createLogger, format, transports } = require('winston');\n    require('winston-daily-rotate-file');\n    const fs = require('fs');\n    const path = require('path');\n    const logDir = '/codeforge/log';\n    \n    const dailyRotateFileTransport = filename => new transports.DailyRotateFile({\n      filename: `${logDir}/%DATE%-${filename}.log`,\n      maxSize: \"1g\",\n      maxDays: \"3d\",\n      zippedArchive: true,\n      datePattern: 'YYYY-MM-DD'\n    });\n    \n    const logger = function(filename){\n      return createLogger({\n        // change level if in dev environment versus production\n        level: 'debug', \n        maxsize: '500m',\n        format: format.combine(\n          format.timestamp({\n            format: 'YYYY-MM-DD HH:mm:ss'\n          }),\n          // for the log file\n          format.printf(info => `${info.timestamp} ${info.level}: ${info.message}`)\n        ),\n        transports: [\n          new transports.Console({\n            level: 'info',\n            format: format.combine(\n              format.colorize(),\n              format.printf(\n                info => `${info.message}`\n              )\n            )\n          }),\n          \n          dailyRotateFileTransport(filename)\n        ]\n      });\n    }\n    \n    module.exports = logger // is now a function",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53718076",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "133893219",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    // makeCreate.js\n    module.exports = theClass => () => new theClass();\n    // Door.js\n    const makeCreate = require('./makeCreate');\n    class Door {\n      constructor() {\n        this.species = 'Oak';\n      }\n    }\n    Door.create = makeCreate(Door);\n    Door.prototype.instanceMethod = fnInstanceMethod;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    // makeCreate.js\n    module.exports = theClass => () => new theClass();\n    // Door.js\n    const makeCreate = require('./makeCreate');\n    const fnInstanceMethod = require('./instanceMethod');\n    class Door {\n      constructor() {\n        this.species = 'Oak';\n      }\n    }\n    Door.create = makeCreate(Door);\n    Door.prototype.instanceMethod = fnInstanceMethod;\n    module.exports = Door;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53881305",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "135671177",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Require s3 in global scope\n    const S3 = require('aws-sdk/clients/s3');\n    /**\n     * @param {String} bucketName\n     * @param {String} objectKey\n     * @param {Number} expiration\n     * @return {Promise}\n     */\n    getSignedUrl(bucketName, objectKey, expiration) {\n      return new Promise((resolve, reject) => {\n        const s3 = new S3(); // <= add options if needed\n        s3.getSignedUrl('getObject', { Bucket: bucketName, Key: objectKey, Expires: expiration }, (err, url) => {\n          if (err) {\n            return reject(err);\n          }\n          resolve(url);\n        });\n      });\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9885057471264368,
        "Content": "    // Require s3 in global scope\n    const S3 = require('aws-sdk/clients/s3');\n    /**\n     * @param {String} bucketName\n     * @param {String} objectKey\n     * @param {Number} expiration\n     * @return {Promise}\n     */\n    function getSignedUrl(bucketName, objectKey, expiration) {\n      return new Promise((resolve, reject) => {\n        const s3 = new S3(); // <= add options if needed\n        s3.getSignedUrl('getObject', { Bucket: bucketName, Key: objectKey, Expires: expiration }, (err, url) => {\n          if (err) {\n            return reject(err);\n          }\n          resolve(url);\n        });\n      });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53893218",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "135801194",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log('Loading function');\n    const https = require('https');\n    \n    exports.handler = async (event, context) => {\n        console.log('Received event:', JSON.stringify(event, null, 2));\n    \n        const name = \"35b83a10-9f46-4c2c-95e1-22c6d40005a8\"; \n    \n        var message = { \n          app_id: \"appid\",\n          contents: {\"en\": \"Your order has arrived at your doorstep\"},\n          include_player_ids: [\"14894201-64f7-486a-b65e-6beedf5880f1\",name,\"8e0f21fa-9a5a-4ae7-a9a6-ca1f24294b86\"]\n         };\n    \n        await sendNotification(message);\n    \n        console.log(\"Activation change detected. message sent\");\n        return `Successfully processed ${event.Records.length} records.`;\n    };\n    \n    \n    var sendNotification = function(data) {\n      return new Promise(function(resolve, reject) {\n          var headers = {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": \"Basic hidden_in_question\"\n          };\n    \n          var options = {\n            host: \"onesignal.com\",\n            port: 443,\n            path: \"/api/v1/notifications\",\n            method: \"POST\",\n            headers: headers\n          };\n    \n          var req = https.request(options, function(res) {  \n            res.on('data', function(data) {\n              console.log(\"rep:\");\n              console.log(JSON.parse(data));\n            });\n            res.on('end', resolve);\n          });\n    \n          req.on('error', function(e) {\n            console.log(\"ERROR:\");\n            console.log(e);\n            reject(e);\n          });\n    \n          req.write(JSON.stringify(data));\n          req.end();\n      }\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9875,
        "Content": "    const https = require('https');\n    \n    exports.handler = async (event, context) => {\n        console.log('Received event:', JSON.stringify(event, null, 2));\n    \n        const name = \"35b83a10-9f46-4c2c-95e1-22c6d40005a8\"; \n    \n        var message = { \n          app_id: \"appid\",\n          contents: {\"en\": \"Your order has arrived at your doorstep\"},\n          include_player_ids: [\"14894201-64f7-486a-b65e-6beedf5880f1\",name,\"8e0f21fa-9a5a-4ae7-a9a6-ca1f24294b86\"]\n         };\n    \n        await sendNotification(message);\n    \n        console.log(\"Activation change detected. message sent\");\n        return `Successfully processed ${event.Records.length} records.`;\n    };\n    \n    \n    var sendNotification = function(data) {\n      return new Promise(function(resolve, reject) {\n          var headers = {\n            \"Content-Type\": \"application/json; charset=utf-8\",\n            \"Authorization\": \"Basic hidden_in_question\"\n          };\n    \n          var options = {\n            host: \"onesignal.com\",\n            port: 443,\n            path: \"/api/v1/notifications\",\n            method: \"POST\",\n            headers: headers\n          };\n    \n          var req = https.request(options, function(res) {  \n            res.on('data', function(data) {\n              console.log(\"rep:\");\n              console.log(JSON.parse(data));\n            });\n            res.on('end', resolve);\n          });\n    \n          req.on('error', function(e) {\n            console.log(\"ERROR:\");\n            console.log(e);\n            reject(e);\n          });\n    \n          req.write(JSON.stringify(data));\n          req.end();\n      });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53937169",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "136276437",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // returns true if `usersArray` contains an object whose property `name`\n    // equals the string contained in the `userNameFromClient` variable\n    Object.keys(usersArray).some(user => user.name === userNameFromClient) ",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.879746835443038,
        "Content": "    var usersArray = [\n        {\n            name : \"Simon\",\n            password : 123\n        },\n        {\n            name :\"David\",\n            password : 456\n        }\n    ];\n    const userNameFromClient = 'David';\n    // use a `for of` loop (using a `while`, or a regular `for` loop would also work)\n    \n    // A loop allows us to iterate through an entire collection.\n    // Once we find an item satisfying a condition, we can signal that.\n    \n    // This is a good starting point that explicitly\n    // shows the mechanics of looping over a collection\n    // to find an item satisfying a condition\n    for (const user of usersArray) {\n      if (user.name === userNameFromClient) {\n        console.log(true);\n      }\n    }\n    // Since this operation is quite frequent in programming,\n    // most languages give us tools and methods to achieve\n    // above in a more declarative fashion and with less code\n    // For your particular case, the most common approach\n    // would be to use the `some` method on the array.\n    // We want to return true if there exists at least one item\n    // in our array that satisfies our condition\n    // Code bellow will return true if one object in `usersArray`\n    // has a property `name` whose value is a string\n    // equal to the string contained in the\n    // `userNameFromClient` variable\n    console.log(\n      usersArray.some(user => user.name === userNameFromClient)\n    )\n    // Another option is to use the find method.\n    \n    // Since `find` will return the actual user object\n    // that satisfies a condition instead of a boolean `true` or `false`,\n    // we would have to convert the returned result\n    // into a Boolean ourselves\n    console.log(\n      Boolean(usersArray.find(user => user.name === userNameFromClient))\n    )\n    // The `some` method also has a cousin called `every`\n    // which can be used in this situation but is a little\n    // bit messy because it requires multiple negations\n    \n    // You can see what I mean if we explain the operation\n    // in plain English:\n    \n    // If not every item in a given array does not satisfy a condition\n    // return true\n    \n    // Above is just a convoluted way of saying if there exists\n    // at least one item satisfying a condition, return true\n    \n    // Code bellow will return true if one object in `usersArray`\n    // has a property `name` whose value is a string\n    // equal to the string contained in the\n    // `userNameFromClient` variable\n    console.log(\n      !usersArray.every(user => user.name !== userNameFromClient)\n    )",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "53982448",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "136784284",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     function fixFormat(date) {\n      const yyyy = date.slice(0, 4);\n      const MM = date.slice(4, 6);\n      const dd = date.slice(6, 8);\n      const hh = date.slice(8, 10);\n      const mm = date.slice(10, 12);\n      const ss = date.slice(12, 14);\n      return `${MM}/${dd}/${yy} ${hh}:${mm}:${ss}`;\n     }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     function fixFormat(date) {\n      const yy = date.slice(2, 4);\n      const MM = date.slice(4, 6);\n      const dd = date.slice(6, 8);\n      const hh = date.slice(8, 10);\n      const mm = date.slice(10, 12);\n      const ss = date.slice(12, 14);\n      return `${MM}/${dd}/${yy} ${hh}:${mm}:${ss}`;\n     }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54021486",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "137225653",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const bot = require('telegram-bot-api')\n    const fs = require('fs')\n     \n    let document_to_be_sent = fs.readFileSync('path/to/file.txt')\n    \n    bot.sendMessage(chat_id, document_to_be_sent)",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2909090909090909,
        "Content": "    const request = require('request')\n    const fs = require('fs')\n    const token = '752511654:AAGnu88dyi7YsmpZfcaA6XvR26Fy7f2moGo'\n    const url = 'https://api.telegram.org/bot'+token+'/sendDocument'\n    const chat_id = \"741718736\"\n    let r = request(url, (err, res, body) => {\n        if(err) console.log(err)\n        console.log(body)\n    })\n    let f = r.form()\n    f.append('chat_id', chat_id)\n    f.append('document', fs.createReadStream('file.txt'))    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54038608",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "137421342",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    mailOptions.attachments: [{\n                filename: 'angular.png',\n                path: 'https://www.akberiqbal.com/logos/angular.png',\n                cid: 'logo'\n    }]",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9473684210526315,
        "Content": "    mailOptions.attachments = [{\n                filename: 'angular.png',\n                path: 'https://www.akberiqbal.com/logos/angular.png',\n                cid: 'logo'\n    }]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54137947",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "138503226",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class Foo {\n      _passwordValidator = false;\n      _optional = false;\n    \n      passwordValidator() {\n        this._passwordValidator = true;\n      }\n      optional() {\n        this._optional = true;\n      }\n      doThing() {\n        if (this._optional) { /* ... */ }\n        if (this._passwordValidator) { /* ... */ }\n      }\n    }\n    const foo = new Foo().passwordValidator().optional();\n    foo.doThing();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9545454545454546,
        "Content": "    class Foo {\n      _passwordValidator = false;\n      _optional = false;\n    \n      passwordValidator() {\n        this._passwordValidator = true;\n        return this;\n      }\n      optional() {\n        this._optional = true;\n        return this;\n      }\n      doThing() {\n        if (this._optional) { /* ... */ }\n        if (this._passwordValidator) { /* ... */ }\n      }\n    }\n    const foo = new Foo().passwordValidator().optional();\n    foo.doThing();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54182992",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "138998311",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function example() {\n        console.log(\"Step 1\");\n        await new Promise(function(resolve, reject) {\n            process.stdin.once(\"data\", function(data) {\n            resolve();\n        });\n        console.log(\"Step 2\");\n        await new Promise(function(resolve, reject) {\n            process.stdin.once(\"data\", function(data) {\n            resolve();\n        });\n       \n        // more steps...\n    }\n    example().then(() => {\n        console.log(\"Done\");\n        process.stdin.pause();\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    async function example() {\n        console.log(\"Step 1\");\n        await new Promise(function(resolve, reject) {\n            process.stdin.once(\"data\", function(data) {\n                resolve();\n            });\n        });\n        console.log(\"Step 2\");\n        await new Promise(function(resolve, reject) {\n            process.stdin.once(\"data\", function(data) {\n                resolve();\n            });\n        });\n       \n        // more steps...\n    }\n    example().then(() => {\n        console.log(\"Done\");\n        process.stdin.pause();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54247948",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "139699000",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const db = require('../../sequelize/models/index');\n    console.log(db)\n    Researcher: Researcher,\n    sequelize: \n      Sequelize { ....\n    \n    ",
        "MostRecentVersion": "0",
        "Errors": 9,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    const db = require('../../sequelize/models/index');\n    console.log(db)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54302557",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "140293147",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     import lodash from lodash;\n     const { throttle } = lodash;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     import lodash from 'lodash';\n     const { throttle } = lodash;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54302557",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "140293145",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     import { throttle } from lodash;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     import { throttle } from 'lodash';",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54362348",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "140944957",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var router = require('express').Router();\n    var operations = require('../controllers/route-logic.js');\n        \n    app.route('/getItems')\n        .post(operations.getItems);\n    \n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7777777777777778,
        "Content": "    var router = require('express').Router();\n    var operations = require('../controllers/route-logic.js');\n        \n    router.post('/getItems', operations.getItems);\n    \n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54383932",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "141183263",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Tedious = require('tedious'); // Only require a library once per file\n    var Connection = Tedious.Connection;\n    var Request = Tedious.Request;\n    // Or using the object spread operator\n    var { Connection, Request } = require('tedious');\n    // You called this `sqlConnection`. I'm going to use a verb since it's a\n    // function and not a variable containing the connection. I'm also going\n    // to change the declaration syntax to be clearer.\n    function connect(cb) { // cb is short for callback. It should be a function.\n      var config = {\n        userName: 'uname',\n        password: 'password',\n        server: 'dbserver.database.windows.net',\n        options: {\n          database: 'mydatabase',\n          encrypt: true\n        }\n      }; // Put a semi-colon on your variable assignments\n      var connection = new Connection(config);\n      // Attempt to connect and execute queries if connection goes through\n      connection.on('connect', function(err) {\n        if (err) {\n          console.log(err);\n          return; // Stop executing the function if it failed\n        }\n        // We don't need an \"else\" because of the return statement above\n        console.log('CONNECTED TO DATABASE');\n        // We have a connection, now let's do something with it. Call the\n        // callback and pass it the connection.\n        cb(connection);\n        }\n      });\n    };\n    module.exports = connect; // This exports a function that creates the connection",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var Tedious = require('tedious'); // Only require a library once per file\n    var Connection = Tedious.Connection;\n    var Request = Tedious.Request;\n    // Or using the object spread operator\n    var { Connection, Request } = require('tedious');\n    // You called this `sqlConnection`. I'm going to use a verb since it's a\n    // function and not a variable containing the connection. I'm also going\n    // to change the declaration syntax to be clearer.\n    function connect(cb) { // cb is short for callback. It should be a function.\n      var config = {\n        userName: 'uname',\n        password: 'password',\n        server: 'dbserver.database.windows.net',\n        options: {\n          database: 'mydatabase',\n          encrypt: true\n        }\n      }; // Put a semi-colon on your variable assignments\n      var connection = new Connection(config);\n      // Attempt to connect and execute queries if connection goes through\n      connection.on('connect', function(err) {\n        if (err) {\n          console.log(err);\n          return; // Stop executing the function if it failed\n        }\n        // We don't need an \"else\" because of the return statement above\n        console.log('CONNECTED TO DATABASE');\n        // We have a connection, now let's do something with it. Call the\n        // callback and pass it the connection.\n        cb(connection);\n      });\n    }\n    module.exports = connect; // This exports a function that creates the connection",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54452102",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "141920391",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var server = http.createServer(function(req, res) {\n      res.writeHead(200, {'Content-Type': 'text/plain'});\n      lsExample.then((result)=> {\n         res.write(result);\n         res.end('okay');\n      });\n     \n    });\n    async function lsExample() {\n      const { stdout, stderr } = await exec('ls');\n      return  { \"stdout\" :  stdout, \"stderr\" : stderr}\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4935064935064935,
        "Content": "    var http = require('http');\n    var SSE = require('sse');\n    //var  exec = require('child_process').exec;\n    var child;\n    var server = http.createServer(function(req, res) {\n      res.writeHead(200, {'Content-Type': 'text/plain'});\n      lsExample().then( (result)=>{\n        res.write(JSON.stringify(result));\n        res.end('');\n      },(err)=> { \n        res.write(\"error\");\n        res.end('');\n      });\n     \n    });\n    const util = require('util');\n    const exec = util.promisify(require('child_process').exec);\n     function lsExample() {\n        return new Promise(async function(resolve, reject) {\n            try {\n                const { stdout, stderr } = await exec('ls');\n            resolve({ \"stdout\" :  stdout, \"stderr\" : stderr});\n            } catch (err){\n               reject(err);\n            }\n          });\n    }\n    server.listen(8080, '127.0.0.1', function() {\n      var sse = new SSE(server);\n      sse.on('connection', function(client) {\n        client.send('hi there!');\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54486371",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142297224",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    (async () => {\n    \ttry {\n    \t\tconst response = await got('https://sindresorhus.com');\n    \t\tconst token = response.body;\n    \t\t// ... do stuff with token\n    \t} catch (error) {\n    \t\tconsole.log(error.response.body);\n    \t\t//=> 'Internal server error ...'\n    \t}\n    })();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7407407407407407,
        "Content": "    const got = require('got');\n    (async () => {\n    \ttry {\n    \t\tconst response = await got('https://sindresorhus.com');\n    \t\tconst token = response.body;\n    \t\t// ... do stuff with token\n            const nextResponse = await got('http://sindresorhus.com', {\n              headers: {\n                Authorization: `Bearer ${token}`,\n              },\n            })\n    \t} catch (error) {\n    \t\tconsole.error(error.response.body);\n    \t}\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54495675",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142396661",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Discord = require(\"discord.js\");\n    \n    var client = new Discord.Client();\n    \n    var prefix = {};\n    \n    client.on(\"ready\", function(){\n        var allGuilds = client.guilds;\n        //initialize all prefixes to a default prefix\n        allGuilds.tap(function(guild){\n            prefix[guild.id] = defaultPrefix;\n        });\n    });\n    client.login(\"BOT_TOKEN\")",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9787234042553191,
        "Content": "    var Discord = require(\"discord.js\");\n    \n    var client = new Discord.Client();\n    \n    var prefix = {};\n    var defaultPrefix = \"@\";\n    \n    client.on(\"ready\", function(){\n        var allGuilds = client.guilds;\n        //initialize all prefixes to a default prefix\n        allGuilds.tap(function(guild){\n            prefix[guild.id] = defaultPrefix;\n        });\n    });\n    client.login(\"BOT_TOKEN\")",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54503606",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "142485205",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     const position = data.indexOf(pattern);\n     const replace = Buffer.allocate(pattern.length);\n     /*yourReplace*/.copy(/*to*/ replace, /*at*/ 0);\n     if(position !== -1) {\n       replace.copy(/*to*/ data, /*at*/ position);\n     }",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6341463414634146,
        "Content": "    /* Replaces all occurences of \"pattern\" in the \"data\" with \"replace\",\n       if \"replace\" is shorter than \"pattern\" the rest will be filled with 0s, a longer \"replace\" will get trimmed of */\n    function replace(/*Buffer*/ data, /*Buffer*/ pattern, /*Buffer*/ replace) {\n     let position = data.indexOf(pattern);\n     while (position !== -1) {\n       data.fill(0, /*from*/ position, /*to*/ position + pattern.length);\n       replace.copy(\n         /*to*/ data,\n         /*at*/ position, \n         /*from*/ 0, \n         /*to*/ pattern.length\n       );      \n       // continue search:\n       position = data.indexOf(pattern, /*starting at*/ position + pattern.length + 1);\n     }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54707596",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "144738720",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    function getText(driver, locator) {\n        return findVisibleElement(driver, locator).getText();\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function getText(driver, locator) {\n        return driver.findElement(locator).getText();\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54724245",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "144922649",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const unirest = require('unirest');\n    \n    let count = 0;\n    let ids = [];\n    \n    for (let index = 1; index <= 20; index++) {\n        ids.push(index);\n    }\n    \n    async.eachOfLimit(ids, 10, makeRequest, function (err) {\n        if (err) throw err;\n    });\n    \n    function makeRequest(index, key, callback) {\n        console.log(index);\n    \n        unirest.get('https://api.ipify.org?format=json')\n            .headers({ 'Content-Type': 'application/json' })\n            .end(async (response) => {\n            \tconsole.log(response.body);\n                callback();\n            });\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9113924050632911,
        "Content": "    const unirest = require('unirest');\n    const async = require('async');\n    let count = 0;\n    let ids = [];\n    \n    for (let index = 1; index <= 20; index++) {\n        ids.push(index);\n    }\n    \n    async.eachOfLimit(ids, 10, makeRequest, function (err) {\n        if (err) throw err;\n    });\n    \n    function makeRequest(item, index, callback) {\n        console.log(item);\n    \n        unirest.get('https://api.ipify.org?format=json')\n            .headers({ 'Content-Type': 'application/json' })\n            .end(async (response) => {\n            \tconsole.log(response.body);\n                callback();\n            });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54745408",
    "RootLocalId": "5",
    "RootPostBlockVersionId": "145157824",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var mapObj = {\n      '71505': 'https://images.e12b64dd10dd068f0b4b6e8e9e5e/71505.jpg',\n      '69451': 'https://imagesf697987a167a07402549e86089d/71513.jpg',\n      '71521': 'https://images673d2cf1bfcb6fcc1d30f91/71521.jpg'\n    };\nvar text = document.body.innerHTML;\n    for (var key in mapObj) {\n      text = text.replace(new RegExp(`src=\"${key}\"`, \"gi\"), `src=\"${mapObj[key]}\"`)\n        .replace(new RegExp(`src='${key}'`, \"gi\"), `src='${mapObj[key]}'`);\n    }\nconsole.log(text);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    var mapObj = {\n      '71505': 'https://images.e12b64dd10dd068f0b4b6e8e9e5e/71505.jpg',\n      '69451': 'https://imagesf697987a167a07402549e86089d/71513.jpg',\n      '71521': 'https://images673d2cf1bfcb6fcc1d30f91/71521.jpg'\n    };\n    var fullText = `Lorem ipsum lorem ipsum lorem ipsum lorem ipsum lorem ipsum <br />\n    <img src=\"69451\" alt=\"[ppm:alt id=17835]\" height=\"426\" width=\"638\" /><br /> lorem ipsumlorem ipsumlorem ipsumlorem ipsumlorem <img src=\"71521\" alt=\"[ppm:alt id=17835]\" height=\"426\" width=\"638\" /> ipsumlorem ipsumlorem ipsum`;\n    function changeText(text) {\n      for (var key in mapObj) {\n        text = text.replace(new RegExp(`src=\"${key}\"`, \"gi\"), `src=\"${mapObj[key]}\"`)\n          .replace(new RegExp(`src='${key}'`, \"gi\"), `src='${mapObj[key]}'`);\n      }\n      return text;\n    }\n    console.log(changeText(fullText));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54795318",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "145694872",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    try {\n      const server = await listenAsync(8001); // (Pauses execution until promise resolves)\n      console.log('Now listening');\n    } catch (err) {\n      console.log('Failed to listen()', err);\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.984375,
        "Content": "    const express = require('express');\n    const app = express();\n    // Note: Not writing this as an `async` function because none\n    // of the APIs we're using return promises that can be `await`ed,\n    // and we explicitly return a promise\n    function main() {\n      return new Promise(function(resolve, reject) {\n        // Resolve to the server instance if listen() succeeds\n        // Note: `server` here is Node's `http` server, not the Express instance\n        const server = app.listen(8001, () => resolve(server));\n        // Otherwise reject promise if there's an error\n        server.on('error', reject);\n      });\n    }\n    main()\n      .then(server => console.log(server))\n      .catch(err => console.error(err));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54829043",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "146066426",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const LocalData = new Mongo.Collection(null)",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2962962962962963,
        "Content": "    import { Meteor } from 'meteor/meteor'\n    import { Mongo } from 'meteor/mongo'\n    \n    const LocalCollection = new Mongo.Collection(null)\n    \n    Meteor.startup(() => {\n      Meteor.call('docs', (err, documents) => {\n        documents.forEach(doc => LocalCollection.insert(doc))\n        setTimeout(() => {\n          console.log(LocalCollection.find().fetch())\n        }, 2000)\n      })\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "54953057",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "147398716",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Emulating \n    var slotValues = {\n      listableThings : {\n        resolved: \"CLASSES\"\n      }\n    };\n    var sessionAttributes = {\n      CLASSES : \"THESE ARE CLASSES\",\n      TONES: \"THESE ARE TONES\"\n    }\n    // Iterating and assign the correct one based on resolved\n    var lookAway = \"NOTHING\";\n    for(var key in sessionAttributes){\n      if (key == slotValues.listableThings.resolved){\n        lookupArray = sessionAttributes[key];\n      }  \n    }\n    console.log(lookupArray);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6181818181818182,
        "Content": "    // Emulating \n    var slotValues = {\n      listableThings: {\n        resolved: \"CLASSES\"\n      }\n    };\n    var sessionAttributes = {\n      CLASSES: \"THESE ARE CLASSES\",\n      TONES: \"THESE ARE TONES\"\n    }\n    let lookupArray = sessionAttributes[slotValues.listableThings.resolved];\n    console.log(lookupArray);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55004783",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "147959282",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var appBase = express.Router();\n    \n    appBase.get('/hello', function (req, res) {\n      console.log(req.baseUrl); // /app\n      res.send('Konichiwa!');\n    });\n    \n    app.use('/app', appBase);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6521739130434783,
        "Content": "    const express = require('express')\n    const app = express()\n    const port = 3000\n    var appBase = express.Router();\n    app.use('/app', appBase);\n        \n    appBase.get('/', function (req, res) {\n        console.log(req.baseUrl); // /app\n        res.send('Hello world!');\n    });\n    app.listen(port, () => console.log(`Example app listening on port ${port}!`))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55017681",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "148101105",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const yaml = require('js-yaml');\n    const fs = require('fs');\n    try {\n        const config = yaml.safeLoad(fs.readFileSync('test.yml', 'utf8'));\n        doc = config.doc;\n        console.log(doc[\"admin\"].permissions);\n        console.log(doc[\"admin1\"].permissions);\n    } catch (e) {\n        console.log(e);\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const yaml = require('js-yaml');\n    const fs = require('fs');\n    try {\n        const config = yaml.safeLoad(fs.readFileSync('test.yml', 'utf8'));\n        const doc = config.doc;\n        console.log(doc[\"admin\"].permissions);\n        console.log(doc[\"admin1\"].permissions);\n    } catch (e) {\n        console.log(e);\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55080742",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "148788058",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const repeating = require('repeating');\nconsole.log(repeating(100, 'unicorn '));\nCheck [DOCS][1].",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const repeating = require('repeating');\n    console.log(repeating(100, 'unicorn '));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55143405",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "149457579",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const { getAllSubscribers } = require('./foo')\n    \n    const subscribers = await getAllSubscribers();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7777777777777778,
        "Content": "    const { getAllSubscribers } = require('./foo')\n    const getSubscribers = async () => {\n        const subscribers = await getAllSubscribers();\n    };\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55232156",
    "RootLocalId": "41",
    "RootPostBlockVersionId": "150428575",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var setTo = {id: 1, stage: \"first stage\"};\n    \n    if (!someObject.hasOwnProperty(setTo.id)) {\n       someObject[setTo.id] = {};\n       someObject[setTo.id].contact = {};\n    }\n    // get object\n    var objectForThis = someObject[setTo.id];\n    objectForThis.stage = setTo.stage;\n    \n    console.log(\"someObject is \" + JSON.stringify(someObject));",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9787234042553191,
        "Content": "    var someObject = {};\n    \n    var setTo = {id: 1, stage: \"first stage\"};\n    \n    if (!someObject.hasOwnProperty(setTo.id)) {\n       someObject[setTo.id] = {};\n       someObject[setTo.id].contact = {};\n    }\n    // get object\n    var objectForThis = someObject[setTo.id];\n    objectForThis.stage = setTo.stage;\n    \n    console.log(\"someObject is \" + JSON.stringify(someObject));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55232492",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150432621",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     var mongoose = require('mongoose')\n     var sera = mongoose.Schema({\n        isRead: Boolean,\n        subject: String,\n        from: {\n          emailAddress: {\n             name: String,\n             address: String\n          }\n        },\n        receivedDateTime: Date,\n        sentDateTime: Date\n     });\n     const Sera = mongoose.model(\"SERA\", sera)\n       \n     const values = [{\n            id: 'AAMkADg4MTBkNmRiLTAwNzQtNDE1Ny1hNjlkLWVjNzE5N2M1MGEwMgBGAAAAAAA9yT6uaq2hTrV0L6GqHQ_CBwALVVFnK27cQ4tC6FzqOc3cAAAAAAEMAAALVVFnK27cQ4tC6FzqOc3cAANuNGz-AAA=',\n            receivedDateTime: '2019-03-09T03:45:45Z',\n            sentDateTime: '2019-03-09T03:45:44Z',\n            subject: 'Re: hw3',\n            isRead: true,\n            from: {\n                emailAddress: {\n                    name: 'Example',\n                    address: 'example.yahoo.com'\n                }\n            }\n        }]\n      Sera.insertMany(values, (error, docs) => {\n        .....\n      });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9024390243902439,
        "Content": "     var mongoose = require('mongoose')\n     var sera = mongoose.Schema({\n        isRead: Boolean,\n        subject: String,\n        from: {\n          emailAddress: {\n             name: String,\n             address: String\n          }\n        },\n        receivedDateTime: Date,\n        sentDateTime: Date\n     });\n     const Sera = mongoose.model(\"SERA\", sera)\n       \n     const values = [{\n            id: 'AAMkADg4MTBkNmRiLTAwNzQtNDE1Ny1hNjlkLWVjNzE5N2M1MGEwMgBGAAAAAAA9yT6uaq2hTrV0L6GqHQ_CBwALVVFnK27cQ4tC6FzqOc3cAAAAAAEMAAALVVFnK27cQ4tC6FzqOc3cAANuNGz-AAA=',\n            receivedDateTime: '2019-03-09T03:45:45Z',\n            sentDateTime: '2019-03-09T03:45:44Z',\n            subject: 'Re: hw3',\n            isRead: true,\n            from: {\n                emailAddress: {\n                    name: 'Example',\n                    address: 'example.yahoo.com'\n                }\n            }\n        }]\n      Sera.insertMany(values, (error, docs) => {\n        if(error) {\n          console.log(error);\n        } else {\n          console.log(docs);\n        }\n      });\n      // alternative\n      // Sera.insertMany(values).then(docs => {\n      //    console.log(docs)\n      // })\n      // .catch(error => {\n      //   console.log(error)\n      // })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55252412",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150648933",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    if (process.env.NODE_ENV === 'production') {\n      app.use(express.static('dist')); // express will serve up dist assets\n      app.get('*', (req, res) => res.sendFile(path.resolve('dist', 'index.html'))); // express will serve up the front-end index.html file if it doesn't recognize the route -- **this assumes you have react-router-dom handling front-end routing**\n \n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975609756097561,
        "Content": "    const express = require(\"express\");\n    const app = express();\n    const { resolve } = require(\"path\");\n    \n    app.get(\"/sampleData\", (req, res) => {\n      res.send(\"sample data\");\n    });\n    \n    app.use(express.static(\"dist\"));\n    \n    app.get(\"*\", (req, res) => res.sendFile(resolve(\"dist\", \"index.html\")));\n    \n    app.listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55263110",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150765808",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log(\"Starting to load data\");\n    docRef.get().then(function (doc) {\n      console.log(\"Got data\");\n    });\n    console.log(\"Started to load data\");",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6153846153846154,
        "Content": "    console.log(\"Started to load data\");",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55263748",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "150772946",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        Account.createAndLogin = function (data, cb) {\n            if (!data || !data.password) {\n                return cb(new Error(\"Attribute 'password' is mandatory to create a new user.\"));\n            }\n            Account.create(data, function (err, account) {\n                if (err) {\n                    return cb(err, null);\n                }\n                Account.login({email: data.email, password: data.password}, function (err, token) {\n                    if (err) {\n                        return cb(err, null);\n                    }\n                    cb(err, {\n                        id: token.id,\n                        ttl: token.ttl,\n                        created: token.created,\n                        userId: token.userId,\n                        account: account\n                    });\n                });\n            });\n        };\n    \n        Account.remoteMethod('createAndLogin', {\n            description: \"Create and login in one remote method\",\n            accepts: {arg: 'data', type: 'object', required: true, http: {source: 'body'}, description: 'Model instance data'},\n            returns: {arg: 'accessToken', type: 'object', root: true, description: 'User Model'},\n            http: {verb: 'post'}\n        });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    module.exports = function (Account) {\n            Account.createAndLogin = function (data, cb) {\n                if (!data || !data.password) {\n                    return cb(new Error(\"Attribute 'password' is mandatory to create a new user.\"));\n                }\n                Account.create(data, function (err, account) {\n                    if (err) {\n                        return cb(err, null);\n                    }\n                    Account.login({email: data.email, password: data.password}, function (err, token) {\n                        if (err) {\n                            return cb(err, null);\n                        }\n                        cb(err, {\n                            id: token.id,\n                            ttl: token.ttl,\n                            created: token.created,\n                            userId: token.userId,\n                            account: account\n                        });\n                    });\n                });\n            };\n        \n            Account.remoteMethod('createAndLogin', {\n                description: \"Create and login in one remote method\",\n                accepts: {arg: 'data', type: 'object', required: true, http: {source: 'body'}, description: 'Model instance data'},\n                returns: {arg: 'accessToken', type: 'object', root: true, description: 'User Model'},\n                http: {verb: 'post'}\n            });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55274555",
    "RootLocalId": "5",
    "RootPostBlockVersionId": "150888120",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    const kvToObj = str => Object.assign(\n      {},\n      {[str.slice(0, str.indexOf(':'))]:xx.slice(xx.indexOf(':')+1)}\n    )\n    kvToObj(xx) // Object { website: \"https://google.com\" }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    class Dictionary extends Object {};\n    const kvToDict = str => Dictionary.assign( // No need to do this, but it's interesting to explore the language.\n      new Dictionary(),\n      {[str.slice(0, str.indexOf(':'))]:str.slice(str.indexOf(':')+1)}\n    )\n    const kvDict = kvToDict(\"website:https://google.com\")\n    console.log(kvDict.constructor, kvDict) // Dictionary(), { website: \"https://google.com\" }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55327022",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "151455566",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    app.get('/api/songs/:id', async (req, res) => {\n        try {\n          const song = await Song.findById(req.params.id).lean();\n          if (!song) {\n            return res.status(404).send({\n              message: \"Song not found\",\n              params: req.params\n            });\n          }\n          res.status(200).send(song);\n        }\n        catch (error) {\n          res.status(500).send({\n            message: error.message\n          });\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const mongoose = require('mongoose');\n    const bodyParser = require('body-parser');\n    const SongsController = require('../api/songs');\n    \n    const SongSchema = new mongoose.Schema({\n      title: String,\n      artist: String,\n      year: Number,\n      genre: String,\n      lyrics: String\n    });\n    \n    const Song = mongoose.model('song', SongSchema);\n    \n    module.exports = (app) => {\n      \n      app.get('/api/songs', async (req, res) => {\n        try {\n          const songs = await Song.find({}).lean();\n          res.status(200).send({songs});\n        } catch(error) {\n          res.status(500).send({\n            message: error.message\n          });\n        }\n      });\n      \n      app.get('/api/songs/:id', async (req, res) => {\n        try {\n          const song = await Song.findById(req.params.id).lean();\n          if(!song) {\n            return res.status(404).send({\n              message: \"Song not found\",\n              params: req.params\n            });\n          }\n          res.status(200).send({song});\n        } catch(error) {\n          res.status(500).send({\n            message: error.message\n          });\n        }\n      });\n      \n      \n      app.use(bodyParser.urlencoded({extended: false}));\n      \n      app.post('*', SongsController.addSong);\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55358932",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "151795325",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express')\n    const proxy = require('http-proxy-middleware')\n    \n    const app = express();\n    const filter = function (pathname, req) {\n        if (req.hostname == 'localwebapp' || req.hostname == 'localwebapp2') {\n            return true;\n        }\n        return false;\n    };\n    \n    app.get('/123*', (req, res) => {\n        res.send(`matched 123* route: ${req.path}`);\n    })\n    \n    app.get('/abc*', (req, res) => {\n        res.send(`matched abc* route: ${req.path}`);\n    })\n    \n    app.get('/test', (req, res) => {\n        res.send(\"matched non proxied route '/test'\");\n    })\n    \n    apiProxy = proxy(filter, {\n        target: 'http://localhost:3000', logLevel: 'debug',\n        changeOrigin: true,\n        pathRewrite: function (path, req) {\n            if (req.hostname == 'localwebapp') {\n                return `/123${req.originalUrl}`;\n            }\n            if (req.hostname == 'localwebapp2') {\n                return `/abc${req.originalUrl}`;\n            }\n            return path;\n        }\n    })\n    app.use(apiProxy)\n    app.listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const express = require('express')\n    const proxy = require('http-proxy-middleware')\n    \n    const app = express();\n    const filter = (pathname, req) => {\n        if (req.hostname == 'localwebapp' || req.hostname == 'localwebapp2') {\n            return true;\n        }\n        return false;\n    };\n    \n    app.get('/123*', (req, res) => {\n        res.send(`matched 123* route: ${req.path}`);\n    })\n    \n    app.get('/abc*', (req, res) => {\n        res.send(`matched abc* route: ${req.path}`);\n    })\n    \n    app.get('/test', (req, res) => {\n        res.send(\"matched non proxied route '/test'\");\n    })\n    \n    const apiProxy = proxy(filter, {\n        target: 'http://localhost:3000',\n        logLevel: 'debug',\n        changeOrigin: true,\n        pathRewrite: function (path, req) {\n            if (req.hostname == 'localwebapp') {\n                return `/123${req.originalUrl}`;\n            }\n            if (req.hostname == 'localwebapp2') {\n                return `/abc${req.originalUrl}`;\n            }\n            return path;\n        }\n    })\n    app.use(apiProxy)\n    app.listen(3000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55366084",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "151870578",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    module.exports=function (valueA) { \n     return {\n      someMethod : function (ValueB) {\n      console.log(valueA,ValueB)\n      },\n      middleware : function (req,res,next) {\n       console.log(req,valueA)\n       return next();\n      } \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    module.exports=function (valueA) { \n         return {\n          someMethod : function (ValueB) {\n          console.log(valueA,ValueB)\n          },\n          middleware : function (req,res,next) {\n           console.log(req,valueA)\n           return next();\n          } \n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55425934",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "152517773",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "require('jsdom-global')();    \nvar testUtils=require('@vue/test-utils'), Vue=require('vue');\n// ...\nLikely Jest loads JSDOM in some script before Vue is required, which is why it works there.",
        "MostRecentVersion": "0",
        "Errors": 28,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.38461538461538464,
        "Content": "    require('jsdom-global')();    \n    var testUtils=require('@vue/test-utils'), Vue=require('vue');\n    // ...",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55511153",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "153424381",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     let count = 1;\n     for(let i = handval.length - 1; i >= 1; i -= 1) {\n       if(array[i] === array[i - 1]) {\n         count += 1;\n         if(count === 5) return habdval.slice(i - 1, i + 4);\n       } else {\n         count = 1;\n       }\n     }\n    return [0];",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "     function straight(handval) {\n       if([2, 3, 4, 5].every((el, i) => handval[i] === el) && handval[handval.length-1] === 14)\n         return [4, 14];\n       let count = 1;\n       for(let i = handval.length - 1; i >= 1; i -= 1) {\n         if(handval[i] === handval[i - 1] + 1) {\n           count += 1;\n           if(count === 5) return [ 4, handval[i + 3] ];\n         } else {\n           count = 1;\n         }\n       }\n      return [0];\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55555769",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "153902405",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const http = require('http');\n    \n    const server = http.createServer((req, res) => {\n        console.log(req)\n    });\n    \n    server.listen(3000);\n  \n       Or\n    const http = require('http');\n    \n    http.createServer((req, res) => {\n        console.log(req)\n    }).listen(3000);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9166666666666666,
        "Content": "    const http = require('http');\n    \n    const server = http.createServer((req, res) => {\n        console.log(req)\n    });\n    \n    server.listen(3000);\n  ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55636142",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "154764968",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let scheme = JSON.parse('{\"$schema\":{\"root\":{\"name\":\"THINGY\",\"dtd\":{\"name\":\"DOCTYPE\",\"value\":\"something.dtd\",\"commentBefore\":[\"?xml version=\\'1.0 \\'?\",\"Version NULL\"]},\"ele\":{\"name\":\"REPORT\",\"ele\":[{\"name\":\"SEGMENT0\",\"ele\":[{\"name\":\"NUMBER1\",\"value\":\"\"},{\"name\":\"NUMBER2\",\"value\":\"\"}]},{\"name\":\"SEGMENT1\",\"ele\":[{\"name\":\"RECORD1\",\"ele\":[{\"name\":\"NUMBER1\",\"value\":\"\"},{\"name\":\"NUMBER2\",\"value\":\"\"}]}]},{\"name\":\"SEGMENT2\",\"ele\":[]},{\"name\":\"SEGMENT3\",\"ele\":[]},{\"name\":\"SEGMENT4\",\"ele\":[]},{\"name\":\"SEGMENT5\",\"ele\":[]}]}}}}').$schema.root;\n    //Yay, recursion!\n    function mapObj(a) {\n      let c = a.ele.map((b) => {\n        if (typeof b.ele != 'undefined') {\n          return mapObj(b)\n        } else {\n          return {\n            [b.name]: b.value\n          };\n        }\n      });\n      return {\n        [a.name]: c\n      };\n    }\n    console.log(JSON.stringify(mapObj(scheme.ele), 0, 2));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.42857142857142855,
        "Content": "    let scheme = JSON.parse('{\"$schema\":{\"root\":{\"name\":\"THINGY\",\"dtd\":{\"name\":\"DOCTYPE\",\"value\":\"something.dtd\",\"commentBefore\":[\"?xml version=\\'1.0 \\'?\",\"Version NULL\"]},\"ele\":{\"name\":\"REPORT\",\"ele\":[{\"name\":\"SEGMENT0\",\"ele\":[{\"name\":\"NUMBER1\",\"value\":\"\"},{\"name\":\"NUMBER2\",\"value\":\"1\"}]},{\"name\":\"SEGMENT1\",\"ele\":[{\"name\":\"RECORD1\",\"ele\":[{\"name\":\"NUMBER1\",\"value\":\"2\"},{\"name\":\"NUMBER2\",\"value\":\"\"}]}]},{\"name\":\"SEGMENT2\",\"ele\":[]},{\"name\":\"SEGMENT3\",\"ele\":[]},{\"name\":\"SEGMENT4\",\"ele\":[]},{\"name\":\"SEGMENT5\",\"ele\":[]}]}}}}').$schema.root;\n    let newScheme = JSON.parse('{\"$schema\":{\"root\":{\"name\":\"THINGY\",\"dtd\":{\"name\":\"DOCTYPE\",\"value\":\"something.dtd\",\"commentBefore\":[\"?xml version=\\'1.0 \\'?\",\"Version NULL\"]},\"ele\":{\"name\":\"REPORT\",\"ele\":[{\"name\":\"SEGMENT0\",\"ele\":[{\"name\":\"NUMBER1\",\"value\":\"1\"},{\"name\":\"NUMBER2\",\"value\":\"3\"}]},{\"name\":\"SEGMENT1\",\"ele\":[{\"name\":\"RECORD1\",\"ele\":[{\"name\":\"NUMBER1\",\"value\":\"4\"},{\"name\":\"NUMBER2\",\"value\":\"\"}]}]},{\"name\":\"SEGMENT2\",\"ele\":[]},{\"name\":\"SEGMENT3\",\"ele\":[]},{\"name\":\"SEGMENT4\",\"ele\":[]},{\"name\":\"SEGMENT5\",\"ele\":[]}]}}}}').$schema.root;\n    //Yay, recursion!\n    function mapObj(a, o = {}) {\n      let array = o[a.name] || [];\n      for (let i = 0; i < a.ele.length; i++) {\n        let b = a.ele[i];\n        array[i] = b.ele ?\n          mapObj(b, array[i]) : {\n            [b.name]: b.value\n          };\n      }\n      \n      o[a.name] = array;\n      return o;\n    }\n    let obj = mapObj(scheme.ele);\n    console.log(obj);\n    console.log(mapObj(newScheme.ele, obj));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55707807",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "155540045",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "javascript\nvar array = [\n      {\n        name: 'id',\n        type: 'string',\n        primary: true\n      },\n      {\n        name: 'notes',\n        type: 'text',\n        default: '[]'\n      },\n      {\n        name: 'reminders',\n        type: 'text',\n        default: '[]'\n      }\n    ]\nvar result = array.reduce((prev, el) => {\n   if (el.default) {\n       prev[el.name] = el.default\n   }\n   return prev;\n},{})\nconsole.log(result);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9824561403508771,
        "Content": "    var array = [\n          {\n            name: 'id',\n            type: 'string',\n            primary: true\n          },\n          {\n            name: 'notes',\n            type: 'text',\n            default: '[]'\n          },\n          {\n            name: 'reminders',\n            type: 'text',\n            default: '[]'\n          }\n        ]\n    var result = array.reduce((prev, el) => {\n       if (el.default) {\n           prev[el.name] = el.default\n       }\n       return prev;\n    },{})\n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55757919",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "156075254",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const crypto = require(\"crypto\");\n    function hashSSHA(password){\n        salt = crypto.createHash('sha1').update(crypto.randomBytes(8)).digest('base64');\n        salt = salt.substring(0,10);\n        const hash = crypto.createHash('sha1');\n        hash.update(password + salt);\n        return {\n            salt: salt,\n            encrypted: hash.digest('base64') + salt\n        };\n    };\n    function checkhashSSHA(salt, password) {\n        hash = crypto.createHash('sha1').update(password + salt).digest('base64') + salt;\n        return hash;\n    }\n    const password = \"some password\";\n    const hashResult = hashSSHA(password);\n    console.log(\"Hash result: \", hashResult);\n    console.log(\"Check hash result: \", checkhashSSHA(hashResult.salt, password));",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.90625,
        "Content": "    const crypto = require(\"crypto\");\n    function hashSSHA(password){\n        let salt = crypto.createHash('sha1').update(crypto.randomBytes(8)).digest('base64');\n        salt = salt.substring(0,10);\n        const hash = crypto.createHash('sha1');\n        hash.update(password + salt);\n        return {\n            salt: salt,\n            encrypted: Buffer.concat([hash.digest(), Buffer.from(salt)]).toString('base64')\n        };\n    };\n    function checkhashSSHA(salt, password) {\n        const hash = crypto.createHash('sha1');\n        hash.update(password + salt);\n        return Buffer.concat([hash.digest(), Buffer.from(salt)]).toString('base64');\n    }\n    const password = \"some password\";\n    const hashResult = hashSSHA(password);\n    console.log(\"Hash result: \", hashResult);\n    console.log(\"Check hash result: \", checkhashSSHA(hashResult.salt, password));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55796131",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "156464285",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    console.log('Before starting query');\n    userRef.orderByChild('email').equalTo(email).once('value').then(function (snapshot) {\n      console.log('Got query results');\n    });\n    console.log('After starting query');",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.46153846153846156,
        "Content": "    console.log('After starting query');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "55861068",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "157160021",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var id_array = [\"prayag@cybrosys.in\",\"blockchain@cybrosys.net\"];\n    var no_array = [\"1\",\"2\"];\n    \n    let emailPromiseArray = [];\n    \n    //prepare the email for each receiver\n    for(let i=0;i<id_array.length;i++){\n         emailPromiseArray.push(\n             sendMail({\n                  from: \"Sachin Murali <blockchain@cybrosys.net>\",\n                  to: id_array[i],\n                  subject: \"Sachin's Test on new Node.js project\",\n                  text:no_array[i]\n             })\n         )\n    }\n    \n    //run the promise\n    Promise.all(emailPromiseArray).then((result)=>{\n        console.log('all mail completed');\n    }).catch((error)=>{\n        console.log(error);\n    })\n    \n    function sendMail(mail){\n    \n        return new Promise((resolve,reject)=>{\n            smtpTransport.sendMail(mail, function(error, response){\n        if(error){\n            console.log(error);\n            reject(error);\n        }else{\n            console.log(\"Message sent: \" + JSON.stringify(response));\n            resolve(response);\n        }\n    \n        smtpTransport.close();\n            });\n        })\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8805970149253731,
        "Content": "      var id_array = [\"prayag@cybrosys.in\",\"blockchain@cybrosys.net\"];\n      var no_array = [\"1\",\"2\"];\n        \n      var mailer = require(\"nodemailer\");\n    \n        // Use Smtp Protocol to send Email\n      var smtpTransport = mailer.createTransport({\n        service: \"Gmail\",\n        auth: {\n            user: \"mymail@gmail.com\",\n            pass: \"mypassword\"\n        }\n     });\n    \n     let emailPromiseArray = [];\n        \n        //prepare the email for each receiver\n        for(let i=0;i<id_array.length;i++){\n             emailPromiseArray.push(\n                 sendMail({\n                      from: \"Sachin Murali <blockchain@cybrosys.net>\",\n                      to: id_array[i],\n                      subject: \"Sachin's Test on new Node.js project\",\n                      text:no_array[i]\n                 })\n             )\n        }\n        \n        //run the promise\n        Promise.all(emailPromiseArray).then((result)=>{\n            console.log('all mail completed');\n        }).catch((error)=>{\n            console.log(error);\n        })\n        \n        function sendMail(mail){\n        \n            return new Promise((resolve,reject)=>{\n                smtpTransport.sendMail(mail, function(error, response){\n            if(error){\n                console.log(error);\n                reject(error);\n            }else{\n                console.log(\"Message sent: \" + JSON.stringify(response));\n                resolve(response);\n            }\n        \n            smtpTransport.close();\n                });\n            })\n        }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56084471",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "159521454",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\t// ----------------------------------------\n\t// server.js\n\tvar net = require('net');\n\tvar server = net.createServer(function (socket) {\n\t\tconsole.log('new connection');\n\t\t\n\t\t// socket.pipe(socket); // replaced with socket.write on each 'data' event\n\t\tsocket.setEncoding('utf8');\n        socket.setKeepAlive(true);\n\t\tsocket.on(\"data\", function (d) {\n            console.log(\"received: \", d);\n            var result = socket.write(d);\n            console.log(result ? 'write ok' : 'BACKPRESSURE');\n\t\t});\n\t\tsocket.on('error', function (err) {\n\t\t\tconsole.log('client error:', err);\n\t\t});\n\t\tsocket.on('end', function () {\n\t\t\tconsole.log('client disconnected');\n\t\t});\n\t});\n\tserver.listen(10777, '127.0.0.1', () => {\n\t\tconsole.log('server listening...');\n\t});\n\t// ----------------------------------------\n\t// client.js\n\tvar net = require('net');\n\tvar client = net.createConnection(10777, () => {\n\t\tconsole.log('connected to server!' + new Date().toISOString());\n\t\tvar count = 1;\n\t\tvar date;\n\t\twhile(count < 35000) {\n\t\t\tcount++;\n\t\t\tdate = new Date().toISOString() + '_' + count;\n\t\t\tconsole.log('sending: ', date);\n\t\t\tclient.write(date + '\\n');\n\t\t}\n\t});\n\tclient.on('data', (data) => {\n\t\tconsole.log('received:', data.toString());\n\t});\n\tclient.on('end', () => {\n\t\tconsole.log('disconnected from server');\n\t});",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9896907216494846,
        "Content": "    // server.js\n    var net = require('net');\n    var server = net.createServer(function (socket) {\n        console.log('new connection');\n        \n        // socket.pipe(socket); // replaced with socket.write on each 'data' event\n        socket.setEncoding('utf8');\n        socket.setKeepAlive(true);\n        socket.on(\"data\", function (d) {\n            console.log(\"received: \", d);\n            var result = socket.write(d);\n            console.log(result ? 'write ok' : 'BACKPRESSURE');\n        });\n        socket.on('error', function (err) {\n            console.log('client error:', err);\n        });\n        socket.on('end', function () {\n            console.log('client disconnected');\n        });\n    });\n    server.listen(10777, '127.0.0.1', () => {\n        console.log('server listening...');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56089281",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "159574213",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    export const first = () => {\n        /* logic or code */\n        return data;\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7,
        "Content": "    const  second  = require(\"./second\");\n    module.exports.first=function(){\n        /* logic or code */\n        return second.second();\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56110080",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "159792640",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "       var path, node_ssh, ssh, fs\n         \n        fs = require('fs')\n        path = require('path')\n        node_ssh = require('node-ssh')\n        ssh = new node_ssh()\n         \n        ssh.connect({\n          host: 'localhost',\n          username: 'steel',\n          privateKey: '/home/steel/.ssh/id_rsa'\n        })\n        \n         Or\n         ssh.connect({\n           host: 'localhost',\n           username: 'steel',\n           privateKey: fs.readFileSync('/home/steel/.ssh/id_rsa')\n         })\n       \n        .then(function() {})\n       ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var path, node_ssh, ssh, fs\n    fs = require('fs')\n    path = require('path')\n    node_ssh = require('node-ssh')\n    ssh = new node_ssh()\n    ssh.connect({\n        host: 'localhost',\n        username: 'steel',\n        privateKey: '/home/steel/.ssh/id_rsa'\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56276945",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "161574001",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var a = [{ F1: [\"value1\"] }],\n        b = [{ 8002: [\"value3\", \"value4\"] }],\n        c = [{ F1: [\"value1\", \"value3\"] }, { 8002: [\"value5\"] }],\n        result = [a, b, c].reduce((r, a) => {\n            a.forEach(o => {\n                var key = Object.keys(o)[0],\n                    temp = r.find(p => key in p);\n                if (temp) {\n                    o[key].forEach(v => {\n                        if (!temp[key].includes(v)) temp[key].push(v);\n                    });\n                } else {\n                    r.push(o);\n                }\n            });\n            return r;\n        }, []);\n    console.log(result);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var a = [{ F1: [\"value1\"] }],\n        b = [{ 8002: [\"value3\", \"value4\"] }],\n        c = [{ F1: [\"value1\", \"value3\"] }, { 8002: [\"value5\"] }],\n        result = [...a, ...b, ...c].reduce((r, o) => {\n            var key = Object.keys(o)[0],\n                temp = r.find(p => key in p);\n            if (!temp) return r.concat(o);\n            o[key].forEach(v => {\n                if (!temp[key].includes(v)) temp[key].push(v);\n            });\n            return r;\n        }, []);\n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56330681",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "162148539",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Function Declaration\n    \n    const fs = require('fs'), path = require('path');\n    function recursivelyListDir(dir, callback) {\n      fs.readdirSync(dir).forEach( f => {\n        let dirPath = path.join(dir, f);\n        let isDirectory = fs.statSync(dirPath).isDirectory();\n        isDirectory ? \n          walkDir(dirPath, callback) : callback(path.join(dir, f));\n      });\n    };\n    // Function Usage.\n    recursivelyListDir('my-dir', function(filePath) {\n      const fileContents = fs.readFileSync(filePath, 'utf8');\n      console.log(filePath, fileContents);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7301587301587301,
        "Content": "    const fs = require(\"fs\"), path = require(\"path\");\n    function recursivelyListDir(dir, callback) {\n      fs.readdirSync(dir).forEach(f => {\n        let dirPath = path.join(dir, f);\n        let isDirectory = fs.statSync(dirPath).isDirectory();\n        isDirectory\n          ? recursivelyListDir(dirPath, callback)\n          : callback(path.join(dir, f));\n      });\n    }\n    \n    // Function Usage.\n    \n    recursivelyListDir(__dirname, function(filePath) {\n      const fileContents = fs.readFileSync(filePath, \"utf8\");\n      console.log(filePath);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56458555",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "163513914",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require('fs');\n    const compress = require('brotli/compress');\n    const brotliSettings = {\n        extension: 'br',\n        skipLarger: true,\n        mode: 1, // 0 = generic, 1 = text, 2 = font (WOFF2)\n        quality: 10, // 0 - 11,\n        lgwin: 12 // default\n    };\n    \n    fs.readdirSync('dist/').forEach(file => {\n        if (file.endsWith('.js') || file.endsWith('.css') || file.endsWith('.html')) {\n            const result = brotli.compress(fs.readFileSync('dist/' + file), brotliSettings);\n            fs.writeFileSync('dist/' + file + '.br', result);\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9302325581395349,
        "Content": "    const fs = require('fs');\n    const compress = require('brotli/compress');\n    const brotliSettings = {\n        extension: 'br',\n        skipLarger: true,\n        mode: 1, // 0 = generic, 1 = text, 2 = font (WOFF2)\n        quality: 10, // 0 - 11,\n        lgwin: 12 // default\n    };\n    \n    fs.readdirSync('dist/').forEach(file => {\n        if (file.endsWith('.js') || file.endsWith('.css') || file.endsWith('.html')) {\n            const result = compress(fs.readFileSync('dist/' + file), brotliSettings);\n            fs.writeFileSync('dist/' + file + '.br', result);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56574672",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164749104",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require('fs')\n    const sh = require('shelljs')\n    const download = require('download')\n    const videos = require('./videos')\n    const OUTPUT_DIR = 'Downloads'\n    sh.mkdir('-p', OUTPUT_DIR)\n    (async () => {\n      for (let i = 0; i < videos.length; i++) {\n        console.log(`Downloading ${video.name}. Fil${i + 1}/${videos.length} - `)\n        await download(video.url, `${OUTPUT_DIR}/${video.name}.mp4`);\n      }\n    })();",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9135802469135802,
        "Content": "    const fs = require('fs')\n    const download = require('download')\n    const videos = require('./videos')\n    const util = require('util')\n    const mkdirAsync = util.promisify(fs.mkdir)\n    \n    const OUTPUT_DIR = 'Downloads'\n    \n    const main = async () => {\n      await mkdirAsync(OUTPUT_DIR)\n      for (let i = 0; i < videos.length; i++) {\n        const video = videos[i]\n        const data = await download(video.url)\n        fs.writeFileSync(`${OUTPUT_DIR}/${video.name}.mp4`, data)\n        console.log(`Downloaded file ${i + 1} of ${videos.length} (${video.name})`)\n      }\n    }\n    main()\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56584453",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "164851937",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const promisify = require('util').promisify;\n    const readdirp = promisify(fs.readdir);\n    const statp = promisify(fs.stat);\n  \n    async function scan(directorName = './data') {\n        let results = [];\n        let files = await readdirp(directoryName);\n        for (let f of files) {\n            let fullPath = path.join(directoryName, f);\n            let stat = await statp(fullPath);\n            if (stat.isDirectory()) {\n                let data = await scan(fullPath);\n                if (data.length) {\n                    results.push(...data);\n                }\n            } else {\n                results.push(fullPath);\n            }\n        }\n        return results;\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const promisify = require('util').promisify;\n    const path = require('path');\n    const fs = require('fs');\n    const readdirp = promisify(fs.readdir);\n    const statp = promisify(fs.stat);\n    \n    async function scan(directoryName = './data', results = []) {\n        let files = await readdirp(directoryName);\n        for (let f of files) {\n            let fullPath = path.join(directoryName, f);\n            let stat = await statp(fullPath);\n            if (stat.isDirectory()) {\n                await scan(fullPath, results);\n            } else {\n                results.push(fullPath);\n            }\n        }\n        return results;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56678395",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "165841788",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.use(function (req, res, next) {\n\tres.header(\"Access-Control-Allow-Origin\", \"*\");\n\tres.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n\tnext();\n});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9629629629629629,
        "Content": "`\napp.use(function (req, res, next) {\n\tres.header(\"Access-Control-Allow-Origin\", \"*\");\n\tres.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, Content-Type, Accept\");\n\tnext();\n});\n`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56712612",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "166205083",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const jstream = require('JSONStream');\n// Simulated database insert\nconst insert = () => new Promise(res => setTimeout(res, 2000));\nnew Promise((res, rej) => {\n    let promises = [];\n    try {\n        const stream = fs.createReadStream('./sample.json');\n        console.log(1);\n        const p = stream.pipe(jstream.parse('*'))\n        p.on('data', (stuff) => {\n            console.log(2);\n            console.log(\"New Round\");\n            console.log(stuff);\n            promises.push(insert());\n        });\n        p.on('end', () => {\n            console.log(3);\n            // v-- Resolve with a promise that waits for all \n            //     inserts to finish\n            res(Promise.all(promises).then(a => a.length));\n        });\n        p.on('error', (err) => {\n            console.log(4);\n            rej(err);\n        })\n    } catch (err) {\n        console.log(5);\n        rej(err);\n    }\n})\n.then((count) => {\n    console.log(6);\n    console.log(count);\n    console.log(\"Done loading!\");\n})\n.catch((err) => {\n    console.log(7);\n    console.log(err);\n});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.984375,
        "Content": "const fs = require('fs');\nconst jstream = require('JSONStream');\n// Simulated database insert\nconst insert = () => new Promise(res => setTimeout(res, 2000));\nnew Promise((res, rej) => {\n    let promises = [];\n    try {\n        const stream = fs.createReadStream('./sample.json');\n        console.log(1);\n        const p = stream.pipe(jstream.parse('*'))\n        p.on('data', (stuff) => {\n            console.log(2);\n            console.log(\"New Round\");\n            console.log(stuff);\n            promises.push(insert());\n        });\n        p.on('end', () => {\n            console.log(3);\n            // v-- Resolve with a promise that waits for all \n            //     inserts to finish\n            res(Promise.all(promises).then(a => a.length));\n        });\n        p.on('error', (err) => {\n            console.log(4);\n            rej(err);\n        })\n    } catch (err) {\n        console.log(5);\n        rej(err);\n    }\n})\n.then((count) => {\n    console.log(6);\n    console.log(count);\n    console.log(\"Done loading!\");\n})\n.catch((err) => {\n    console.log(7);\n    console.log(err);\n});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56841606",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "167585901",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    Within an injected component, you can call any of the following:\n    \n    this.props.stripe.createPaymentMethod\n    this.props.stripe.createToken\n    this.props.stripe.createSource\n    this.props.stripe.handleCardPayment",
        "MostRecentVersion": "0",
        "Errors": 19,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.42105263157894735,
        "Content": "    this.props.stripe.createPaymentMethod\n    this.props.stripe.createToken\n    this.props.stripe.createSource\n    this.props.stripe.handleCardPayment",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56843029",
    "RootLocalId": "14",
    "RootPostBlockVersionId": "167601078",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    process.env['FONTCONFIG_PATH'] = path.join(process.env['LAMBDA_TASK_ROOT'], 'fonts');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5714285714285714,
        "Content": "    process.env['FONTCONFIG_PATH'] = process.env['LAMBDA_TASK_ROOT'];",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56847230",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "167645706",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var PDFJS = require('pdfjs-dist');\n    PDFJS.getDocument({ url: 'p1.pdf', password: '' }).then(function(pdf) \n    {\n      let text = [];\n      for(let i = 0; i < pdf.numPages; i++) {\n        pdf.getPage(i).then(function(page) {\n          page.getTextContent().then(function(data) {\n            for(let j = 0; j < data.items.length; j++) {\n              test.push(data.items[j].str);\n            }        \n          });\n        });\n      }\n     \n    }).catch(function(error) {\n    // incorrect password\n    \n    // error is an object having 3 properties : name, message & code\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975609756097561,
        "Content": "    var PDFJS = require('pdfjs-dist');\n    PDFJS.getDocument({ url: 'p1.pdf', password: '' }).then(function(pdf) \n    {\n      let text = [];\n      for(let i = 1; i <= pdf.numPages; i++) {\n        pdf.getPage(i).then(function(page) {\n          page.getTextContent().then(function(data) {\n            for(let j = 0; j < data.items.length; j++) {\n              text.push(data.items[j].str);\n            }        \n          });\n        });\n      }\n     \n    }).catch(function(error) {\n    // incorrect password\n    \n    // error is an object having 3 properties : name, message & code\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "56899967",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "168208377",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var configuration= {\n    host: 'localhost',\n    user: 'root',\n    password: '',\n    database: 'example'\n    };\n    var connection;\n    function handleDisconnect() {\n    connection = mysql.createConnection(configuration);                                            \n    connection.connect(function(err) {             \n    if(err) {                                   sometimes).\n      console.log('error when connecting to db:', err);\n      setTimeout(handleDisconnect, 2000);  \n      reconnect,\n      }                                          \n      });                                     \n      connection.on('error', function(err) {\n      console.log('db error', err);\n      if(err.code === 'PROTOCOL_CONNECTION_LOST') { \n      usually\n      handleDisconnect();                        \n      or a\n      } else {                                     \n      wait_timeout\n      throw err;                                  \n      }\n      });\n     }\n    handleDisconnect();",
        "MostRecentVersion": "0",
        "Errors": 17,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5897435897435898,
        "Content": "    var mysql = require(\"mysql\");\n    var configuration = {\n      host: \"localhost\",\n      user: \"root\",\n      password: \"mysql\",\n      database: \"blog\"\n    };\n    var connection;\n    \n    function handleDisconnect() {\n      connection = mysql.createConnection(configuration);\n    \n      connection.connect(function(err) {\n        if (err) {\n          console.log(\"error when connecting to db:\", err);\n          setTimeout(handleDisconnect, 2000);\n        }else{\n            console.log(\"connection is successfull\");\n        }\n      });\n      connection.on(\"error\", function(err) {\n        console.log(\"db error\", err);\n        if (err.code === \"PROTOCOL_CONNECTION_LOST\") {\n          handleDisconnect();\n        } else {\n          throw err;\n        }\n      });\n    }\n    handleDisconnect();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57008522",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "169347484",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var kp123 = Number('1');\n    var prevKp123 = []; // The previous value of kp123 is stored in this variable each minute\n    var myInt = setInterval(function () {\n      prevKp123 = kp123;\n      kp123 = 1;\n    }, 60000);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9565217391304348,
        "Content": "    var kp123 = Number('1');\n    var prevKp123 = null; // The previous value of kp123 is stored in this variable each minute\n    var myInt = setInterval(function () {\n      prevKp123 = kp123;\n      kp123 = 1;\n    }, 60000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57024472",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "169519547",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "javascript\nif (Math.random() > .5) {\n  //Do something\n}\nWhich gives it a 50% chance of running, changing .5 to something like .2 will give it a lower chance of getting chose",
        "MostRecentVersion": "0",
        "Errors": 39,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.24242424242424243,
        "Content": "    if (Math.random() < .5) console.log('React to the message.');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57052819",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "169818282",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "        Post.customGet = function (postId, cb) {\n            Post.findOne({where: {id: postId}, include: 'comments'}, function (err, post) {\n                if(err){\n                    return cb(err, {});\n                }\n                post.commentCount = post.comments.length;\n                return cb(err, post);\n            });\n        }\n    \n        Post.remoteMethod('customGet', {\n            description: 'New endpoint with the commentCount',\n            accepts: {arg: 'postId', type: 'string'},\n            returns: {arg: 'post', type: 'object'},\n            http: {verb: 'get'}\n        });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9473684210526315,
        "Content": "    'use strict';\n     module.exports = function(Post) {\n            Post.customGet = function (postId, cb) {\n                Post.findOne({where: {id: postId}, include: 'comments'}, function (err, post) {\n                    if(err){\n                        return cb(err, {});\n                    }\n                    post.commentCount = post.comments.length;\n                    return cb(err, post);\n                });\n            }\n        \n            Post.remoteMethod('customGet', {\n                description: 'New endpoint with the commentCount',\n                accepts: {arg: 'postId', type: 'string'},\n                returns: {arg: 'post', type: 'object'},\n                http: {verb: 'get'}\n            });\n      };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57067243",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "169969222",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "lang-js\nconst regexp = new RegExp(\n  \"^\" +                     // Ensures a match is found only if it starts at the beginning of a string.\n  \"(\" +                     // The beginning of our capture group.\n  \"(?:^\\\\w+:\\\\/\\\\/)?\" +     // Matches a protocol at the beginning of the string, which is optional.\n  \"(?:\" +                   // The beginning of our sub-domain non-capturing group.\n  \"(?!-)\" +                 // Skips the match if a sub-domain begins with a hyphen.\n  \"[\\\\w-]+\" +               // Matches one or more words or hyphens.\n  \"|\" +                     // OR\n  \"[^\\\\x00-\\\\x7F]+-*\" +     // Matches one or more character that is not in the ASCII character set as well as zero or more hyphens.\n  \")+\" +                    // The end of our sub-domain non-capturing group, requiring at least one match.\n  \"\\\\.\" +                   // An escaped colon that'll serve as the separator for our sub-domain.\n  \"(?:\" +                   // The beginning of our domain non-capturing group including the colon separator.\n  \"(?:\" +                   // The beginning of our domain non-capturing group excluding the colon separator.\n  \"(?!-)\" +                 // Skips the match if a sub-domain begins with a hyphen.\n  \"[\\\\w -]+\" +              // Matches one or more words or hyphens.\n  \"|\" +                     // OR\n  \"[^\\\\x00 -\\\\x7F] + -*\" +  // Matches one or more character that is not in the ASCII character set as well as zero or more hyphens.\n  \")+\" +                    // The end of our domain non-capturing group excluding the colon separator, requiring at least one match.\n  \"\\\\.\" +                   // An escaped colon that'll serve as the separator for our domain.\n  \")*\" +                    // The end of our domain non-capturing group, including the colon separator, requiring zero or more matches.\n  \"(?:\" +                   // The beginning of our top-level domain non-capturing group.\n  \"(?!-)\" +                 // Skips the match if a domain begins with a hyphen.\n  \"[\\\\w -]+\" +              // Matches one or more words or hyphens.\n  \"|\" +                     // OR\n  \"[^\\\\x00 -\\\\x7F]+-*\" +    // Matches one or more character that is not in the ASCII character set as well as zero or more hyphens.\n  \")*\" +                    // The end of our top-level domain non-capturing group, requiring zero or more matches.\n  \")\", \"gi\");               // The end of our capture group, and the end of our regex! Phew! The \"gi\" is to make the expression global and case-insensitive.\n**Input:**\nlang-html\nhttp://www.例如.中国/\nhttp://www.würstchen.mit.käsebrötchen.de:8080/news/index.html\nhttps://www.fußballspiel.de/\nhttp://www.simulateur-prêt.fr\n**Output:**\nlang-html\nhttp://www.例如.中国\nhttp://www.würstchen.mit.käsebrötchen.de\nhttps://www.fußballspiel.de\nhttp://www.simulateur-prêt.fr\nI hope this helps! All of the best!",
        "MostRecentVersion": "0",
        "Errors": 29,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7904761904761904,
        "Content": "    const regexp = new RegExp(\n      \"^\" +                     // Ensures a match is found only if it starts at the beginning of a string.\n      \"(?:^\\\\w+:\\\\/\\\\/)?\" +     // Matches a protocol at the beginning of the string, which is optional.\n      \"(\" +                     // The beginning of our capture group.\n      \"(?:\" +                   // The beginning of our sub-domain non-capturing group.\n      \"(?!-)\" +                 // Skips the match if a sub-domain begins with a hyphen.\n      \"[\\\\w-]+\" +               // Matches one or more words or hyphens.\n      \"|\" +                     // OR\n      \"[^\\\\x00-\\\\x7F]+-*\" +     // Matches one or more character that is not in the ASCII character set as well as zero or more hyphens.\n      \")+\" +                    // The end of our sub-domain non-capturing group, requiring at least one match.\n      \"\\\\.\" +                   // An escaped colon that'll serve as the separator for our sub-domain.\n      \"(?:\" +                   // The beginning of our domain non-capturing group including the colon separator.\n      \"(?:\" +                   // The beginning of our domain non-capturing group excluding the colon separator.\n      \"(?!-)\" +                 // Skips the match if a sub-domain begins with a hyphen.\n      \"[\\\\w-]+\" +               // Matches one or more words or hyphens.\n      \"|\" +                     // OR\n      \"[^\\\\x00-\\\\x7F]+-*\" +     // Matches one or more character that is not in the ASCII character set as well as zero or more hyphens.\n      \")+\" +                    // The end of our domain non-capturing group excluding the colon separator, requiring at least one match.\n      \"\\\\.\" +                   // An escaped colon that'll serve as the separator for our domain.\n      \")*\" +                    // The end of our domain non-capturing group, including the colon separator, requiring zero or more matches.\n      \"(?:\" +                   // The beginning of our top-level domain non-capturing group.\n      \"(?!-)\" +                 // Skips the match if a domain begins with a hyphen.\n      \"[\\\\w-]+\" +               // Matches one or more words or hyphens.\n      \"|\" +                     // OR\n      \"[^\\\\x00-\\\\x7F]+-*\" +     // Matches one or more character that is not in the ASCII character set as well as zero or more hyphens.\n      \")*\" +                    // The end of our top-level domain non-capturing group, requiring zero or more matches.\n      \")\", \"im\");               // The end of our capture group, and the end of our regex! Phew! The \"gi\" is to make the expression global and case-insensitive.\n    \n    const urls = [\n      'http://www.例如.中国/',\n      'http://www.würstchen.mit.käsebrötchen.de:8080/news/index.html',\n      'https://www.fußballspiel.de/',\n      'http://www.simulateur-prêt.fr'\n    ];\n    \n    const hostnames = urls.map(url => {\n      return regexp.exec(url)[1];\n    })\n    \n    hostnames.forEach((hostname, index) => {\n      console.log('Input:', urls[index], '\\nOutput:', hostname);\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57121000",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "170534694",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const json = JSON.parse(\"...');\n    const joe = json.data.user.find(x => x.name === \"Joe\");\n    console.log(joe.age);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const json = JSON.parse(\"...\");\n    const joe = json.data.user.find(x => x.name === \"Joe\");\n    console.log(joe.age);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57143203",
    "RootLocalId": "3",
    "RootPostBlockVersionId": "170772816",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // This function exists on the window object\n    function foo(n) {\n      console.log('foo was called with value:', n)\n    }\n    // Test case\n    const string = 'foo 5'\n    const args = string.split(\" \")\n    const func = args[0]\n    const vars = args[1]\n    // Call the func on the window object with vars\n    window[func](vars)",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.819672131147541,
        "Content": "    // Test module object with function foo\n    const myModule = {\n      foo: function(n) {\n        console.log('foo was called with value:', n)\n      }\n    }\n    // Test case \n    const string = 'foo 5'\n    const args = string.split(\" \")\n    const func = args[0]\n    const vars = args[1]\n    // Call func on myModule with vars\n    myModule[func](vars)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57150359",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "170847366",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import YourService from '../service/your-service';\n    \n    export function getCountries(request, response) {\n      const yourService = new productService();\n      yourService.getCountries(request)\n        .then().catch()",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6111111111111112,
        "Content": "    const YourService = require('./service/your-service');\n    \n    function getCountries(request, response) {\n        const yourService = new YourService();\n        yourService.getCountries(request)\n            .then((res) => { response.send(res); })\n            .catch((error) => { response.status(400).send({ message: error.message }) })\n    }\n    module.exports = getCountries;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57151411",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "170858755",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    request.post({\n      url: \"http://localhost:3000\",\n      json: true,\n      body: {message: arg}\n    }, function (err, response, body) {// <<<<----HERE\n      if(!err && response.statusCode==200) {\n        console.log(body);\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9722222222222222,
        "Content": "    const request = require('request');\n    const readline = require(\"readline\").createInterface({\n      input: process.stdin,\n      output: process.stdout\n    });\n    \n    readline.setPrompt('msg: ');\n    readline.prompt();\n    \n    readline.on('line', function(input) {\n      if(input === 'close') return readline.close();\n      request.post({\n        url: \"http://localhost:3000\",\n        json: true,\n        body: {message: input}\n      }, function (err, response, body) {\n        readline.prompt();\n      });\n    }).on('close', function() {\n        console.log('Closed');\n        process.exit(0);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57188810",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "171254622",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var rl = require('readline');\n    rl.question('Ask me something : ', function(answer){\n        console.log(answer.toString());\n        console.log('exit')\n        process.exit();\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    const readline = require('readline');\n    const rl = readline.createInterface({\n        input: process.stdin,\n        output: process.stdout\n    });\n    rl.question('Ask me something : ', function(answer){\n        console.log(answer.toString());\n        console.log('exit')\n        process.exit();\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57228579",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "171690594",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const Products = require(\"../models/Product.models\");\n    \n    exports.Product_create = function(req, res, next){\n        console.log(req.body.Name); //For test only - Here I am getting the values\n        console.log(req.body.Age);  //For test only - Here I am getting the values\n        let newProduct = new Products()\n        {\n            first_name:req.body.Name,\n            age:req.body.Age\n        };\n        newProduct.save(function (err) {\n            if (err) {\n                return next(err);\n            }\n            res.send('Product Created successfully')\n        })\n    };\n    \n    exports.test = function(req, res){\n        console.log(\"test controller reached successfully!\");\n    };",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975609756097561,
        "Content": "    const Products = require(\"../models/Product.models\");\n    \n    exports.Product_create = function(req, res, next){\n        console.log(req.body.Name); //For test only - Here I am getting the values\n        console.log(req.body.Age);  //For test only - Here I am getting the values\n        let newProduct = new Products(\n        {\n            first_name:req.body.Name,\n            age:req.body.Age\n        });\n        newProduct.save(function (err) {\n            if (err) {\n                return next(err);\n            }\n            res.send('Product Created successfully')\n        })\n    };\n    \n    exports.test = function(req, res){\n        console.log(\"test controller reached successfully!\");\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57307844",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "172525858",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const path = require(\"path\");\nconst dir = \"content\";\nconst filepath = \"folder/1.md\";\nconst href = \"./2.md\";\nconsole.log(path.join(dir, path.dirname(filepath), href)); //content/folder/2.md\nIf this isn't what you want could you elaborate a little more about your problem",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.45,
        "Content": "const path = require(\"path\");\nconst filepath = \"folder/1.md\";\nconst href = \"./2.md\";\nconsole.log(path.join(path.dirname(filepath), href)); // folder/2.md",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57447227",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "174011086",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let data = [{ name: 'Dave', groupid: '1' },\n      { name: 'Bob', groupid: '1' },\n      { name: 'Jessica', groupid: '2' },\n      { name: 'Natalie', groupid: '3' }]\n    \n    // map object where we store original groupid as key and new groupid as value\n    let uniqueGroupIds = new Map();\n    for (let obj of data) {\n        // see if we already have this groupid in the Map\n        let newId = uniqueGroupIds.get(data.groupid);\n        // if not, make a new group id\n        if (!newId) {\n            newId = makeNewGroupId();\n            // save this new groupid in our map\n            uniqueGroupIds.set(data.groupid, newId);\n        }\n        // update the object with the newId\n        obj.groupid = newId;\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "        let data = [{ name: 'Dave', groupid: '1' },\n          { name: 'Bob', groupid: '1' },\n          { name: 'Jessica', groupid: '2' },\n          { name: 'Natalie', groupid: '3' }];\n          \n        function makeNewGroupId() {\n          return Math.random()\n            .toString(36)\n            .substring(2, 5) +\n          Math.random()\n            .toString(36)\n            .substring(2, 5);\n        }\n        \n        // map object where we store original groupid as key and new groupid as value\n        let uniqueGroupIds = new Map();\n        for (let obj of data) {\n            // see if we already have this groupid in the Map\n            let newId = uniqueGroupIds.get(obj.groupid);\n            // if not, make a new group id\n            if (!newId) {\n                newId = makeNewGroupId();\n                // save this new groupid in our map\n                uniqueGroupIds.set(obj.groupid, newId);\n            }\n            // update the object with the newId\n            obj.groupid = newId;\n        }\n        \n        console.log(data);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57486295",
    "RootLocalId": "10",
    "RootPostBlockVersionId": "174415322",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    // wrap a request.get().pipe() stream so you know when it's done\n    // pass the same args to this that you pass to request except no completion callback\n    // this monitors the read stream for errors and the write stream you pass to `.pipe()` for completion and errors\n    //\n    // Sample usage:\n    //     requestPipePromise(someUrl).pipe(fs.createWriteStream(myFile)).then(function() {\n    //         console.log(\".pipe() is done successfully\");\n    //     }).catch(function(e) {\n    //         // got some error in either the request or the pipe\n    //         console.log(e);\n    //     })\n    // \n    \n    const request = require('request');\n    \n    function requestPipePromise(...args) {\n        return new Promise(function(resolve, reject) {\n            let r = request.get(...args);\n            r.on('error', function(e) {\n                reject(e);\n            });\n            let r.pipeOrig = r.pipe;\n            // replacement .pipe() function that hooks the writestream to monitor it for completion/errors\n            let r.pipe = function(writeStream) {\n                writeStream.on('error', function(e) {\n                    reject(e);\n                }).on('close', function() {\n                    resolve();\n                });\n                r.pipeOrig(writeStream);\n            };\n        });\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    // wrap a request.get().pipe() stream so you know when it's done\n    // pass the same args to this that you pass to request except no completion callback\n    // this monitors the read stream for errors and the write stream you pass to `.pipe()` for completion and errors\n    //\n    // Sample usage:\n    //     requestPipePromise(someUrl).pipe(fs.createWriteStream(myFile)).then(function() {\n    //         console.log(\".pipe() is done successfully\");\n    //     }).catch(function(e) {\n    //         // got some error in either the request or the pipe\n    //         console.log(e);\n    //     })\n    // \n    \n    const request = require('request');\n    \n    function requestPipePromise(...args) {\n        return new Promise(function(resolve, reject) {\n            let r = request.get(...args);\n            r.on('error', reject);\n            r.pipeOrig = r.pipe;\n            // replacement .pipe() function that hooks the writestream to monitor it for completion/errors\n            r.pipe = function(writeStream) {\n                writeStream.on('error', reject).on('close', resolve);\n                r.pipeOrig(writeStream);\n            };\n        });\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57497700",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "174535958",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const path = require('path');\n    \n    module.exports = {\n        entry: path.join(__dirname, '/app.ts'),\n        output: {\n            filename: 'app.js',\n            path: __dirname\n        },\n        module: {\n            rules: [\n                {\n    \t\t\t\ttest: /\\.scss$/,\n    \t\t\t\tuse: [\n    \t\t\t\t\t'style-loader',\n    \t\t\t\t\t{\n    \t\t\t\t\t\tloader: \"css-loader\",\n    \t\t\t\t\t\toptions: {\n    \t\t\t\t\t\t\tminimize: true,\n    \t\t\t\t\t\t\tsourceMap: true\n    \t\t\t\t\t\t}\n    \t\t\t\t\t},\n    \t\t\t\t\t{\n    \t\t\t\t\t\tloader: \"sass-loader\"\n    \t\t\t\t\t}\n    \t\t\t\t]\n                {\n                    test: /\\.tsx?$/,\n                    loader: 'ts-loader',\n                    exclude: /node_modules/,\n                },\n            ]\n        },\n        resolve: {\n            extensions: [\".tsx\", \".ts\", \".js\"]\n        },\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const path = require('path');\n    \n    module.exports = {\n      entry: path.join(__dirname, '/app.ts'),\n      output: {\n        filename: 'app.js',\n        path: __dirname\n      },\n      module: {\n        rules: [\n          {\n            test: /\\.scss$/,\n            use: [\n              'style-loader',\n              {\n                loader: \"css-loader\",\n                options: {\n                  minimize: true,\n                  sourceMap: true\n                }\n              },\n              {\n                loader: \"sass-loader\"\n              }\n            ]\n          },\n          {\n            test: /\\.tsx?$/,\n            loader: 'ts-loader',\n            exclude: /node_modules/,\n          }\n        ]\n      },\n      resolve: {\n        extensions: [\".tsx\", \".ts\", \".js\"]\n      }\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57520059",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "174779282",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const createUser = (user, db) => {\n\treturn db.transaction((trx) => {\n\t\ttrx.insert({\n\t\t\thash: user.hash\n\t\t})\n\t\t.into('user_credentials')\n\t\t.returning('id')\n\t\t.then((userId) => {\n\t\t\treturn trx('users')\n\t\t\t\t.returning('*')\n\t\t\t\t.insert({\n\t\t\t\t\tuser_id: userId[0],\n\t\t\t\t\temail: user.email,\n\t\t\t\t\tname: user.name,\n\t\t\t\t\ttoken: user.token,\n\t\t\t\t\tcreated_at: new Date()\n\t\t\t\t});\n\t\t})\n\t\t.then(trx.commit)\n\t\t.catch((err) => {\n\t\t\ttrx.rollback();\n\t\t\tthrow err;\n\t\t})\n\t})\n\t**.then((data) => {\n\t\treturn data;\n\t})\n\t.catch((err) => {\n\t\tconsole.log(err);\n\t});**\n}",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8674698795180723,
        "Content": "const createUser = (user, db) => {\n\treturn db.transaction((trx) => {\n\t\ttrx.insert({\n\t\t\thash: user.hash\n\t\t})\n\t\t.into('user_credentials')\n\t\t.returning('id')\n\t\t.then((userId) => {\n\t\t\treturn trx('users')\n\t\t\t\t.returning('*')\n\t\t\t\t.insert({\n\t\t\t\t\tuser_id: userId[0],\n\t\t\t\t\temail: user.email,\n\t\t\t\t\tname: user.name,\n\t\t\t\t\ttoken: user.token,\n\t\t\t\t\tcreated_at: new Date()\n\t\t\t\t});\n\t\t})\n\t\t.then(trx.commit)\n\t\t.catch((err) => {\n\t\t\ttrx.rollback();\n\t\t\tthrow err;\n\t\t})\n\t})\n//Return the data here instead of along with trx.commit\n\t.then((data) => {\n\t\treturn data;\n\t})\n\t.catch((err) => {\n\t\tconsole.log(err);\n\t});\n}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57525474",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "174837081",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Database =  require('./DatabaseSevice')\n    var XYZ = require('./XYZService')\n    \n    module.exports = {\n        database: new Datebase(),\n        xyz: new XYZ()\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    var Database =  require('./DatabaseService')\n    var XYZ = require('./XYZService')\n    \n    module.exports = {\n        database: new Database(),\n        xyz: new XYZ()\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57585092",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "175473894",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let data = {\n    '?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?': null,\n     billFetchRequest: [{\n        input: {\n          paramName: 'Customer ID',\n          paramValue: req.query.crn\n              }\n          }, {\n        input: {\n           paramName: 'Mobile',\n           paramValue: req.query.ph_no\n              }\n          }, {\n        input: {\n           paramName: 'Name',\n           paramValue: req.query.ph_no\n              }\n          }]\n      };\n    }",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7906976744186046,
        "Content": "    const o2x = require(\"jsontoxml\");   \n        let data = {\n          '?xml version=\\\"1.0\\\" encoding=\\\"UTF-8\\\"?': null,\n           billFetchRequest: {\n                  inputParams: [{\n                       input: {\n                          paramName: 'Customer ID',\n                          paramValue: 'req.query.crn'\n                              }\n                          }, {\n                       input: {\n                           paramName: 'Mobile',\n                           paramValue: 'req.query.ph_no'\n                              }\n                          }, {\n                       input: {\n                           paramName: 'Name',\n                           paramValue: 'req.query.ph_no'\n                              }\n                          }]\n                      }\n                  };   \n        console.log(o2x(data))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57608320",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "175719151",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    mystring.replace(/\\u001b\\[31m(.*)\\u001b\\[39m/, $1 => $1.toUpperCase())",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5714285714285714,
        "Content": "    const mystring = `\\u001b[31merror\\u001b[39m`;\n    console.log(\n      mystring.replace(/\\u001b\\[31m(.*)\\u001b\\[39m/, $1 => $1.toUpperCase())\n    );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57743776",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "177178498",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const postSchema = {\n        title: String,\n        content: String,\n        url: String,\n        altText: String\n    };\n    <Img src=\"<%=post.url%>\" alt=\"<%=post.altText%>\"/>",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8421052631578947,
        "Content": "    const postSchema = {\n        title: String,\n        content: String,\n        url: String,\n        altText: String\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57798366",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "177766358",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // An example fake request function\n    const fakeRequest = async (endpoint, i) => {\n      const kNumberOfFakeResultsToReturn = 3;\n      if (i >= kNumberOfFakeResultsToReturn) return;\n      return { content: `fake payload #${i} from ${endpoint}` };\n    };\n    // A general purpose utility function:\n    // yields results of calling fn(i) with ever increasing i until it returns something falsey\n    async function* iterateAllAsync(fn, i = 0) {\n      while (true) {\n        let res = await fn(i)\n        if (!res) return;\n        yield res;\n        ++i;\n      }\n    }\n    // A general purpose utility function:\n    // returns an async generator's results as an array\n    const arrayFromAsync = async (it) => {\n      let results = [];\n      for await (res of it) {\n        results.push(res);\n      }\n      return results;\n    }\n    // Here's where we describe what we want done:\n    arrayFromAsync(iterateAllAsync((i) => fakeRequest('fakeEndpoint', i)))\n      .then(console.log);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9868421052631579,
        "Content": "    // An example fake request function\n    const fakeRequest = async (endpoint, i) => {\n      const kNumberOfFakeResultsToReturn = 3;\n      if (i >= kNumberOfFakeResultsToReturn) return;\n      return { content: `fake payload #${i} from ${endpoint}` };\n    };\n    // A general purpose utility function:\n    // yields results of calling fn(i) with ever increasing i until it returns something falsey\n    async function* iterateAllAsync(fn, i = 0) {\n      while (true) {\n        let res = await fn(i)\n        if (!res) return;\n        yield res;\n        ++i;\n      }\n    }\n    // A general purpose utility function:\n    // returns an async generator's results as an array\n    const arrayFromAsync = async (it) => {\n      let results = [];\n      for await (let res of it) {\n        results.push(res);\n      }\n      return results;\n    }\n    // Here's where we describe what we want done:\n    arrayFromAsync(iterateAllAsync((i) => fakeRequest('fakeEndpoint', i)))\n      .then(console.log);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "57853882",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "178364964",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const feed = db.follow({since: \"now\",docs_ids=[\"my-doc\"]});\n    feed.on('change', (change) => {\n      console.log(\"change: \", change);\n    });\n    feed.follow();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    const nano = require('nano')('http://localhost:5984')\n    const db = nano.use('foo');\n    \n    const feed = db.follow({since: \"now\",filter:\"_doc_ids\",doc_ids:JSON.stringify([\"my-doc\",\"doc_2\"])});\n    feed.on('change', (change) => {\n      console.log(\"change: \", change);\n    });\n    feed.follow();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58090515",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "180927594",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    res.writeHead(200, {\n    'Content-Length': Buffer.byteLength(body),\n    'Content-Type': 'application/pdf',\n    'Content-disposition': 'attachment;filename=test.pdf',})\n    .end(body);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2222222222222222,
        "Content": "    var express = require('express');\n    var router = express.Router();\n    const PDFDocument =  require('pdfkit');\n    router.get('/generatePDF', async function(req, res, next) {\n    var myDoc = new PDFDocument({bufferPages: true});\n    \n    let buffers = [];\n    myDoc.on('data', buffers.push.bind(buffers));\n    myDoc.on('end', () => {\n        let pdfData = Buffer.concat(buffers);\n        res.writeHead(200, {\n        'Content-Length': Buffer.byteLength(pdfData),\n        'Content-Type': 'application/pdf',\n        'Content-disposition': 'attachment;filename=test.pdf',})\n        .end(pdfData);\n    });\n    myDoc.font('Times-Roman')\n         .fontSize(12)\n         .text(`this is a test text`);\n    myDoc.end();\n    });\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58124872",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "181292018",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    ytlist(playlist_url, 'url').then(res => {\n    \n        var video_url = res.data.playlist;\n        var total_files = video_url.length;\n    \n        video_url.forEach(async function(url, index) {\n            const info = await ytdl.getInfo(url);\n            console.log(info);\n        });\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.14705882352941177,
        "Content": "    const ytdl = require('ytdl-core');\n    \n    const video_url = [\n        'hxOI7wahw7w', // [MV] HONG JIN YOUNG(홍진영) _ Boogie Man(부기맨)\n        'iOxzG3jjFkY', // Willy William - Ego (Clip Officiel)\n        'WGclLoxZz18', // GZUZ - Drück Drück (feat. LX)\n        '5WujFgnZAko'  // Lozano - Kako tebe nema druga (2015)\n    ];\n    \n    let task = [];\n    \n    video_url.forEach(url => task.push(ytdl.getInfo(url)));\n    \n    Promise.all(task).then(res => {\n        for (let r in res) {\n            console.log(`${r} : ${res[r].title}`);\n        }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58265036",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "182789104",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs.readFile('index.html', (err,html)=>{\n       if(err){\n          throw err;\n       }\n       const htmlStr = html + '';\n       const root = parse(htmlStr);\n  \n       const body = root.querySelector('body');\n       //body.set_content('<div id = \"asdf\"></div>');\n       body.appendChild('<div id = \"asdf\"></div>');\n    \n       console.log(root.toString()); // This you can write back to file!\n     });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9666666666666667,
        "Content": "    const fs = require('fs');\n    const parse = require('node-html-parser').parse;\n    fs.readFile('index.html', 'utf8', (err,html)=>{\n       if(err){\n          throw err;\n       }\n       const root = parse(html);\n  \n       const body = root.querySelector('body');\n       //body.set_content('<div id = \"asdf\"></div>');\n       body.appendChild('<div id = \"asdf\"></div>');\n    \n       console.log(root.toString()); // This you can write back to file!\n     });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58265825",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "182797955",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var rounded = Math.round( number * 10 ) / 10;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8,
        "Content": "    var myNum = 6.333333333333333;\n    var rounded = Math.round( myNum * 10 ) / 10;\n    console.log(rounded);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58284922",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "183000926",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function get_linux_disk(req, res, next) {\n        try {\n            const result = await execPromise(`df ~`)\n            const lines = result.stdout.split(\"\\n\");\n            const keys = lines[0].split(/\\s+/ig);\n            // Skip the header row when assigning objects..\n            const rows = lines.slice(1).map(line => {\n                // Parse each line..\n                const values = line.split(/\\s+/ig);\n                return keys.reduce((o, k, index) => {\n                    o[k] = values[index];\n                    return o;\n                }, {})\n            });\n            res.status(200).json(rows);\n        } catch (err) {\n            res.status(500).send(err.message);\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9361702127659575,
        "Content": "    const { exec } = require('child_process');\n    const { promisify } = require('util');\n    const execPromise = promisify(exec);\n    async function get_linux_disk(req, res, next) {\n        try {\n            const result = await execPromise(`df ~`)\n            const lines = result.stdout.split(\"\\n\");\n            const keys = lines[0].split(/\\s+/ig);\n            // Skip the header row when assigning objects..\n            const rows = lines.slice(1).map(line => {\n                // Parse each line..\n                const values = line.split(/\\s+/ig);\n                return keys.reduce((o, k, index) => {\n                    o[k] = values[index];\n                    return o;\n                }, {})\n            });\n            res.status(200).json(rows);\n        } catch (err) {\n            res.status(500).send(err.message);\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58399215",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "184217195",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "javascript\nconst json = `[\n    {\n      \"metadata\": {\n        \"id\": \"vvvvvvvvvvvvv\",\n        \"url\": \"cccccccccccccc\",\n        \"created_at\": \"2019-09-06T08:40:41Z\",\n        \"updated_at\": \"2019-09-06T13:25:46Z\"\n      },\n      \"entity\": {\n        \"name\": \"app1\",\n        \"b_enabled\": false,\n        \"d_url\": \"xxxxxs\"\n      }\n    },\n      {\n      \"metadata\": {\n        \"id\": \"vvvvvvvvvvccc\",\n        \"url\": \"cccccccccccccc\",\n        \"created_at\": \"2019-09-06T08:40:41Z\",\n        \"updated_at\": \"2019-09-06T13:25:46Z\"\n      },\n      \"entity\": {\n        \"name\": \"app2\",\n        \"b_enabled\": false,\n        \"d_url\": \"xxxxxs\"\n      }\n    },\n      {\n      \"metadata\": {\n        \"id\": \"vvvvvvvvvvddd\",\n        \"url\": \"cccccccccccccc\",\n        \"created_at\": \"2019-09-06T08:40:41Z\",\n        \"updated_at\": \"2019-09-06T13:25:46Z\"\n      },\n      \"entity\": {\n        \"name\": \"app3\",\n        \"b_enabled\": false,\n        \"d_url\": \"xxxxxs\"\n      }\n    },\n      {\n      \"metadata\": {\n        \"id\": \"vvvvvvvvvveee\",\n        \"url\": \"cccccccccccccc\",\n        \"created_at\": \"2019-09-06T08:40:41Z\",\n        \"updated_at\": \"2019-09-06T13:25:46Z\"\n      },\n      \"entity\": {\n        \"name\": \"app4\",\n        \"b_enabled\": false,\n        \"d_url\": \"xxxxxs\"\n      }\n    },\n      {\n      \"metadata\": {\n        \"id\": \"vvvvvvvvvvfff\",\n        \"url\": \"cccccccccccccc\",\n        \"created_at\": \"2019-09-06T08:40:41Z\",\n        \"updated_at\": \"2019-09-06T13:25:46Z\"\n      },\n      \"entity\": {\n        \"name\": \"app5\",\n        \"b_enabled\": false,\n        \"d_url\": \"xxxxxs\"\n      }\n  }\n  ]`;\nconst result = JSON.parse(json)\n    .map(({ metadata: { id }, entity: { name } }) => {\n        return { [name]: id };\n    })\n    .reduce((prev, current) => {\n        const [name] = Object.keys(current);\n        prev[name] = current[name];\n        return prev;\n    }, {});\nconsole.log(result);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const json = `[\n        {\n          \"metadata\": {\n            \"id\": \"vvvvvvvvvvvvv\",\n            \"url\": \"cccccccccccccc\",\n            \"created_at\": \"2019-09-06T08:40:41Z\",\n            \"updated_at\": \"2019-09-06T13:25:46Z\"\n          },\n          \"entity\": {\n            \"name\": \"app1\",\n            \"b_enabled\": false,\n            \"d_url\": \"xxxxxs\"\n          }\n        },\n          {\n          \"metadata\": {\n            \"id\": \"vvvvvvvvvvccc\",\n            \"url\": \"cccccccccccccc\",\n            \"created_at\": \"2019-09-06T08:40:41Z\",\n            \"updated_at\": \"2019-09-06T13:25:46Z\"\n          },\n          \"entity\": {\n            \"name\": \"app2\",\n            \"b_enabled\": false,\n            \"d_url\": \"xxxxxs\"\n          }\n        },\n          {\n          \"metadata\": {\n            \"id\": \"vvvvvvvvvvddd\",\n            \"url\": \"cccccccccccccc\",\n            \"created_at\": \"2019-09-06T08:40:41Z\",\n            \"updated_at\": \"2019-09-06T13:25:46Z\"\n          },\n          \"entity\": {\n            \"name\": \"app3\",\n            \"b_enabled\": false,\n            \"d_url\": \"xxxxxs\"\n          }\n        },\n          {\n          \"metadata\": {\n            \"id\": \"vvvvvvvvvveee\",\n            \"url\": \"cccccccccccccc\",\n            \"created_at\": \"2019-09-06T08:40:41Z\",\n            \"updated_at\": \"2019-09-06T13:25:46Z\"\n          },\n          \"entity\": {\n            \"name\": \"app4\",\n            \"b_enabled\": false,\n            \"d_url\": \"xxxxxs\"\n          }\n        },\n          {\n          \"metadata\": {\n            \"id\": \"vvvvvvvvvvfff\",\n            \"url\": \"cccccccccccccc\",\n            \"created_at\": \"2019-09-06T08:40:41Z\",\n            \"updated_at\": \"2019-09-06T13:25:46Z\"\n          },\n          \"entity\": {\n            \"name\": \"app5\",\n            \"b_enabled\": false,\n            \"d_url\": \"xxxxxs\"\n          }\n      }\n      ]`;\n    const result = JSON.parse(json)\n        .map(({ metadata: { id }, entity: { name } }) => {\n            return { [name]: id };\n        })\n        .reduce((prev, current) => {\n            const [name] = Object.keys(current);\n            prev[name] = current[name];\n            return prev;\n        }, {});\n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58402630",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "184256053",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    show  status like 'Ssl_version';",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    let sql= \"show status like 'Ssl_version'\";",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58469116",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "184971434",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        // Helper function to import a CSV file.\n    //\n    function importCsvFile (filePath) {\n    \treturn read(filePath)\n    \t\t.then(textFileData => {\n    \t\t\tconst result = papa.parse(textFileData, {\n    \t\t\t\theader: true,\n    \t\t\t\tdynamicTyping: true,\n    \t\t\t});\n    \t\t\treturn result.data;\n    \t\t});\n    };\n    \n    function exportToMongoDB (db, collectionName, data) {\n        return db[collectionName].insert(data);\n    };\n    \n    const mongo = require('promised-mongo');\n    \n    const db = mongo('localhost:27017/earthquakes', ['largest_earthquakes']);\n    \n    importCsvFile('/code/data/earthquakes.csv')\n        .then(data => exportToMongoDB(db, 'largest_earthquakes', data))\n        .then(() => db.close())\n        .catch(err => {\n            console.error(\"An error occurred.\");\n            console.error(err.stack);\n        });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7964601769911505,
        "Content": "    'use strict';\n    \n    const papa = require('papaparse');\n    const fs = require('fs');\n    \n    //\n    // Read a text file form the file system.\n    //\n    function read (fileName) {\n        return new Promise((resolve, reject) => {\n            fs.readFile(fileName, 'utf8',\n                function (err, textFileData) {\n                    if (err) {\n                        reject(err);\n                        return;\n                    }\n    \n                    resolve(textFileData);\n                }\n            );\n        });\n    };\n    \n    //\n    // Helper function to import a CSV file.\n    //\n    function importCsvFile (filePath) {\n    \treturn read(filePath)\n    \t\t.then(textFileData => {\n    \t\t\tconst result = papa.parse(textFileData, {\n    \t\t\t\theader: true,\n    \t\t\t\tdynamicTyping: true,\n    \t\t\t});\n    \t\t\treturn result.data;\n    \t\t});\n    };\n    \n    function exportToMongoDB (db, collectionName, data) {\n        return db[collectionName].insert(data);\n    };\n    \n    const mongo = require('promised-mongo');\n    \n    const db = mongo('localhost:27017/earthquakes', ['largest_earthquakes']);\n    \n    importCsvFile('/code/data/earthquakes.csv')\n        .then(data => exportToMongoDB(db, 'largest_earthquakes', data))\n        .then(() => db.close())\n        .catch(err => {\n            console.error(\"An error occurred.\");\n            console.error(err.stack);\n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58596246",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "186327622",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "        Object.keys(fruits).forEach((key, index) => {\n\t      json[fruits[key].name] = {\n  \t        color: colors[index],\n            calories: calories[index]\n          }\n        })",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    var fruits = {\n      \"product 1\" : {\n        \"price\" : 1.2,\n        \"stock\" : 124,\n        \"name\" : \"banana\"\n      },\n      \"product 2\" : {\n        \"price\" : 0.6,\n        \"stock\" : 21,\n        \"name\" : \"apple\"\n      }\n    }\n    var colors = ['yellow', 'green'];\n    var calories = [300, 250];\n    var json = {};\n    Object.keys(fruits).forEach((key, index) => {\n\t  json[fruits[key].name] = {\n  \t    color: colors[index],\n        calories: calories[index]\n      }\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58626692",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "186652980",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    dbObj = null;\n    db.then(conn => {\n        // Save to db variable for all your routes\n        console.log(\"Connected to db..\");\n        dbObj = conn;\n    });",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.38461538461538464,
        "Content": "    let db = null; \n    require(\"../configs/databaseConnection\").then(pool => {\n        db = pool;\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58659613",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "187006978",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let conv = {};\n    let choice = 2; // conv.parameters.choice;\n    // had to hard code values b/c app and conv are undefined in this example\n    conv.data = {};\n    conv.data.list = ['optionA', 'optionB', 'optionC', 'optionD']\n    async function listremover() {\n      let index = conv.data.list.indexOf(choice);\n      if (index > -1) {\n        conv.data.list = conv.data.list.splice(index, 1);\n        return conv.data.list;\n      }\n    }\n    listremover().then(function() {\n    // removed `conv.add()` not sure where this is defined...\n      console.log(`Ok, your choice is ${choice}. The remaining options are: ${conv.data.list[0]}, ${conv.data.list[1]} and ${conv.data.list[2]}. Which one is next?`);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9172932330827067,
        "Content": "    let conv = {};\n    //let choice = 2; // conv.parameters.choice;\n    // had to hard code values b/c app and conv are undefined in this example\n    conv.data = {};\n    conv.data.list = ['optionA', 'optionB', 'optionC', 'optionD'];\n    let selected = {};\n    async function listremover() {\n      let index = conv.data.list.indexOf('optionB');\n      //if (index > -1) {\n      //conv.data.list = conv.data.list.splice(index, 1);\n      //return conv.data.list;\n      //}\n      if (index > -1) {\n        selected = conv.data.list.splice(index, 1);\n        //return selected; // returns selected array\n      }\n      return conv.data.list; // returns remaining values of original array\n    }\n    listremover().then(function(res) {\n      // removed `conv.add()` not sure where this is defined...\n      //console.log(`Ok, your choice is ${selected}. The remaining options are: ${conv.data.list[0]}, ${conv.data.list[1]} and ${conv.data.list[2]}. Which one is next?`);\n      console.log(res);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58664050",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "187053862",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    return value1 - value2",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "     function textCount(text, items) {\n          var count = 0;\n          for (var i = 0, length = items.length; i < length; i++) {\n            if (items[i] == text) {\n              count++;\n            }\n          }\n      \n          return count;\n        }\n        var array = [\"one\", \"four\", \"two\", \"three\", \"four\", \"two\", \"four\", \"three\", \"four\", \"three\"];\n        let arr = [...array]\n        var sortedArray = array.sort((a, b) => {\n          var value1 = textCount(a, arr);\n          var value2 = textCount(b, arr);\n          if (value1 < value2) return 1;\n          if (value1 > value2) return -1;\n          return 0;\n        });\n        console.log(sortedArray);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58673668",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "187155747",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class Time {\n    constructor() {\n        this.seconds = 0;\n        this.countTime = setInterval(this.increaseTime.bind(this), 1000)\n    }\n    increaseTime() {\n        this.seconds++\n        console.log(this.seconds)\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "      class Time {\n        constructor() {\n            this.seconds = 0;\n            this.countTime = setInterval(this.increaseTime.bind(this), 1000)\n        }\n    \n        increaseTime() {\n            this.seconds++\n            console.log(this.seconds)\n        }\n    \n    }\n    \n    let time = new Time();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58784685",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "188323608",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "function a() {\n    this.heartbeat = setInterval(()=>{}, 10000)\n}\nvar b = new a()\nclearInterval(b.heartbeat);\nAccording to [MDN's docs](https://developer.mozilla.org/en-US/docs/Web/API/WindowOrWorkerGlobalScope/clearInterval):\n>The clearInterval() method of the WindowOrWorkerGlobalScope mixin cancels a timed, repeating action which was previously established by a call to setInterval().",
        "MostRecentVersion": "0",
        "Errors": 44,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9411764705882353,
        "Content": "    class A {\n      heartbeat = setInterval(() => console.log('hearbeat'), 1000);\n      destory() {\n        clearInterval(this.heartbeat);\n      }\n    }\n    let a = new A();\n    setTimeout(() => a.destory(), 5000);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58801649",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "188500519",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const qry = '\n    SELECT a,b\n      FROM c\n     WHERE id = ?\n     ORDER BY b;';",
        "MostRecentVersion": "0",
        "Errors": 18,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    const qry = `\n    SELECT a,b\n      FROM c\n     WHERE id = ?\n     ORDER BY b;`;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58882735",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "189349624",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    client.on('messageDelete', message => {\n      const CHANNEL = 'YOUR CHANNEL ID WHERE YOU WANT TO SEND MESSAGE';\n      if (message.channel.type == 'text') {\n        var logger = message.guild.channels.get(CHANNEL);\n        if (logger) {\n          const embed = new Discord.RichEmbed()\n            .setTitle('Message Deleted')\n            .addField('Author', message.author.username)\n            .addField('Message', message.cleanContent)\n            .setThumbnail(message.author.avatarURL)\n            .setColor('0x00AAFF');\n          logger.send({ embed });\n        }\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    const Discord = require('discord.js');\n    const client = new Discord.Client();\n    \n    client.on('ready', () => {\n      console.log(`Logged in as ${client.user.tag}!`);\n    });\n    \n    client.on('messageDelete', message => {\n      const CHANNEL = 'log';\n      if (message.channel.type == 'text') {\n        var logger = message.guild.channels.find(\n          channel => channel.name === CHANNEL\n        );\n        if (logger) {\n          const embed = new Discord.RichEmbed()\n            .setTitle('Message Deleted')\n            .addField('Author', message.author.username)\n            .addField('Message', message.cleanContent)\n            .setThumbnail(message.author.avatarURL)\n            .setColor('0x00AAFF');\n          logger.send({ embed });\n        }\n      }\n    });\n    \n    client.login('YOUR TOKEN');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58899551",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "189527414",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    this.sequelize = new Sequelize('postgres://postgres:admin@db:5432/postgres');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const Sequelize = require('sequelize');\n    const sequelize = new Sequelize(\"postgres\", \"postgres\", \"admin\", {\n      host: \"db\",\n      dialect: \"postgres\",\n      pool: {\n        max: 9,\n        min: 0,\n        idle: 10000\n      }\n    });\n    \n    sequelize.authenticate().then(() => {\n      console.log(\"Success!\");\n    }).catch((err) => {\n      console.log(err);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58900358",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "189536496",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const functions = require('firebase-functions');\n    const rp = require('request-promise');\n    \n    exports.getRequest = functions.https.onRequest(() => {\n        let result = \"this should be replaced\";\n    \n        var options = {\n            uri: 'http://worldclockapi.com/api/json/est/now',\n            json: true // Automatically stringifies the body to JSON\n        };\n    \n        rp(options)\n            .then(parsedBody => {\n                res.send(parsedBody);\n            })\n            .catch(err => {\n                // API call failed...\n                res.status(500).send({'Error': err});\n            });\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const functions = require('firebase-functions');\n    const rp = require('request-promise');\n    \n    exports.getRequest = functions.https.onRequest((req, res) => {\n        let result = \"this should be replaced\";\n    \n        var options = {\n            uri: 'http://worldclockapi.com/api/json/est/now',\n            json: true // Automatically stringifies the body to JSON\n        };\n    \n        rp(options)\n            .then(parsedBody => {\n                result = parsedBody.currentDateTime;\n                console.log(result);\n                res.send( {result} );\n            })\n            .catch(err => {\n                // API call failed...\n                res.status(500).send({'Error': err});\n            });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58900874",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "189542540",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const functions = require('firebase-functions')\n    const admin = require('firebase-admin');\n    \n    admin.initializeApp();\n    const db = admin.firestore()\n    const storage = admin.storage()\n    \n    exports.firestoreDeleteEventCleanUp = functions.firestore.document('events/{eventId}').onDelete((snapshot,context) => {\n    \n        const eventID = context.params.eventId\n    \n        const defaultBucket = storage.bucket();\n        const file = myBucket.file(eventID);\n    \n        return file.delete();\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const functions = require('firebase-functions')\n    const admin = require('firebase-admin');\n    \n    admin.initializeApp();\n    const db = admin.firestore()  // <- actually this is not needed for the CF below\n    const storage = admin.storage()\n    \n    exports.firestoreDeleteEventCleanUp = functions.firestore.document('events/{eventId}').onDelete((snapshot,context) => {\n    \n        const eventID = context.params.eventId\n    \n        const defaultBucket = storage.bucket(); \n        const file = defaultBucket.file(\"eventThumbnail/\" + eventID);\n    \n        return file.delete();\n    \n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58952196",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "190096485",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    if (!request.getHeader('Authorization')) {\n    \n    response.statusCode = 404;\n    response.statusMessage('Unauthorized');\n    response.setHeader('WWW-Authenticate', 'Basic');\n    response.end();\n    \n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.20689655172413793,
        "Content": "    var http = require('http');\n    \n    var _server = http.createServer(listener);\n    _server.listen(1234);\n    \n    console.log('started');\n    \n    function listener(req, res) {\n    \n      if (!req.headers.authorization) {\n        res.statusCode = 401;\n        res.statusMessage = 'Unauthorized';\n        res.setHeader('WWW-Authenticate', 'Basic');\n        res.end();\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "58971084",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "190304849",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var val = '<<HTML goes here>>';\n    var t = $(val).closest('table').children().length\n    var tr = $(\"tr\", t);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7972027972027972,
        "Content": "    const cheerio = require('cheerio');\n    var htmlbody = '<table style=\"width:100%; border: 1px solid #cccccc; border-collapse: collapse;\" border=1 cellspacing=\"0\" cellpadding=\"4\"><tr><td style=\"background-color: #eeeeee; width: 200px;\">Improvement Date (first date)</td><td>Nov 5, 2019 1:57:00 PM UTC</td></tr><tr><td style=\"background-color: #eeeeee\">Document Call existed at</td><td>Nov 5, 2019 3:40:00 PM UTC</td></tr><tr><td style=\"background-color: #eeeeee\">Document creation at</td><td>not available</td></tr><tr><td style=\"background-color: #eeeeee; width: 200px;\">First document sent</td><td>not available</td></tr></table>';\n    const $ = cheerio.load(htmlbody);\n    var html = $('table').children();\n    var tr = $(\"tr\", html);\n    var val = {};\n    for(var i = 0; i < tr.length; i++) {\n        var td = $(\"td\", tr[i]);\n        val[$(td[0]).html()] = $(td[1]).html();\n    }\n    // The extracted values are stored in key value pair\n    // 'Improvement Date (first date)': 'Nov 5, 2019 1:57:00 PM UTC',\n    // 'Document Call existed at': 'Nov 5, 2019 3:40:00 PM UTC',\n    // 'Document creation at': 'not available',\n    // 'First document sent': 'not available'\n    console.log(val);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59014971",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "190772138",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const app = express();\n    app.get(\"/\", (req, res) => {\n      res.send(\"Hi, This is Yi Wan's workpage\")\n    });\n    // keep this as array of objects\n    // and not an object of array of objects\n    var books = [{\n          \"author\": \"joe\",\n          \"title\": \"MyBook\",\n          \"pages\": 234,\n          \"quality\": \"new\"\n        },\n        {\n          \"author\": \"kevin\",\n          \"title\": \"YourBook\",\n          \"pages\": 432,\n          \"quality\": \"old\"\n        }\n      ]\n    app.delete('/book/:title', (req, res) => {\n      // find the book and delete it\n      for (var i = 0; i < books.length; i++) {\n        if (books[i].title == req.params.title) {\n          books.splice(i, 1);\n          res.status(200).end(); // end the response\n        }\n      }\n      \n      // book not found, so send proper error code\n      res.status(404).end(); // resource does not exist\n    });\n    app.get('/books', (req, res) => {\n      res.status(200).send(JSON.stringify(books));\n    });\n    app.put('/book', (req, res) => {\n    // I am still working on this part\n      res.send(book);\n      res.status(200);\n    });\n    app.listen(3000, () => console.log(\"listening on port 3000\"));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9637305699481865,
        "Content": "    const express = require('express');\n    const app = express();\n    app.get(\"/\", (req, res) => {\n      res.send(\"Hi, This is Yi Wan's workpage\")\n    });\n    // keep this as array of objects\n    // and not an object of array of objects\n    // TIP: it's best to keep as object of objects\n    var books = [{\n          \"author\": \"joe\",\n          \"title\": \"MyBook\",\n          \"pages\": 234,\n          \"quality\": \"new\"\n        },\n        {\n          \"author\": \"kevin\",\n          \"title\": \"YourBook\",\n          \"pages\": 432,\n          \"quality\": \"old\"\n        }\n      ]\n    app.delete('/book/:title', (req, res) => {\n      // find the book and delete it\n      for (var i = 0; i < books.length; i++) {\n        if (books[i].title == req.params.title) {\n          books.splice(i, 1);\n          res.status(200).end(); // end the response\n        }\n      }\n      \n      // book not found, so send proper error code\n      res.status(404).end(); // resource does not exist\n    });\n    app.get('/books', (req, res) => {\n      res.status(200).send(JSON.stringify(books));\n    });\n    app.put('/book/:title', (req, res) => {\n      // find the book and update it\n      for (var i = 0; i < books.length; i++) {\n        if (books[i].title == req.params.title) {\n          books.splice(i, 1); // delete the old book\n          books.push(req.body); // add the new book\n          res.status(200).end(); // end the response\n        }\n      }\n      \n      // book not found, so send proper error code\n      res.status(404).end(); // resource does not exist\n    });\n    app.listen(3000, () => console.log(\"listening on port 3000\"));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59035552",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "190993680",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     jwt.verify(req.headers.token,\"havhav\",(err,decoded)=>{\n        if(err) res.status(403).send(err)\n        else\n        {\n            req.accesstoken=token;\n            next()\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2857142857142857,
        "Content": "    const express = require('express')\n    const router = express.Router()\n    const jwt = require('jsonwebtoken')\n    const bcryptjs = require('bcryptjs')\n    \n    const user={}\n    \n    const vt =(req,res,next)=>{\n    \n        if(req.headers.token)\n            jwt.verify(req.headers.token,\"havhav\",(err,decoded)=>{\n                if(err) res.status(403).send(err)\n                else{\n                    next()\n                }\n            })\n        else{\n                bcryptjs.compare(req.body.pass,user.pass,(err,result)=>{\n                    if(err) throw err\n                    if(result){\n                        jwt.sign({\n                            username:user.username\n                        }, 'havhav', (err, token) => {\n                            if (err) throw err\n                            res.header('token', token) \n                            next()\n                        })\n    \n                    }\n                    else\n                        res.status(403).send(\"unauthorized\")\n                })\n    \n        }\n    \n    }\n    module.exports=vt;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59157991",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "192296069",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const users = User.find(query, { username: 1, password: 1 }).toArray();\n    const flattenUsers = _(users).map(({username, password}) => ([username, password])).flatten().value();\n    console.log(flattenUsers);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.41379310344827586,
        "Content": "    const mongoose = require(\"mongoose\");\n    const _ = require(\"lodash\");\n    \n    const User = mongoose.model(\n        \"user\",\n        new mongoose.Schema({\n            loginId: String,\n            firstname: String,\n            lastname: String,\n            eMail: String,\n            password: String,\n            active: Boolean\n          })\n      );\n    \n    const db = mongoose.connection;\n    \n    mongoose.connect(\"mongodb://localhost:27017/dbName\", {\n      useNewUrlParser: true\n    });\n    \n    db.once(\"open\", () => {\n      User.find({}, { firstname: 1, password: 1 }, function(err, users) {\n        const flattenUsers = _(users)\n          .map(({ firstname, password }) => [firstname, password])\n          .flatten()\n          .value();\n        console.log(flattenUsers);\n      });\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59233003",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "193086449",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var http = require(\"https\");\n    \n    var number = 37302;\n    \n    // these functions need to execute is sequence.    \n    \n    console.log('Before API Call');\n    \n    var response =  fetchJson(number).then(function(res){\n    console.log(response);\n    \n    console.log('After API Call');\n    }).catch(function(e){console.log('err',e)});\n    \n    \n    \n    function fetchJson(number)\n    {        \n    return new Promise(function(res,rej){\n        var url = 'https://example.com/api/getactionitems/' + number;\n    \n        http.get(url, function(res){\n            var body = ''; \n    \n            res.on('data', function(chunk){\n                body += chunk; \n                console.log('JSON Retrieved.');               \n            });\n    \n            res.on('end', function(){\n    \n                console.log('Parsing JSON');\n    \n                var APIResponse = JSON.parse(body);\n    \n                var Name = APIResponse.EmpName;\n                var outstring = APIResponse.ActionItem;                \n                res('Hi ' + Name + ', Your action Items are: '+ outstring);            \n            });\n        })\n        .on('error', function(e){\n          rej(\"Got an error while fetching data.\");\n        });\n    });\n    \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9774436090225563,
        "Content": "    var http = require(\"https\");\n    \n    var number = 37302;\n    \n    // these functions need to execute is sequence.    \n    \n    console.log('Before API Call');\n    \n    fetchJson(number).then(function(res){\n    console.log(res);\n    \n    console.log('After API Call');\n    }).catch(function(e){console.log('err',e)});\n    \n    \n    \n    function fetchJson(number)\n    {        \n    return new Promise(function(resolve,reject){\n        var url = 'https://example.com/api/getactionitems/' + number;\n    \n        http.get(url, function(res){\n            var body = ''; \n    \n            res.on('data', function(chunk){\n                body += chunk; \n                console.log('JSON Retrieved.');               \n            });\n    \n            res.on('end', function(){\n    \n                console.log('Parsing JSON');\n    \n                var APIResponse = JSON.parse(body);\n    \n                var Name = APIResponse.EmpName;\n                var outstring = APIResponse.ActionItem;                \n                resolve('Hi ' + Name + ', Your action Items are: '+ outstring);            \n            });\n        })\n        .on('error', function(e){\n          reject(\"Got an error while fetching data.\");\n        });\n    });\n    \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59304760",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "193837405",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    $group: {\n                _id: {\n                    month: {\n                        $month: \"$date\"\n                    },\n            }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5,
        "Content": "    $group: { _id: '$month' }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59411174",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "194966148",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const data = require('./users.json')",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const data = require('./users')",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59411174",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "194966144",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import data from './users.json'",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    import data from './users'",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59438793",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195264437",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function formatNumber(n) {\n      return n < 0 ?\n        `(${addCommas(Math.abs(n).toFixed(1))})` :\n        addCommas(n.toFixed(1));\n    }\n    function addCommas(n) {\n      n = String(n), x = n.split('.'), x1 = x[0], x2 = x.length > 1 ? '.' + x[1] : '', rgx = /(\\d+)(\\d{3})/;\n      while (rgx.test(x1)) x1 = x1.replace(rgx, '$1' + ',' + '$2');\n      return x1 + x2;\n    }\n    console.log(`\n    Desired Results:\n     218    => 218.0\n     21800  => 21,800.0\n     -21800 => (21,800.0)\n    Actual Results:\n     218    => ${formatNumber(218)}\n     21800  => ${formatNumber(21800)}\n     -21800 => ${formatNumber(-21800)}\n    `);",
        "MostRecentVersion": "0",
        "Errors": 14,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.989010989010989,
        "Content": "    function formatNumber(n) {\n      return n < 0 \n        ? `(${addCommas(Math.abs(n).toFixed(1))})` \n        : addCommas(n.toFixed(1));\n    }\n    function addCommas(n) {\n      let x, x1, x2, rgx;\n      n = String(n), x = n.split('.'), x1 = x[0], x2 = x.length > 1 ? '.' + x[1] : '', rgx = /(\\d+)(\\d{3})/;\n      while (rgx.test(x1)) x1 = x1.replace(rgx, '$1' + ',' + '$2');\n      return x1 + x2;\n    }\n    console.log(`\n    Desired Results:\n     218    => 218.0\n     21800  => 21,800.0\n     -21800 => (21,800.0)\n    Actual Results:\n     218    => ${formatNumber(218)}\n     21800  => ${formatNumber(21800)}\n     -21800 => ${formatNumber(-21800)}\n    `);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59440746",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "195285795",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "javascript\nconst getLexSorted = (s) => {\n  return s.replace(/[^a-zA-Z\\s]/g, '').split(/\\s+/g).reduce((a,b) => {\n    return a.has(b) ? a.set(b,a.get(b)+1) : a.set(b,1), a;\n  }, new Map());\n};\nOr else:\njavascript\nconst getLexSorted = (s) => {\n  let tmp\n  return s.replace(/[^a-zA-Z\\s]/g, '').split(/\\s+/g).reduce((a,b) => {\n    return a.has(b) ? (tmp = a.get(b), a.set(b,++tmp)) : a.set(b,1), a;\n  }, new Map());\n};",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const getLexSorted = (s) => {\n      return s.replace(/[^a-zA-Z\\s]/g, '').split(/\\s+/g).reduce((a,b) => {\n        return a.has(b) ? a.set(b,a.get(b)+1) : a.set(b,1), a;\n      }, new Map());\n    };\n    console.log(\n      [...getLexSorted('a a b c d e e e f f g')]\n    )",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59569291",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "196673974",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     got('https://www.amazon.com/').then(response => {\n         console.log(response.body);\n     }).catch(err => {\n         console.log(err);\n     });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "     const got = require('got');\n     got('https://www.amazon.com/').then(response => {\n         console.log(response.body);\n     }).catch(err => {\n         console.log(err);\n     });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59610173",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "197116220",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    ObjectId = require('mongodb').ObjectID;\n       const updatedPost =  await Category.updateOne(\n            { _id:    ObjectId (req.body.id)},\n            { \n                $set: { title: req.body.title }, \n                $set: { slug: req.body.slug } \n            }",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8421052631578947,
        "Content": "    `const ObjectId = require('mongodb').ObjectID;\n    const updatedPost =  await Category.updateOne({ _id:    ObjectId (req.body.id)}`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59617855",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "197198971",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let result = await cursor.toArray();\n    return result;",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.13008130081300814,
        "Content": "    var express = require('express');\n    var app = express();\n    \n    var router = express.Router();\n    var assert = require('assert')\n    const URL = 'mongodb+srv://user:user@cluster0-0pwss.mongodb.net/test?retryWrites=true&w=majority'\n    const MongoClient = require('mongodb').MongoClient\n    //const CircularJSON = require('circular-json');\n    //const {parse, stringify} = require('flatted/cjs');\n    \n    app.get('/', function (req, res) {\n      res.send('Hello World!');\n    });\n    \n    app.get('/:AreaName/:Resolution/:Year/:Month/:Day', (req, res) => {\n      const _AreaName=req.params.AreaName\n      const _Resolution=req.params.Resolution\n      const _Year = parseInt(req.params.Year)\n      const _Month = parseInt(req.params.Month)\n      const _Day = parseInt(req.params.Day)\n    \n      MongoClient.connect(URL,{\n        useNewUrlParser: true,\n        useUnifiedTopology: true}, \n        async (err, client) => {\n          if (err) throw err; \n          else console.log('connected to db');\n          assert.equal(null, err) \n          const db = client.db('energy')\n          var collection = db.collection('ActualTotalLoad')\n          const agg = [\n            { \n              $match : \n              {\n                AreaName: _AreaName,\n                Day : _Day,\n                Month: _Month,\n                Year: _Year\n              }\n          },\n    \n            {\n              $lookup:\n              {\n                from: 'ResolutionCode',\n                localField: 'ResolutionCodeId',\n                foreignField : 'Id',\n                as: \"resolution_codes\"\n              }\n            },\n            {\n              $unwind: {path : \"$resolution_codes\"}\n            },\n    \n            { \n              $match : {'resolution_codes.ResolutionCodeText' : _Resolution}\n            },\n            {\n              $addFields : {ResolutionCode : '$resolution_codes.ResolutionCodeText',\n                            Source :'entso-e',\n                            Dataset :'ActualTotalLoad'\n            }\n            },\n    \n            {\n              $project : \n              {\n                _id:0,\n                Id : 1,\n                ResolutionCodeId:1,\n                Source : 1,\n                AreaName: 1,\n                Year : 1,\n                Month : 1,\n                Day : 1,\n                ResolutionCode : 1\n              }\n            }  \n          ];\n          var cursor = collection.aggregate(agg)\n          \n          await cursor.toArray((error, result) => {\n            if(error) {\n                return res.status(500).send(error);\n            }\n            res.send(result);\n        });\n    \n      })// connection ends here\n    })\n    module.exports = router;\n    \n    app.listen(3000, function () {\n      console.log('Example app listening on port 3000!');\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59745589",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "198566109",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let Q = []\n    users.forEach(user => {\n        const url = 'https://api.github.com/users/' + user;\n        Q.push(fetch(url).then(res => res.json()))\n    });\n    Promise.all(Q).then(\n        userProfiles => console.log(userProfiles)\n    )",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7272727272727273,
        "Content": "    const fetch = require('node-fetch');\n    const users = [\"nayabbashasayed\", \"AmruthPillai\"]\n    const getGithubProfiles = (users) => {\n        let userGitProfiles = [];\n        let Q = []\n        users.forEach(user => {\n            const url = 'https://api.github.com/users/' + user;\n            Q.push(fetch(url).then(res => res.json()))\n        });\n        return Promise.all(Q)\n    }\n    getGithubProfiles(users).then(\n        userProfiles => console.log(userProfiles)\n    );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59757088",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "198690531",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let input = \"\\n                Crimes de Calúnia, Injúria e Difamação de Competência do Juiz Singular \";\n    let result = input.trimLeft('\\n ');\n    console.log(result);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.918918918918919,
        "Content": "    let input = \"\\n                Crimes de Calúnia, Injúria e Difamação de Competência do Juiz Singular \";\n    let result = input.trimStart();\n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59764437",
    "RootLocalId": "14",
    "RootPostBlockVersionId": "198769983",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function myFunction() {\n        return \"ok\";\n    }\n    myFunction.greeting = \"Hello\";\n    console.log(myFunction());                 // \"ok\"\n    console.log(myFunction.greeeting);         // \"Hello\"",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    function myFunction() {\n        return \"ok\";\n    }\n    myFunction.greeting = \"Hello\";\n    console.log(myFunction());                 // \"ok\"\n    console.log(myFunction.greeting);         // \"Hello\"",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59780220",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "198941260",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const reduceArray = (inArr, key) => {\n        const reduced = inArr.reduce((prev, cur) => {\n            const copied = { ...cur }\n            delete copied[key]\n            const existing = prev.find(item => item[key] === cur[key])\n            if (existing) {\n                existing.results.push(copied)\n            } else {\n                const newItem = {\n                    [key]: cur[key],\n                    results: [copied]\n                }\n                prev.push(newItem)\n            }\n            return prev\n        }, [])\n        return reduced\n    }\n    const reduced = reduceArray(inArr, 'mode')",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const reduceArrayByKeys = (inArr, keys, restKey) => {\n        const reduced = inArr.reduce((prev, cur) => {\n            const copied = { ...cur }\n            keys.forEach(key => delete copied[key])\n            const existing = prev.find(item => keys.every(key => item[key] === cur[key]))\n            if (existing) {\n                existing[restKey].push(copied)\n            } else {\n                const newItem = {}\n                keys.forEach(key => newItem[key] = cur[key])\n                newItem[restKey] = [copied]\n                prev.push(newItem)\n            }\n            return prev\n        }, [])\n        return reduced\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59807084",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "199228247",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const debug = require('debug')('mymodule');\n    \n    function example() {\n        // Temporarily replace main `debug` variable with value that\n        // only persists for this function\n        const oldDebug = debug;\n        const debug = oldDebug.extend('myfunction');\n    \n        debug('should be in mymodule.myfunction');\n    }\n    \n    debug('should be in mymodule');",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const debug = require('debug')('mymodule');\n    \n    function example() {\n        // in a scope higher than where we define new debug variable,\n        // save a copy of it so we can still access it\n        const oldDebug = debug;\n        // create another block scope to contain the new debug definition\n        // and not interfere with saving the previous one above\n        {\n            const debug = oldDebug.extend('myfunction');\n    \n            debug('should be in mymodule.myfunction');\n         }\n    }\n    \n    debug('should be in mymodule');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59823413",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "199399673",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    const app = express();\n    and then we are creating app.get(); ",
        "MostRecentVersion": "0",
        "Errors": 10,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7619047619047619,
        "Content": "    var express = require('express');\n    const app = express();\n    app.get(); ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59882371",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "200027744",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "  \n      var result = {};\n       \n        for(var i in userData){\n            if(userData[i].unit_code != fk_unit_code)\n                continue;\n            var key = `${userData[i].unit_code}${userData[i].fk_unit_code}`;\n    \n            result[key] = result[key] || [];\n    \n            result[key].push(userData[i]);\n    \n        }\n    \n        console.log(result);",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.509090909090909,
        "Content": "        var userData = [{\n        \tGroup_individuals: 'John',\n        \tunit_code: 2,\n        \tfk_unit_code: 2,\n        },{\n        \tGroup_individuals: 'Rocky',\n        \tunit_code: 2,\n        \tfk_unit_code: 2,\n        },{\n        \tGroup_individuals: 'Alex',\n        \tunit_code: 3,\n        \tfk_unit_code: 3,\n        },{\n        \tGroup_individuals: 'Prince',\n        \tunit_code: 3,\n        \tfk_unit_code: 3,\n        },{\n        \tGroup_individuals: 'James',\n        \tunit_code: 2,\n        \tfk_unit_code: 2,\n        }]\n        var result = {};\n        \n        for (var i in userData) {\n        \tif (userData[i].unit_code != userData[i].fk_unit_code)\n        \t\tcontinue;\n        \tvar key = `${userData[i].unit_code}${userData[i].fk_unit_code}`;\n        \n        \tresult[key] = result[key] || [];\n        \n        \tresult[key].push(userData[i].Group_individuals);\n        \n        }\n        \n        console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "59962344",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "200883598",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.seed = async function (knex) {\n    \tconst fs = require('fs');\n    \n    \tfunction createImage(row, event_id) {\n    \t\treturn {\n    \t\t\tname: row[1],\n    \t\t\tevent_id: event_id\n    \t\t}\n    \t};\n    \n    \tfunction get_event_id(loc) {\n    \t\tknex('events')\n    \t\t\t.where({ location: loc })\n    \t\t\t.first()\n    \t\t\t.then(result => { console.log(result); return result });    // <-- this never executes\n    \t};\n   \n    \n    \tconst file = fs.readFileSync('./data.csv');\n    \tconst lines = file.toString().replace(/[\\r]/g, '').split('\\n');\n    \n    \tlet promises = lines.map(line => {\n    \t\tlet [row] = line.split(',');\n    \t\treturn get_event_id(row)\n    \t})();\n    \n    \tlet images = await Promise.all(promises);\n    \n    \tconsole.log(images);\n    \t// Inserts seed entries\n    \t// return knex('table_name').insert(images);\n    }; ",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    exports.seed = async function (knex) {\n    \tconst fs = require('fs');\n    \n    \tfunction createImage(row, event_id) {\n    \t\treturn {\n    \t\t\tname: row[1],\n    \t\t\tevent_id: event_id\n    \t\t}\n    \t};\n    \n    \tfunction get_event_id(loc) {\n    \t\treturn knex('events')\n    \t\t\t.where({ location: loc })\n    \t\t\t.first()\n    \t\t\t.then(result => { console.log(result); return result });    // <-- this never executes\n    \t};\n   \n    \n    \tconst file = fs.readFileSync('./data.csv');\n    \tconst lines = file.toString().replace(/[\\r]/g, '').split('\\n');\n    \n    \tlet promises = lines.map(async (line) => {\n    \t\tlet [row] = line.split(',');\n    \t\tlet event_id = await get_event_id(row)\n            return createImage(row, event_id)\n    \t});\n    \n    \tlet images = await Promise.all(promises);\n    \n    \tconsole.log(images);\n    \t// Inserts seed entries\n    \t// return knex('table_name').insert(images);\n    }; ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60053706",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "201844414",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    [\n      {\n        \"_id\": ObjectId(\"5a934e000102030405000000\"),\n        \"data\": [\n          {\n            \"Name\": \"G1a Revenue\",\n            \"Value\": 456908,\n            \"Volume\": 33490,\n            \"Year\": 2017\n          }\n        ]\n      }\n    ]",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5714285714285714,
        "Content": "     [\n      {\n        \"data\": [\n          {\n            \"Name\": \"G1a0a Revenue\",\n            \"Value\": 789123,\n            \"Volume\": 32656,\n            \"Year\": 2018\n          },\n          {\n            \"Name\": \"Gy1a0a Revenue\",\n            \"Value\": 789123,\n            \"Volume\": 32656,\n            \"Year\": 2018\n          }\n        ],\n        \"name\": \"ff\"\n      }\n    ]",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60242675",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "203859001",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    trainstation = async(Stanox) => {\n      const client = MongoClient(ttdb);\n      await client.connect();\n      const dbo = client.db(\"ttdb\");\n      const collection = dbo.collection(\"tlc\");\n      const result = await collection.find({Stanox}).toArray();\n      client.close();\n      return result;       \n    };\n    \n    gettrain = () => {\n      var ts1 = trainstation(9531)[0]['Station Name'];\n      var ts2 = trainstation(31033)[0]['Station Name'];\n      console.log(\"Calling From\", ts1, \"to\", ts2);\n    };\n    \n    gettrain();",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8571428571428571,
        "Content": "    const MongoClient = require('mongodb').MongoClient;\n    const ttdb = 'mongodb://localhost:27017'; // or your DB URL\n    const trainstation = async (Stanox) => {\n      const client = MongoClient(ttdb);\n      await client.connect();\n      const dbo = client.db(\"ttdb\");\n      const collection = dbo.collection(\"tlc\");\n      const result = await collection.find({Stanox}).toArray();\n      client.close();\n      return result;       \n    };\n    \n    const gettrain = async () => {\n      const ts1 = await trainstation(9531);\n      const ts2 = await trainstation(31033);\n      const sn1 = ts1[0]['Station Name'];\n      const sn2 = ts2[0]['Station Name'];\n      console.log(\"Calling From\", sn1, \"to\", sn2);\n    };\n    \n    gettrain();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60284596",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "204296571",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class FileWriter {    \n      writeFile() {\n        const writer = fs.createWriteStream('./testfile');\n        writer.write('hello world');\n        writer.end();\n      }    \n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.41379310344827586,
        "Content": "    const fs = require('fs');\n    \n    module.exports = class FileWriter {\n      constructor() {\n        this.writer = fs.createWriteStream('./testfile.txt');\n      }\n    \n      writeFile() {\n        process.nextTick(() => {\n          this.writeContent('hello world');\n        });\n      }\n    \n      writeContent(content) {\n        this.writer.write(content);\n        this.writer.end();\n      }\n    \n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60314355",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "204610679",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let CheckUrl = function (url, done) {\n      dns.lookup(url, function(err, address) { \n        if (err) return done(err);\n        done(null, true);\n      });\n    } \n   \n    app.post(\"/api/shorturl/new\", async function(req, res) {\n      \n      try {\n        let result = await CheckUrl(req.body.url);\n        //Returns the fulfilled value of the promise, or the value itself if it's not a Promise.\n      }\n      catch (error) {\n        // handle the error in catch\n      }\n    });`",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const express = require('express');\n    const app = express();\n    const dns = require('dns');\n    \n    \n    let CheckUrl = function (url, done) {\n    \treturn new Promise((resolve, reject) => {\n    \t\tdns.lookup(url, function(err, address) {\n    \t\t\tconsole.log(\"err \" , err)\n        \t\tif (err) {\n        \t\t\tresolve(false)\n        \t\t} else {\n    \t\t\t\tresolve(true)\n        \t\t}\n        \t\n    \t\t});\n    \t});\n    } \n    \n    \n    app.post(\"/api/shorturl/new\", async function(req, res) {\n    \n      try {\n    \n        let result = await CheckUrl(req.body.url);\n        console.log(\"result \" , result)\n        res.send(result)\n      }\n      catch (error) {\n        console.log(\"in catch error \" , error)\n        res.send(error)\n      }\n    });\n    \n    app.listen(3000)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60371104",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205215066",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.get('/proxy', function (req, res) {\n    \n      try {\n        console.log(\"visits:\" + req.cookies.visits);\n        res.sendFile(__dirname + '/public/index.html');\n      } catch {\n        console.log(\"no visits\");\n        res.redirect(\"/password\");\n      }\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9402985074626866,
        "Content": "    const express = require('express')\n    const app = express();\n    const port = 3000;\n    var Unblocker = require('unblocker');\n    const cookieParser = require(\"cookie-parser\");\n    app.use(cookieParser());\n    \n    app.use(new Unblocker({prefix: '/proxy/'}));\n    \n    function checkVisits(req,res,next){\n        let visits;\n        try {\n            visits = req.cookies.visits;\n            if(isNaN(visits)){\n                visits = 0;\n            }\n            console.log(\"visits:\" + visits);\n        } catch {\n            console.log(\"no visits\");\n            visits = 0;\n        }finally{\n            if(visits === 0){\n                res.redirect(\"/password\");\n                return;\n            }\n            res.visits = parseInt(visits)+1;\n            res.cookie('visits',res.visits, { maxAge: 900000, httpOnly: true });\n            return next();\n        }\n    }\n    \n    //add checkVisits(req,res,next) as a middleware\n    app.get('/index',checkVisits, function (req, res) {\n        res.send('index visits:'+res.visits);\n      })\n    //add checkVisits(req,res,next) as a middleware\n    app.get('/home',checkVisits, function (req, res) {\n        res.send('home visits:'+res.visits);\n    })\n    \n    app.get('/password', function (req, res) {\n        res.send('password page');\n    })\n    \n    app.listen(port, () => console.log(\"App listening on port %s!\", port))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60432419",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "205861998",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "     app.get('/lists', (req,res) => {\n         List.find().then( lists => {\n            res.send(lists)\n         }).catch(err =>\n            res.send(err)\n         );\n       })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4,
        "Content": "        const express = require('express');\n        const bodyParser = require('body-parser');\n        const List = require('./listModel');\n        const mongoConnection = require('./mongoose');\n        const app = express();\n        \n    app.use(bodyParser.json({\n        limit: '20mb',\n        extended: true\n    }));\n    app.use(bodyParser.urlencoded({\n        extended: true\n    }));\n    \n    app.get('/lists', (req,res) => {\n         List.find().then( lists => {\n                    res.send(lists)\n              }).catch(err =>\n                    res.send(err)\n              );\n     });\n    \n    app.listen(3100, () => {\n        console.log(\"Server is listening on port 3100\");\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60517621",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "206741401",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    import { Sequelize } from 'sequelize';\n    const models = {\n      User: sequelize.import('path to where this class is'),\n      UserBatch : sequelize.import('path to where this class is'),\n      Batch : sequelize.import('path to where this class is'),\n    };\n    \n    Object.keys(models).forEach((modelName) => {\n      if ('associate' in models[modelName]) {\n        models[modelName].associate(models);\n      }\n    });\n    \n    models.sequelize = sequelize;\n    models.Sequelize = Sequelize;\n    \n    export default models;",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    import { Sequelize } from 'sequelize';\n    import database from 'wherever that is exported';\n    const models = {\n      User: database.import('path to where this class is'),\n      UserBatch : database.import('path to where this class is'),\n      Batch : database.import('path to where this class is'),\n    };\n    \n    Object.keys(models).forEach((modelName) => {\n      if ('associate' in models[modelName]) {\n        models[modelName].associate(models);\n      }\n    });\n    \n    models.database= database;\n    models.Sequelize = Sequelize;\n    \n    export default models;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60576027",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "207359653",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require(\"express\");\n    const https= require(\"https\");\n    const app =express();\n    \n    \n    app.get(\"/\",function(req,res){\n      const url =\"API_KEY_HERE\";\n      https.get(url,function(response){\n        console.log(response.statusCode);\n        let body = '';\n        response.on(\"data\",function(data){\n          body+ = data;\n          //console.log(JSON.parse(data));\n        });\n    \n        response.on(\"end\",function(){\n          \n          console.log(JSON.parse(body));\n        });\n      })\n      res.send(\"server is up \");\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const express = require(\"express\");\n    const https = require(\"https\");\n    const app = express();\n    \n    const port = 3000;\n    \n    app.get(\"/\", function(req, res) {\n      const url = \"API_URL\";\n      https.get(url, function(response) {\n        console.log(response.statusCode);\n        let body = \"\";\n        response.on(\"data\", function(data) {\n          body += data;\n        });\n    \n        response.on(\"end\", function() {\n          console.log(JSON.parse(body));\n        });\n      });\n      res.end(\"End data response\");\n    });\n    \n    app.listen(port, () => console.log(`Example app listening on port ${port}!`));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60761063",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "209241789",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fsp = require('fs').promises;\n    const path = require('path');\n    const replaceExt = require('replace-ext');\n    \n    // takes an argument that specifies the directory to list\n    // returns a promise that resolves to a list of files in that directory\n    function listFiles(dir) {\n        const fullDir = path.normalize(dir);\n        return fsp.readdir(fullDir).then(files => {\n            // make into full path\n            return files.map(f => {\n                return path.join(fullDir, f);\n            })\n        });\n    }\n    \n    // takes an array of filenames and a new file extension\n    // renames all the files to have the new extension\n    // returns array of new filenames\n    async function renameFiles(files, newExt) {\n        // create new array of renamed filenames\n        const newFiles = files.map(f => {\n            return replaceExt(f, newExt);\n        });\n        for (const i = 0; i < files.length; i++)\n            await fsp.rename(files[i], newFiles[i]);\n        }\n        return newFiles;\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8732394366197183,
        "Content": "    const fsp = require('fs').promises;\n    const path = require('path');\n    const replaceExt = require('replace-ext');\n    \n    // takes an argument that specifies the directory to list\n    // returns a promise that resolves to a list of files in that directory\n    function listFiles(dir) {\n        // make dir into a fully qualified path\n        let fullDir = path.resolve(dir);\n        return fsp.readdir(fullDir).then(files => {\n            // make into full path\n            return files.map(f => {\n                return path.join(fullDir, f);\n            });\n        });\n    }\n    \n    // takes an array of filenames and a new file extension\n    // renames all the files to have the new extension\n    // returns array of new filenames\n    async function renameFiles(files, newExt) {\n        // build array of renamed filenames\n        const  newFiles = files.map(f => {\n            return replaceExt(f, newExt);\n        });\n        for (let i = 0; i < files.length; i++) {\n            await fsp.rename(files[i], newFiles[i]);\n        }\n        return newFiles;\n    }\n    \n    \n    // Example usage\n    listFiles(\"./zipped\").then(files => {\n        return renameFiles(files, \".zip\");\n    }).then(newFiles => {\n        console.log(newFiles);\n    }).catch(err => {\n        console.log(err);\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60795701",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "209592196",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const router = express.Router();\n    const Paciente = require('../models/Paciente');\n    router.post('/pacientes', async (req, res) => {\n      const paciente = new Paciente(request.body);\n      try {\n         const saveData = await paciente.save();\n         res.json({ message: \"El cliente se agregó correctamente\" });\n         }\n           catch ( err ) {\n             res.json({ message: err }); \n           }\n         });\n     //You can view all the data from here\n       router.get('/', async (req,res) => {\n        const data  = await Paciente.find();\n         try {\n           res.json(data);\n         }  catch( err ) {\n             res.json({ message: err })\n            }\n         });\n     module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9772727272727273,
        "Content": "    const express = require('express');\n    const router = express.Router();\n    const Paciente = require('../models/Paciente');\n    router.post('/pacientes', async (req, res) => {\n      const paciente = new Paciente(req.body);\n      try {\n         const saveData = await paciente.save();\n         res.json({ message: \"El cliente se agregó correctamente\" });\n         }\n           catch ( err ) {\n             res.json({ message: err }); \n           }\n         });\n     //You can view all the data from here\n       router.get('/', async (req,res) => {\n        const data  = await Paciente.find();\n         try {\n           res.json(data);\n         }  catch( err ) {\n             res.json({ message: err })\n            }\n         });\n     module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60801432",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "209652047",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs.watchFile('message.text', (curr, prev) => {\n      console.log(`the current mtime is: ${curr.mtime}`);\n      console.log(`the previous mtime was: ${prev.mtime}`);\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4090909090909091,
        "Content": "    const fs = require(\"fs\")\n    let lastUpdated = new Date()\n    fs.watchFile(\"./test.json\", (curr, prev) => {\n      if(curr.mtime.getTime() - lastUpdated.getTime() > 2 *1000) { // after 2 min\n        // DO something here\n        console.log(`the current mtime is: ${curr.mtime}`);\n        lastUpdated = curr.mtime\n      }\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60843352",
    "RootLocalId": "8",
    "RootPostBlockVersionId": "210061063",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express');\n    const bodyParser = require('body-parser'); // call body-parser here to parse body request from frontend \n    var fileUpload = require('express-fileupload');  // call express-fileupload here to accept file in the form of multipart data  from frontend \n    // create express app\n    const app = express();\n    // parse requests of content-type - application/json\n    app.use(bodyParser.json({limit:'50mb'}));  // here we try to set body request can accept requested data from frontend upto 50Mb\n    // parse requests of content-type - application/x-www-form-urlencoded\n    app.use(bodyParser.urlencoded({ extended: true,limit:'50mb' })); // here we try to set body request can accept requested data from frontend as urlencoded and upto 50Mb\n    app.use(fileUpload()); // here enable app to use fileupload\n    // Configuring the database\n    const dbConfig = require('./config/database.config.js');\n    const mongoose = require('mongoose');\n    mongoose.Promise = global.Promise;\n    const options = {\n      auth: {\n        user: \"*********ww\",\n        password: \"******dd\"\n      },\n      useNewUrlParser: true,\n      useCreateIndex: true,\n      useFindAndModify: false,\n      autoIndex: true, // Don't build indexes\n      reconnectTries: Number.MAX_VALUE, // Never stop trying to reconnect\n      reconnectInterval: 500, // Reconnect every 500ms\n      poolSize: 10, // Maintain up to 10 socket connections\n      // If not connected, return errors immediately rather than waiting for reconnect\n      bufferMaxEntries: 0,\n      connectTimeoutMS: 10000, // Give up initial connection after 10 seconds\n      socketTimeoutMS: 45000, // Close sockets after 45 seconds of inactivity\n      family: 4, // Use IPv4, skip trying IPv6\n      serverSelectionTimeoutMS: 5000, // Timeout after 5s instead of 30s\n      useUnifiedTopology: true\n    };\n    mongoose.connect(dbConfig.url, options).then(\n        () => { \n            console.log(\"Successfully connected to the database\");\n        },\n        err => { \n            /** handle initial connection error */ \n            console.log('Could not connect to the database. Exiting now...', err);\n            process.exit();\n        }\n    );\n    var port = process.env.PORT || 23804;        // set our port and port must be enable on server\n    var router = express.Router();    // call Router methode to enable api can accept multiple routes  \n    app.all('/*', function(req, res,next) {\n      res.header(\"Access-Control-Allow-Origin\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", \"true\");\n      res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, X-Content-Type-Options, X-XSS-Protection, Content-Type, Accept, Key, Authorization\");\n      res.header(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, PUT, DELETE, PATCH\");\n      next()\n    });\n    // define a simple route\n    app.get('/', (req, res) => {\n        res.json({\"message\": \"Welcome to Dummy application. Sign Up and Login Quicky. Organize and keep track of all forms.\"});\n    });\n    // Require  routes\n    require('./app/routes/controlFile.routes.js')(app);\n    app.use( errorHandler.httpError(404) );\n    app.use( handler );\n    const server = app.listen(port, () => console.log('Dummy-App API running on port ' + port));\n    var fs = require('fs');\n    var util = require('util');\n    var path = __dirname + `/mylogfiles/debug(${getDate()}).log`, printNextLine = false\n    if(fs.existsSync(path)){\n      printNextLine = true\n    }\n    var log_file = fs.createWriteStream(path, {flags : 'a'});  \n    /* 'a'  : open the file for writing, positioning the stream at the end of the file. The file is created if not existing\n       'a+' : open the file for reading and writing, positioning the stream at the end of the file. The file is created if not existing\n       'r+' : open the file for reading and writing\n       'w+' : open the file for reading and writing, positioning the stream at the beginning of the file. The file is created if not existing\n    (you can find more flags at https://nodejs.org/api/fs.html#fs_file_system_flags)\n    */\n    if(printNextLine == true){\n      let prnt = '***************************************************************************************************************'\n      log_file.write('\\n' + '\\n' + prnt + '\\n');\n    }\n    var log_stdout = process.stdout;\n    console.log = function(d) { //\n      log_file.write((new Date).toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }) + ' | ' + util.format(d) + '\\n');\n      log_stdout.write( util.format(d) + '\\n');\n    };\n    console.error = function(d) { //\n      log_file.write((new Date).toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }) + ' | ' + util.format(d) + '\\n');\n      log_stdout.write( util.format(d) + '\\n');\n    };\n    process.on('uncaughtException', function (err) {\n      console.error(err)\n      // console.error((new Date).toUTCString() + ' uncaughtException:', err.message)\n      // console.error(err.stack)\n      process.exit(1)\n    })\n    process.on('SIGINT', () => {\n      console.info('SIGINT signal received.')\n      // Stops the server from accepting new connections and finishes existing connections.\n      server.close(function(err) {\n        // if error, log and exit with error (1 code)\n        if (err) {\n          console.error(err)\n          process.exit(1)\n        }\n        // close your database connection and exit with success (0 code)\n        // for example with mongoose\n        mongoose.connection.close(function () {\n          console.log('Mongoose connection disconnected')\n          process.exit(0)\n        })\n      })\n    })\n    function getDate(addDay){\n        let mydate = new Date()\n        var month = mydate.getMonth() + 1; // month (in integer 0-11)\n        var year = mydate.getFullYear(); // year\n        var date = mydate.getDate()\n        let h = mydate.getHours() \n        let m = mydate.getMinutes()\n        let s = mydate.getSeconds() \n        // let desiredDate = `${year}.${month}.${date} H-${h} M-${m} S-${s}`\n        let desiredDate = `${year}.${month}.${date}`\n        return desiredDate\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9953632148377125,
        "Content": "    const express = require('express');\n    const bodyParser = require('body-parser'); // call body-parser here to parse body request from frontend \n    var fileUpload = require('express-fileupload');  // call express-fileupload here to accept file in the form of multipart data  from frontend \n    // create express app\n    const app = express();\n    // parse requests of content-type - application/json\n    app.use(bodyParser.json({limit:'50mb'}));  // here we try to set body request can accept requested data from frontend upto 50Mb\n    // parse requests of content-type - application/x-www-form-urlencoded\n    app.use(bodyParser.urlencoded({ extended: true,limit:'50mb' })); // here we try to set body request can accept requested data from frontend as urlencoded and upto 50Mb\n    app.use(fileUpload()); // here enable app to use fileupload\n    // Configuring the database\n    const dbConfig = require('./config/database.config.js');\n    const mongoose = require('mongoose');\n    mongoose.Promise = global.Promise;\n    const options = {\n      auth: {\n        user: \"*********ww\",\n        password: \"******dd\"\n      },\n      useNewUrlParser: true,\n      useCreateIndex: true,\n      useFindAndModify: false,\n      autoIndex: true, // Don't build indexes\n      reconnectTries: Number.MAX_VALUE, // Never stop trying to reconnect\n      reconnectInterval: 500, // Reconnect every 500ms\n      poolSize: 10, // Maintain up to 10 socket connections\n      // If not connected, return errors immediately rather than waiting for reconnect\n      bufferMaxEntries: 0,\n      connectTimeoutMS: 10000, // Give up initial connection after 10 seconds\n      socketTimeoutMS: 45000, // Close sockets after 45 seconds of inactivity\n      family: 4, // Use IPv4, skip trying IPv6\n      serverSelectionTimeoutMS: 5000, // Timeout after 5s instead of 30s\n      useUnifiedTopology: true\n    };\n    mongoose.connect(dbConfig.url, options).then(\n        () => { \n            console.log(\"Successfully connected to the database\");\n        },\n        err => { \n            /** handle initial connection error */ \n            console.log('Could not connect to the database. Exiting now...', err);\n            process.exit();\n        }\n    );\n    var port = process.env.PORT || 23804;        // set our port and port must be enable on server\n    var router = express.Router();    // call Router methode to enable api can accept multiple routes  \n    app.all('/*', function(req, res,next) {\n      res.header(\"Access-Control-Allow-Origin\", \"*\");\n      res.header(\"Access-Control-Allow-Credentials\", \"true\");\n      res.header(\"Access-Control-Allow-Headers\", \"Origin, X-Requested-With, X-Content-Type-Options, X-XSS-Protection, Content-Type, Accept, Key, Authorization\");\n      res.header(\"Access-Control-Allow-Methods\", \"POST, GET, OPTIONS, PUT, DELETE, PATCH\");\n      next()\n    });\n    // define a simple route\n    app.get('/', (req, res) => {\n        res.json({\"message\": \"Welcome to Dummy application. Sign Up and Login Quicky. Organize and keep track of all forms.\"});\n    });\n    // Require  routes\n    require('./app/routes/controlFile.routes.js')(app);\n    const server = app.listen(port, () => console.log('Dummy-App API running on port ' + port));\n    var fs = require('fs');\n    var util = require('util');\n    var path = __dirname + `/mylogfiles/debug(${getDate()}).log`, printNextLine = false\n    if(fs.existsSync(path)){\n      printNextLine = true\n    }\n    var log_file = fs.createWriteStream(path, {flags : 'a'});  \n    /* 'a'  : open the file for writing, positioning the stream at the end of the file. The file is created if not existing\n       'a+' : open the file for reading and writing, positioning the stream at the end of the file. The file is created if not existing\n       'r+' : open the file for reading and writing\n       'w+' : open the file for reading and writing, positioning the stream at the beginning of the file. The file is created if not existing\n    (you can find more flags at https://nodejs.org/api/fs.html#fs_file_system_flags)\n    */\n    if(printNextLine == true){\n      let prnt = '***************************************************************************************************************'\n      log_file.write('\\n' + '\\n' + prnt + '\\n');\n    }\n    var log_stdout = process.stdout;\n    console.log = function(d) { //\n      log_file.write((new Date).toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }) + ' | ' + util.format(d) + '\\n');\n      log_stdout.write( util.format(d) + '\\n');\n    };\n    console.error = function(d) { //\n      log_file.write((new Date).toLocaleString('en-IN', { timeZone: 'Asia/Kolkata' }) + ' | ' + util.format(d) + '\\n');\n      log_stdout.write( util.format(d) + '\\n');\n    };\n    process.on('uncaughtException', function (err) {\n      console.error(err)\n      // console.error((new Date).toUTCString() + ' uncaughtException:', err.message)\n      // console.error(err.stack)\n      process.exit(1)\n    })\n    process.on('SIGINT', () => {\n      console.info('SIGINT signal received.')\n      // Stops the server from accepting new connections and finishes existing connections.\n      server.close(function(err) {\n        // if error, log and exit with error (1 code)\n        if (err) {\n          console.error(err)\n          process.exit(1)\n        }\n        // close your database connection and exit with success (0 code)\n        // for example with mongoose\n        mongoose.connection.close(function () {\n          console.log('Mongoose connection disconnected')\n          process.exit(0)\n        })\n      })\n    })\n    function getDate(addDay){\n        let mydate = new Date()\n        var month = mydate.getMonth() + 1; // month (in integer 0-11)\n        var year = mydate.getFullYear(); // year\n        var date = mydate.getDate()\n        let h = mydate.getHours() \n        let m = mydate.getMinutes()\n        let s = mydate.getSeconds() \n        // let desiredDate = `${year}.${month}.${date} H-${h} M-${m} S-${s}`\n        let desiredDate = `${year}.${month}.${date}`\n        return desiredDate\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60850646",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210132999",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      .on('data', (row) => {\n        // row.timestamp= \"20200325131010000\"; <- This should be removed\n        dataArray.push(row);\n      })",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.19718309859154928,
        "Content": "      const csv = require('csv-parser');\n      const fs = require('fs');\n      var json2csv = require('json2csv').parse;\n    \n      const filePath = 'C:/Users/Downloads/20200325131010000.csv';\n      const fileName = (/^.+\\/([^/]+)\\.csv$/gi).exec(filePath)[1]; // extract file name from path\n      const intialTimestamp = parseInt(fileName); // convert string to number\n      let i = 0;\n      var dataArray = []; \n        fs.createReadStream(filePath)\n          .pipe(csv())\n          .on('data', (row) => {\n            row.timestamp= (intialTimestamp + (i * 20)).toString(); // increase the number by 20 everytime\n            dataArray.push(row);\n            i++;\n          })\n          .on('end', () => {\n            var result = json2csv({ data: dataArray, fields: Object.keys(dataArray[0]) });\n            fs.writeFileSync(\"test.csv\", result);\n          });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60915146",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210769915",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var pixabay = require(\"pixabay-api\")\n    var Discord = require(\"discord.js\")\n    var key = \"your api key\"//get key here: https://pixabay.com/api/docs/#api_search_images\n    \n    pixabay.searchImages(key, 'puppy').then((r) => {\n            message.reply(new Discord.MessageEmbed()//create embed\n                .setTitle(\"Random Puppy\")\n                .setImage(r.hits[Math.floor(Math.random() * r.hits.length)].largeImageURL))//get random puppy image from response\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5853658536585366,
        "Content": "    var pixabay = require(\"pixabay-api\")\n    var Discord = require(\"discord.js\")\n    var key = \"your api key\"//get key here: https://pixabay.com/api/docs/#api_search_images\n    ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60919204",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210809831",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    res.set(\"Content-Type\", \"text/html\");\n    res.write(\"<h3>The weather is currently \" + desc + \"</h3>\");\n    //res.write('<img src=' + imageURL + '>');\n    res.write(\n      \"<h1>The temperature in London is \" +\n        \"<span>\" +\n        temp +\n        \"</span> ° Celsius.</h1>\"\n    );\n    res.send();",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8141592920353983,
        "Content": "    const express = require(\"express\");\n    const https = require(\"https\");\n    const app = express();\n    \n    const url =\n      \"https://api.openweathermap.org/data/2.5/weather?q=London,uk&units=metric&appid=0333cb6bfed722ca09f1062ec1ea9ca1\";\n    app.get(\"/\", (req, res) => {\n      https.get(url, response => {\n        response.on(\"data\", data => {\n          const weatherData = JSON.parse(data);\n          const temp = weatherData.main.temp;\n          const { description, icon } = weatherData.weather[0];\n          const imageURL = `http://openweathermap.org/img/wn/${icon}@2x.png`;\n    \n          res.set(\"Content-Type\", \"text/html\");\n          //OR\n          res.setHeader(\"Content-Type\", \"text/html\");\n    \n          res.send(`\n          <h3>The weather is currently ${description}</h3>\n          <img src=\"${imageURL}\">\n          <h1>The temperature in London is <span>${temp}</span> ° Celsius.</h1>\n          `);\n        });\n      });\n      //res.send('server is up!!!');\n    });\n    \n    app.listen(3000, () => {\n      console.log(\"Server started!!!\");\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60920777",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "210826343",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    exports.justAnExampleOFCloudFunction = functions.firestore\n        .document(\"/aCollection/{docId}\")\n        .onCreate(async (snap, context) => {\n    \n            const bucket = admin.storage().bucket();\n            const imagesFilesArray = await bucket.getFiles({ directory: 'images' });\n            const files = imagesFilesArray[0];\n    \n            const promises = [];\n    \n            files.forEach(f => {\n                promises.push(f.delete());\n            })\n    \n            await Promise.all(promises);\n    \n            return null;\n    \n        });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9836065573770492,
        "Content": "    const functions = require('firebase-functions');\n    const admin = require('firebase-admin');\n    admin.initializeApp();\n    exports.justAnExampleOfCloudFunction = functions.firestore\n        .document(\"/triggeringCollection/{docId}\")\n        .onCreate(async (snap, context) => {\n    \n            const bucket = admin.storage().bucket();\n            const imagesFilesArray = await bucket.getFiles({ directory: 'images' });\n            const files = imagesFilesArray[0];\n    \n            const promises = [];\n    \n            files.forEach(f => {\n                promises.push(f.delete());\n            })\n    \n            await Promise.all(promises);\n    \n            return null;\n    \n        });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "60961206",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "211236043",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const Container = require(\"../classes/Container\");\n    ...\n    ...\n    const newContainer = new Container(\"./test.json\");\n    newContainer.put(\"taskID\", \"1234\");\n    console.log(newContainer);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.16666666666666666,
        "Content": "    this._storage = {};",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61176051",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "213420366",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let x = require('someModule);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.75,
        "Content": "    let x = require('someModule');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61249771",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "214166499",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const command = `dbgargs -F':' '/^^[a-zA-Z0-9][^^$#\\\\/t=]*:([^^=]^|$)/ {split($1,A,/ /);for(i in A)print A[i]}'`;\n### Using double quotes instead of single quotes:\nconst command = `dbgargs -F\":\" \"/^[a-zA-Z0-9][^$#\\\\/t=]*:([^=]|$)/ {split($1,A,/ /);for(i in A)print A[i]}\"`;",
        "MostRecentVersion": "0",
        "Errors": 17,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5714285714285714,
        "Content": "const command = `make -qp | awk -F\":\" \"/^[a-zA-Z0-9][^$#\\\\/t=]*:([^=]|$)/ {split($1,A,/ /);for(i in A)print A[i]}\"`;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61348783",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "215173965",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const https = require('https');\n    const URL = process.env.API_GATEWAY_URL;\n    \n    exports.handler = async (event, context) => {\n    \n      console.log(\"hello\");\n    \n      return new Promise((resolve, reject) => {\n        https.get(URL, function(result) {\n          console.log('Success, with: ' + result.statusCode);\n          resolve(result);\n        }).on('error', function (err) {\n          console.log('Error, with: ' + err.message);\n          reject(err);\n        });\n      };\n    };",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8955223880597015,
        "Content": "    const https = require('https');\n    const URL = 'https://dummy.restapiexample.com/api/v1/employees';\n    \n    exports.handler = async (event, context) => {\n        return new Promise((resolve, reject) => {\n            https.get(URL,(res) => {\n                let body = \"\";\n            \n                res.on(\"data\", (chunk) => {\n                    body += chunk;\n                });\n            \n                res.on(\"end\", () => {\n                    console.log(body);\n                    resolve(body);\n                });\n                \n            }).on(\"error\", (error) => {\n                reject(error);\n            });  \n    \n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61568997",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "217403012",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const sequelize = new Sequelize(dbName, username, password, {\n       host: 'ec2-18-206-84-251.compute-1.amazonaws.com',\n       port: 5432,\n       dialect: 'postgres',\n       logging: true\n    });",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.2,
        "Content": "    const http = require('http');",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61572280",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "217436246",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "for (let i = 0; i < mp.lenght; i++) {\n   let login = mp[i].split(\":\");\n   console.log(login);\n}",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8148148148148148,
        "Content": "    let mp = [\"login1:pass1\", \"login2:pass2\"];\n    for (let i = 0; i < mp.length; i++) {\n        let login = mp[i].split(\":\");\n        console.log(login);\n     }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61607324",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "217794933",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var express = require('express');\n    var app = express();\n    var bodyParser = require('body-parser');\n    var router = express.Router();\n    var cors = require('cors');\n    var ActiveDirectory = require('activedirectory');\n    \n    app.use(bodyParser.json());\n    app.use(bodyParser.urlencoded({\n        extended: true\n    }));\n    \n    var port = process.env.PORT || 8080;\n    app.use('/api', router);\n    \n    router.post('/Login1', function(req, res) {\n        var username = req.body.username;\n        var password = req.body.password;\n    \n        console.log(username);\n    \n    \n        var config = {\n            url: 'abcdefgh',\n            baseDN: 'dc=abcdef,dc=abc'\n        };\n        var ad = new ActiveDirectory(config);\n        // Authenticate\n        ad.authenticate(username, password, function(err, auth) {\n            if (err) {\n                res.send(\"Login Failed. Incorrect username or password\");\n                console.log('ERROR: ' + JSON.stringify(err));\n                return;\n            }\n            if (auth) {\n                console.log('Authenticated!');\n                res.redirect('/test.html');\n            } else {\n                console.log('Authentication failed!');\n                res.send(\"Login Failed. Incorrect username or password\");\n            }\n        });\n    });\n    \n    /*------------------------------------------------------------------------------*/\n    //Relevant part:\n    router.post('/test.html', function(req, res) {\n        if (loggedin) //check if user is loggedin, replace with your variables/checks\n            res.sendFile('path/to/your/test.html');\n        else\n            res.redirect('/Login1');\n    })\n    \n    //This needs to be after the routes\n    app.use(cors());\n    \n    /*---------------------------------------------------------------------------------*/\n    \n    app.listen(port);\n    console.log('Listening at port ' + port);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6040268456375839,
        "Content": "    var express = require('express');\n    var app = express();\n    var router = express.Router();\n    var cors = require('cors');\n    var port = process.env.PORT || 8080; \n    \n    //use routes on the localhost:8080 path\n    app.use('/', router);\n    \n    //Relevant part:\n    router.get('/test.html', function(req, res) {\n        var loggedin = true; //false if not loggedin\n        if (loggedin)\n            res.sendFile(__dirname + '/test.html');\n        else\n            res.redirect('https://www.google.com/');\n    })\n    \n    //This needs to be after the routes\n    app.use(cors());\n    \n    app.listen(port);\n    console.log('Listening at port ' + port);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61648149",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "218212784",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const dict = {\n      CheckAStatus: \"PASS\",\n      CheckAHeading: \"\",\n      CheckADetail: \"\",\n      CheckBStatus: \"FAIL\",\n      CheckBHeading: \"Heading1\",\n      CheckCStatus: \"FAIL\",\n      CheckCHeading: \"Heading2\"\n    };\n    const items = {};\n    for (key in dict) {\n      if (![\"PASS\", \"\"].includes(dict[key])) {\n        items[key] = dict[key];\n      }\n    }\n    console.log(items);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9433962264150944,
        "Content": "    const dict = {\n      CheckAStatus: \"PASS\",\n      CheckAHeading: \"\",\n      CheckADetail: \"\",\n      CheckBStatus: \"FAIL\",\n      CheckBHeading: \"Heading1\",\n      CheckCStatus: \"FAIL\",\n      CheckCHeading: \"Heading2\"\n    };\n    const items = {};\n    for (let key in dict) {\n      if (![\"PASS\", \"\"].includes(dict[key])) {\n        items[key] = dict[key];\n      }\n    }\n    console.log(items);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61672680",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "218463412",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    {\n        type: Date,\n        default: undefined\n    }",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6666666666666666,
        "Content": "    {\n        type: Date\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61678609",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "218523653",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    SchemaModal.aggregate([\n      {\n        $addFields: {\n          \"dateString\": { $dateToString: { format: \"%Y-%m-%d\", date: \"$createdAt\" } }\n        }\n      },\n      {\n        $match: {\n          dateString: {\n            $eq: \"2020-05-05\"\n          }\n        }\n      }\n    ]).exec((err, records) => {\n      if (err) throw err;\n      console.log(records);\n    })",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8695652173913043,
        "Content": "    const User = require(\"UserModal\").User;\n    User.aggregate([\n      {\n        $addFields: {\n          \"dateString\": { $dateToString: { format: \"%Y-%m-%d\", date: \"$createdAt\" } }\n        }\n      },\n      {\n        $match: {\n          dateString: {\n            $eq: \"2020-05-05\"\n          }\n        }\n      }\n    ]).exec((err, records) => {\n      if (err) throw err;\n      console.log(records);\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61737042",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "219117204",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    array = [\n     {device:\"router\", discardmax:16617331511, timeCapturedmax:\"February 18, 2018 at 09:27 AM\"}, \n     {device:\"router\", discardmax:16617216094, timeCapturedmax:\"February 18, 2018 at 09:22 AM\"}, \n     {device:\"router\", discardmax:16617202279, timeCapturedmax:\"February 18, 2018 at 09:18 AM\"},\n     {device:\"router\", discardmax:16616985649, timeCapturedmax:\"February 18, 2018 at 09:12 AM\"}, \n     {device:\"router\", discardmax:16616404836, timeCapturedmax:\"February 18, 2018 at 09:07 AM\"},  \n     {device:\"router\", discardmax:16616368250, timeCapturedmax:\"February 18, 2018 at 09:03 AM\"}\n    ]\n    var result = [];\n    for (var i = 0; i < array.length-1; i++) {\n        result.push({...array[i], discardmax: array[i].discardmax - array[i+1].discardmax});\n    }\n    console.log(result);",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7415730337078652,
        "Content": "    var array = \n    {\"SiteA\": [\n     {device:\"SiteA\", discardmax:16617331511, timeCapturedmax:\"February 18, 2018 at 09:27 AM\"}, \n     {device:\"SiteA\", discardmax:16617216094, timeCapturedmax:\"February 18, 2018 at 09:22 AM\"}, \n     {device:\"SiteA\", discardmax:16617202279, timeCapturedmax:\"February 18, 2018 at 09:18 AM\"},\n     {device:\"SiteA\", discardmax:16616985649, timeCapturedmax:\"February 18, 2018 at 09:12 AM\"}, \n     {device:\"SiteA\", discardmax:16616404836, timeCapturedmax:\"February 18, 2018 at 09:07 AM\"},  \n     {device:\"SiteA\", discardmax:16616368250, timeCapturedmax:\"February 18, 2018 at 09:03 AM\"}\n    ], \n    \"SiteB\": [\n     {device:\"SiteB\", discardmax:16617331511, timeCapturedmax:\"February 18, 2018 at 09:27 AM\"}, \n     {device:\"SiteB\", discardmax:16617216094, timeCapturedmax:\"February 18, 2018 at 09:22 AM\"}, \n     {device:\"SiteB\", discardmax:16617202279, timeCapturedmax:\"February 18, 2018 at 09:18 AM\"},\n     {device:\"SiteB\", discardmax:16616985649, timeCapturedmax:\"February 18, 2018 at 09:12 AM\"}, \n     {device:\"SiteB\", discardmax:16616404836, timeCapturedmax:\"February 18, 2018 at 09:07 AM\"},  \n     {device:\"SiteB\", discardmax:16616368250, timeCapturedmax:\"February 18, 2018 at 09:03 AM\"}\n    ]};\n    var result = [];\n    for (var k in array) {\n      var arr2 = array[k];\n      for (var i = 0; i < arr2.length - 1; i++) {\n        result.push({ ...arr2[i],\n          discardmax: arr2[i].discardmax - arr2[i + 1].discardmax\n        });\n      }\n    }\n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61765822",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "219416905",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    request({\n       method: 'GET',\n       uri: 'https://api.publicapis.org/entries?category=animals&https=true',\n    }, function (error, response, body){\n        if (error) {\n            console.log(error);\n            return;\n        }\n       const data = response.body;\n       const apiData = JSON.parse(data)\n       console.log('Returned: ', apiData)\n       if(!error && response.statusCode == 200){\n         res.json(data);\n       }\n       else{\n         console.log(\"error with api call\")\n       }\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9393939393939394,
        "Content": "    const request = require('request');\n    request({\n       method: 'GET',\n       uri: 'https://api.publicapis.org/entries?category=animals&https=true',\n    }, function (error, response, body){\n        if (error) {\n            console.log(error);\n            return;\n        }\n       const data = response.body;\n       const apiData = JSON.parse(data)\n       console.log('Returned: ', apiData)\n       if(response.statusCode == 200){\n         console.log('success');\n       }\n       else{\n         console.log(\"error with api call\")\n       }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61937880",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "221159319",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const myRegexp = /^([\\w:\\-() ]+)$/gm;\n    const myString = `Description: Corsican\n    Description: Cree\n    Description: Czech\n    Description: Church Slavic\n    Description: Church Slavonic\n    Description: Old Bulgarian\n    Description: Old Church Slavonic\n    Description: Old Slavonic\n    Description: Chuvash\n    Description: Welsh\n    Description: Danish\n    Description: German\n    Description: Dhivehi\n    Description: Divehi\n    Description: Maldivian\n    Description: Dzongkha\n    Description: Ewe\n    Description: Modern Greek (1453-)\n    Description: English\n    Description: Esperanto\n    Description: Spanish\n    Description: Castilian\n    Description: Estonian\n    Description: Basque\n    Description: Persian`;\n    let tempString = \"\";\n    match = myRegexp.exec(myString);\n    while (match != null) {\n      tempString = tempString.concat(\"\\\"\" + match[1] + \"\\\" \");\n      match = myRegexp.exec(myString);\n    }\n    console.log(tempString);",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const myRegexp = /^(?:[\\w:\\-() ]+)$/gm;\n    const myString = `Description: Corsican\n    Description: Cree\n    Description: Czech\n    Description: Church Slavic\n    Description: Church Slavonic\n    Description: Old Bulgarian\n    Description: Old Church Slavonic\n    Description: Old Slavonic\n    Description: Chuvash\n    Description: Welsh\n    Description: Danish\n    Description: German\n    Description: Dhivehi\n    Description: Divehi\n    Description: Maldivian\n    Description: Dzongkha\n    Description: Ewe\n    Description: Modern Greek (1453-)\n    Description: English\n    Description: Esperanto\n    Description: Spanish\n    Description: Castilian\n    Description: Estonian\n    Description: Basque\n    Description: Persian`;\n    let resultString = \"\";\n    let match = myRegexp.exec(myString);\n    while (match != null) {\n      resultString = resultString.concat(\"\\\"\" + match + \"\\\" \");\n      match = myRegexp.exec(myString);\n    }\n    console.log(resultString);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "61977338",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "221570694",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function collectFileNamesRecursively(currentPath) {\n    \tfs.readdir(currentPath, (err, files) => {\n    \t\terr ? log(err) : log(files);\n    \n    \t\t// replacing paths\n    \t\tfor (const index in files) {\n    \t\t\tconst file = files[index];\n    \t\t\tfiles[index] = path.resolve(currentPath, file);\n    \t\t}\n    \t\tfor (let file of files) {\n    \t\t\tfs.stat(file, (err, stat) => {\n    \t\t\t\terr ? log(err) : null;\n    \t\t\t\tif (stat.isDirectory()) {\n    \t\t\t\t\tcollectFileNamesRecursively(file);\n    \t\t\t\t}\n    \t\t\t\tnames.push(file);\n    \t\t\t});\n    \t\t}\n    \t});\n    }",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.32786885245901637,
        "Content": "    const path = require('path');\n    const fs = require('fs');\n    \n    async function collectFileNamesRecursively(currBasePath, foundFileNames) {\n        const dirContents = await fs.promises.readdir(currBasePath);\n    \n        for (const file of dirContents) {\n            const currFilePath = path.resolve(currBasePath, file);\n            const stat = await fs.promises.stat(currFilePath);\n            if (stat.isDirectory()) {\n                await collectFileNamesRecursively(currFilePath, foundFileNames);\n            } else {\n                foundFileNames.push(file);\n            }\n        }\n    \n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62041351",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "222230289",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function splitPdf(pathToPdf) {\n    \t// Create a new PDFDocument\n    \tconst pdfDoc = await PDFDocument.create();    \n    \t    \n        const docmentAsBytes = await fs.promises.readFile(pathToPdf);\n    \n    \t// Load a PDFDocument from each of the existing PDFs\n    \tconst document = await PDFDocument.load(docmentAsBytes)\n    \n        const numberOfPages = pdfDoc.getPages().length;\n    \n    \tfor (let i = 0; i < numberOfPages; i++) {\n    \n    \t\t// Create a new PDFDocument\n    \t\tconst subDocument = await PDFDocument.create()\n            // copy the page at current index\n            const [copiedPage] = await pdfDoc.copyPages(document, [i])\n    \t\tsubDocument.addPage(copiedPage);\n    \t\tconst pdfBytes = await subDocument.save()\n    \t\tawait writePdfBytesToFile(`file-${i+1}.pdf`, pdfBytes);\n    \n    \t}\n    }\n    async function writePdfBytesToFile(fileName, pdfBytes) {\n    \tfs.promises.writeFile(fileName, pdfBytes);\n    }",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const fs = require('fs');\n    const PDFDocument = require('pdf-lib').PDFDocument;\n    \n    async function splitPdf(pathToPdf) {\n    \n        const docmentAsBytes = await fs.promises.readFile(pathToPdf);\n    \n        // Load your PDFDocument\n        const pdfDoc = await PDFDocument.load(docmentAsBytes)\n    \n        const numberOfPages = pdfDoc.getPages().length;\n    \n        for (let i = 0; i < numberOfPages; i++) {\n    \n            // Create a new \"sub\" document\n            const subDocument = await PDFDocument.create();\n            // copy the page at current index\n            const [copiedPage] = await subDocument.copyPages(pdfDoc, [i])\n            subDocument.addPage(copiedPage);\n            const pdfBytes = await subDocument.save()\n            await writePdfBytesToFile(`file-${i + 1}.pdf`, pdfBytes);\n    \n        }\n    }\n    \n    async function writePdfBytesToFile(fileName, pdfBytes) {\n        return fs.promises.writeFile(fileName, pdfBytes);\n    }\n    \n    (async () => {\n        await splitPdf(\"./path-to-your-file.pdf\");\n    })();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62043502",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "222251718",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    <% array.forEach(function(item) {%>\n        <%-item%>\n    <% }) %>",
        "MostRecentVersion": "0",
        "Errors": 15,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "    `<% array.forEach(function(item) {%>\n        <%-item%>\n    <% }) %>`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62079562",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "222624207",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    onSubmit(e) {\n      e.preventDefault();\n      const price = computePrice(Object.values(this.state));\n      console.log(price);\n  }\n    const computePrice = values =>\n      values.reduce((price, curr, i) => price + (curr ? (i + 1) * 10 : 0), 0);\n    const generalizedData = [\n      [false], // 0\n      [true], // 10\n      [false, true], // 20\n      [false, true, true], // 50\n      [true, false, true, false], // 40\n      [true, true, true, true, true], // 150\n      [true, true, false, true, true, false, true, false], // 190\n    ];\n    generalizedData.forEach(state => console.log('price', computePrice(state)));",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const computePrice = values =>\n      values.reduce((price, value, i) => price + (value ? (i + 1) * 10 : 0), 0);\n    const generalizedData = [\n      [false], // 0\n      [true], // 10\n      [false, true], // 20\n      [false, true, true], // 50\n      [true, false, true, false], // 40\n      [true, true, true, true, true], // 150\n      [true, true, false, true, true, false, true, false], // 190\n    ];\n    generalizedData.forEach(state => console.log('price', computePrice(state)));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62103084",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "222871958",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const db = mongoose.createConnection(\n      \"yourDBurl\",\n      {\n        useNewUrlParser: true,\n        useUnifiedTopology: true\n      }\n    );\n    ...\n    return db.model(collsName, newSchema, suffix);",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.4,
        "Content": "     /* model.js */\n     'use strict';\n     var mongoose = require('mongoose'),\n         Schema = mongoose.Schema;\n     const db = mongoose.createConnection(\n          \"mongodb://localhost:27017/datadetails\",\n          {\n            useNewUrlParser: true,\n            useUnifiedTopology: true\n          }\n      );\n     function dynamicModel(suffix) {\n         var collsName = suffix.charAt(0).toUpperCase() + suffix.slice(1);\n         var newSchema = new Schema({\n             product_name: {\n                 type: String\n             }\n         }, {\n             versionKey: false\n         });\n         try {\n             if (db.model(collsName)) return db.model(collsName);\n         } catch (e) {\n             if (e.name === 'MissingSchemaError') {\n                 return db.model(collsName, newSchema, suffix);\n             }\n         }\n     }\n     module.exports = dynamicModel;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62159599",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223458959",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const start = 9.5;\nconst end = 10.9;\nconst times = 513;\nfor (let i = 0; i < times; ++i) {\n  const u = i / (times - 1);            // this will go from 0 to 1\n  const v = start + (end - start) * v;  // this will go from 9.5 to 10.9\n}",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9393939393939394,
        "Content": "    const start = 9.5;\n    const end = 10.9;\n    const times = 513;\n    const array = [];\n    for (let i = 0; i < times; ++i) {\n      const u = i / (times - 1);            // this will go from 0 to 1\n      const v = start + (end - start) * u;  // this will go from 9.5 to 10.9\n      array.push(v);\n    }\n    console.log(array);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62187938",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "223754520",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var fs = require('fs');\n    var http = require('http');\n    \n    http.createServer(function(request, response) {\n        if(request.path === \"/test.js\") {\n            var file = fs.createReadStream('test.js');\n            file.pipe(response);\n            response.writeHead(200, {'Content-Type': 'text/javascript'});\n        } else {\n            var file = fs.createReadStream('index.V1.0.html');\n            file.pipe(response);\n            response.writeHead(200, {'Content-Type': 'text/html'});\n        }\n    }).listen(8080);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9523809523809523,
        "Content": "    var fs = require('fs');\n    var http = require('http');\n    \n    http.createServer(function(request, response) {\n        if(request.url === \"/test.js\") {\n            var file = fs.createReadStream('test.js');\n            file.pipe(response);\n            response.writeHead(200, {'Content-Type': 'text/javascript'});\n        } else {\n            var file = fs.createReadStream('index.V1.0.html');\n            file.pipe(response);\n            response.writeHead(200, {'Content-Type': 'text/html'});\n        }\n    }).listen(8080);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62218341",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224065891",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var Client = require('azure-iothub').Client;\n    var Message = require('azure-iot-common').Message;\n    var connectionString = '{connection-string-policy-service}';\n    var targetDevice = '{destination-deviceid}';\n    var serviceClient = Client.fromConnectionString(connectionString);\n    serviceClient.open(function (err) {\n    if (err) {\n        context.log('Could not connect: ' + err.message);\n        }\n    });\n    \n    var totalPerson = 0;\n    var events = IoTHubMessages.length;\n    context.log(JSON.stringify(IoTHubMessages));\n    \n    context.log(`Number of entries: ${IoTHubMessages.length}`);\n    IoTHubMessages.forEach(message => {\n        context.log(`Processed message: ${JSON.stringify(message)}`);\n        totalPerson = totalPerson + message.personCount;\n        context.log(`Total count: ${totalPerson}`);\n       \n    });\n    \n    var avgPersonCount = Math.round( totalPerson / events );\n    context.log(`Average person count: ${avgPersonCount}`);\n    var temp = 24;\n    if ( avgPersonCount > 5){\n        temp = 20;\n    }\n    else if ((avgPersonCount>2) && (avgPersonCount <= 5)){\n        temp = 22;\n    }\n    else {\n        temp = 24;\n    } \n    var msg = new Message(`Setting temperature to ${temp} C`);\n    msg .properties.add('eventType', 'AC');\n    context.log('Sending message: ' + msg.getData());\n    context.log(`Temeperature set to ${temp} C`);\n    serviceClient.send(targetDevice, msg);\n        \n    context.done();\n};",
        "MostRecentVersion": "0",
        "Errors": 14,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9736842105263158,
        "Content": "\t\tmodule.exports = function (context, IoTHubMessages) {\n\t\t\t\n\t\t\tvar Client = require('azure-iothub').Client;\n\t\t\tvar Message = require('azure-iot-common').Message;\n\t\t\tvar connectionString = '{connection-string-policy-service}';\n\t\t\tvar targetDevice = '{destination-deviceid}';\n\t\t\tvar serviceClient = Client.fromConnectionString(connectionString);\n\t\t\tserviceClient.open(function (err) {\n\t\t\tif (err) {\n\t\t\t\tcontext.log('Could not connect: ' + err.message);\n\t\t\t\t}\n\t\t\t});\n\t\t\t\n\t\t\tvar totalPerson = 0;\n\t\t\tvar events = IoTHubMessages.length;\n\t\t\tcontext.log(JSON.stringify(IoTHubMessages));\n\t\t\t\n\t\t\tcontext.log(`Number of entries: ${IoTHubMessages.length}`);\n\t\t\tIoTHubMessages.forEach(message => {\n\t\t\t\tcontext.log(`Processed message: ${JSON.stringify(message)}`);\n\t\t\t\ttotalPerson = totalPerson + message.personCount;\n\t\t\t\tcontext.log(`Total count: ${totalPerson}`);\n\t\t\t   \n\t\t\t});\n\t\t\t\n\t\t\tvar avgPersonCount = Math.round( totalPerson / events );\n\t\t\tcontext.log(`Average person count: ${avgPersonCount}`);\n\t\t\tvar temp = 24;\n\t\t\tif ( avgPersonCount > 5){\n\t\t\t\ttemp = 20;\n\t\t\t}\n\t\t\telse if ((avgPersonCount>2) && (avgPersonCount <= 5)){\n\t\t\t\ttemp = 22;\n\t\t\t}\n\t\t\telse {\n\t\t\t\ttemp = 24;\n\t\t\t} \n\t\t\tvar msg = new Message(`Setting temperature to ${temp} C`);\n\t\t\tmsg .properties.add('eventType', 'AC');\n\t\t\tcontext.log('Sending message: ' + msg.getData());\n\t\t\tcontext.log(`Temeperature set to ${temp} C`);\n\t\t\tserviceClient.send(targetDevice, msg);\n\t\t\t\t\n\t\t\tcontext.done();\n\t\t};\n        ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62238028",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "224273606",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const express = require('express')\n    const config = require('config')\n    const sgMail = require('@sendgrid/mail')\n    const sendKey = config.get('SENDGRID_API_KEY')\n    sgMail.setApiKey(sendKey)\n    \n    \n    fs.readFile('./welcomeEmail.html', 'utf8', (err, content)=>{\n    \n      let msg = {\n        to: \"test@test.com\",\n        from: \"test@test.com\",\n        subject: 'Welcome To The App',\n        text: 'Text is here',\n        html: content\n      }\n    \n      sgMail.send(msg)\n    \n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9577464788732394,
        "Content": "    const express = require('express')\n    const config = require('config')\n    const sgMail = require('@sendgrid/mail')\n    const sendKey = config.get('SENDGRID_API_KEY')\n    const fs = require('fs')\n    sgMail.setApiKey(sendKey)\n    \n    \n    fs.readFile('./welcomeEmail.html', 'utf8', (err, content)=>{\n    \n      if(err){\n          console.log(err);\n      }\n      else{\n          let msg = {\n            to: \"test@test.com\",\n            from: \"test@test.com\",\n            subject: 'Welcome To The App',\n            text: 'Text is here',\n            html: content\n          }\n        \n          sgMail.send(msg)\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62292624",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "224829954",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var foo = {\n      \"description\": \"A car  schema\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"_id\": {\n          \"type\": \"string\"\n        },\n        \"_rev\": {\n          \"type\": \"string\"\n        },\n        \"sources\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"mam\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"source_id\": {\n                  \"type\": [\"integer\", \"null\"]\n                },\n                \"SOR\": {\n                  \"type\": [\"boolean\", \"null\"]\n                }\n              }\n            },\n            \"sas\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"source_id\": {\n                  \"type\": \"string\"\n                },\n                \"SOR\": {\n                  \"type\": [\"boolean\", \"null\"]\n                },\n                \"CAR\": {\n                  \"type\": [\"object\", \"null\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    parseObjectProperties = (obj) => {\n      var result = null;\n      for (var k in obj) {\n        if (k == \"CAR\") {\n          return obj[k];\n        }\n        if (obj[k] instanceof Object) {\n          result = parseObjectProperties(obj[k]);\n          if (result) {\n            break;\n          }\n        }\n      }\n      return result;\n    }\n    console.log(parseObjectProperties(foo));",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.967741935483871,
        "Content": "    const parseObjectProperties = (obj) => {\n      var result = null;\n      for (var k in obj)\n        if (k == \"CAR\") return obj[k].type[0];\n        else if (obj[k] instanceof Object) \n          result = parseObjectProperties(obj[k]);\n      return result;\n    }\n    var foo = {\n      \"description\": \"A car  schema\",\n      \"type\": \"object\",\n      \"properties\": {\n        \"_id\": {\n          \"type\": \"string\"\n        },\n        \"_rev\": {\n          \"type\": \"string\"\n        },\n        \"sources\": {\n          \"type\": \"object\",\n          \"properties\": {\n            \"mam\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"source_id\": {\n                  \"type\": [\"integer\", \"null\"]\n                },\n                \"SOR\": {\n                  \"type\": [\"boolean\", \"null\"]\n                }\n              }\n            },\n            \"sas\": {\n              \"type\": \"object\",\n              \"properties\": {\n                \"source_id\": {\n                  \"type\": \"string\"\n                },\n                \"SOR\": {\n                  \"type\": [\"boolean\", \"null\"]\n                },\n                \"CAR\": {\n                  \"type\": [\"object\", \"null\"]\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n    console.log(parseObjectProperties(foo));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62314347",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225043964",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "let fnString = `\nconst os = require(\"os\");\nconsole.log(os.platform());\n`;\nconst fn = new Function('require', fnString);\nconsole.log(fn(require));\nYou could do `return os.platform()` instead of `console.log` in the function to make the result available to the caller.",
        "MostRecentVersion": "0",
        "Errors": 23,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5581395348837209,
        "Content": "let fnString = `\nconst os = require(\"os\");\nreturn os.platform();\n`;\nconst fn = new Function('require', fnString);\nconsole.log(fn(require));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62337087",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225283089",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // gulp.task('default', gulp.series('browser-sync', function() {\n    //     gulp.start('sass:watch');\n    // }));\n    gulp.task('default', gulp.series('browser-sync', 'sass:watch'));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9230769230769231,
        "Content": "    // gulp.task('default', gulp.series('browser-sync', function() {\n    //     gulp.start('sass:watch');\n    // }));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62358573",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "225504824",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    require('envkey')\n    import Twitter from 'twitter-lite';\n    \n    const mainFn = async () => {\n      return new Promise((resolve, reject) => {\n        const client = new Twitter({\n          consumer_key: process.env['TWITTER_CONSUMER_KEY'],\n          consumer_secret: process.env['TWITTER_CONSUMER_SECRET'],\n          access_token_key: process.env['TWITTER_ACCESS_KEY'],\n          access_token_secret: process.env['TWITTER_ACCESS_SECRET']\n        })\n    \n        const parameters = {\n          track: \"#bitcoin,#litecoin,#monero\"\n        }\n    \n        const stream = client.stream(\"statuses/filter\", parameters)\n          .on(\"start\", response => console.log(\"start\"))\n          .on(\"data\", tweet => console.log(\"data\", tweet.text))\n          .on(\"ping\", () => console.log(\"ping\"))\n          .on(\"error\", error => {\n            console.log(\"error\", error)\n            reject()\n          })\n          .on(\"end\", response => {\n            console.log(\"end\")\n            resolve()\n          });\n      })\n    }\n    \n    await mainFn();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9807692307692307,
        "Content": "    require('envkey')\n    import Twitter from 'twitter-lite';\n    \n    const mainFn = async () => {\n      return new Promise((resolve, reject) => {\n        const client = new Twitter({\n          consumer_key: process.env['TWITTER_CONSUMER_KEY'],\n          consumer_secret: process.env['TWITTER_CONSUMER_SECRET'],\n          access_token_key: process.env['TWITTER_ACCESS_KEY'],\n          access_token_secret: process.env['TWITTER_ACCESS_SECRET']\n        })\n    \n        const parameters = {\n          track: \"#bitcoin,#litecoin,#monero\"\n        }\n    \n        const stream = client.stream(\"statuses/filter\", parameters)\n          .on(\"start\", response => console.log(\"start\"))\n          .on(\"data\", tweet => console.log(\"data\", tweet.text))\n          .on(\"ping\", () => console.log(\"ping\"))\n          .on(\"error\", error => {\n            console.log(\"error\", error)\n            reject()\n          })\n          .on(\"end\", response => {\n            console.log(\"end\")\n            resolve()\n          });\n      })\n    }\n    \n    const main = async () => {await mainFn();}\n    \n    main()",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62425716",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226205109",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const mysql = require('mysql2');\n    const fs = require('fs');\n    const path = require('path');\n    var connection = mysql.createConnection({\n        host: 'pa****sql.mysql.database.azure.com',\n        port: '3306',\n        user: 'pa***i@pa****l',\n        password: 'J*****0',\n        database: 'mysql',\n        ssl: {\n            ca: fs.readFileSync(path.resolve(__dirname, 'BaltimoreCyberTrustRoot.crt.pem'))\n        }\n    });\n    connection.connect();\n    connection.query('SELECT *FROM USER', function (error, results) {\n        if (error) throw error;\n        for (i = 0;i < results.length; i++) { \n            console.log('The user is: ', results[i].User);\n        }\n    \n    });\n    connection.end();",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.208,
        "Content": "    const fs = require('fs');\n    const path = require('path');\n    module.exports = {\n    /**Declaration of databases for my development environment**/\n      \"development\": {\n          \"databases\": {\n              \"dbinmysql\": {\n                  \"database\": \"mysql\", //you should always save these values in environment variables\n                  \"username\": \"***@p***mysql\",  //only for testing purposes you can also define the values here\n                  \"password\":  \"Ja***\",\n                  \"host\": \"*****mysql.mysql.database.azure.com\",\n                  \"port\": 3306,\n                  \"ssl\":true,\n                  \"dialect\": \"mysql\",  //here you need to define the dialect of your databse, in my case it is Postgres\n                  \"dialectOptions\": {\n                    ssl: {\n                        ca: fs.readFileSync(path.resolve(__dirname, 'BaltimoreCyberTrustRoot.crt.pem'))\n                      }\n                  },\n              },\n              \"dbinsqlserver\": {\n                  \"database\": \"pa*****db\", \n                  \"username\": \"pa***i\",  \n                  \"password\":  \"J*****0\",\n                  \"host\": \"***sqlserver.database.windows.net\",\n                  \"port\": 1433,\n                  \"dialect\": \"mssql\",  //second database can have a different dialect\n                  \"dialectOptions\": {\n                    options: {\n                        encrypt: true,\n                    }\n                }\n              },\n          },\n      }\n      }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62496303",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "226953230",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const { createServer } = require('http')\n    const ws = require('ws')\n    const express = require('express')\n    const app = express()\n    const server = createServer(app)\n    new ws.Server({\n      server,\n      path: '/<websocket-path>',\n    })\n    server.listen(3030, () => {\n      console.success(`GraphQL Server is now running on http://localhost:3030/graphql`)\n      console.success(`Subscriptions are running on ws://localhost:3030/<websocket-path>`)\n    })",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.676056338028169,
        "Content": "    const { createServer } = require('http')\n    const ws = require('ws')\n    const express = require('express')\n    const app = express()\n    const server = createServer(app)\n    app.get('/', (req, res) => {\n      res.send('I am a normal http server response')\n    })\n    const wsServer = new ws.Server({\n      server,\n      path: '/websocket-path',\n    })\n    wsServer.on('connection', (connection) => {\n      connection.send('I am a websocket response')\n    })\n    server.listen(3030, () => {\n      console.log(`Server is now running on http://localhost:3030`)\n      console.log(`Websocket is now running on ws://localhost:3030/<websocket-path>`)\n    })",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62504216",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227038061",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const objArr = \n        [ { location_id: 1, quantity: 20, name: 'AB' } \n        , { location_id: 1, quantity: 20, name: 'AB' } \n        , { location_id: 3, quantity: 20, name: 'cd' } \n        ] \n         \n    const sum = objArr.reduce((a,c)=>{\n      let x = a.find(e=>e.location_id===c.location_id)\n      if(!x) a.push(Object.assign({},c))\n      else  x.quantity += c.quantity\n      return a\n    },[])\n    console.log( JSON.stringify(sum,0,2) )",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const objArr = \n        [ { location_id: 1, quantity: 20, name: 'AB' } \n        , { location_id: 1, quantity: 20, name: 'AB' } \n        , { location_id: 3, quantity: 20, name: 'cd' } \n        ] \n         \n    const sum = objArr.reduce((a,c)=>{\n      let x = a.find(e=>e.location_id===c.location_id)\n      if(!x) a.push(Object.assign({},c))\n      else  x.quantity += c.quantity\n      return a\n    },[])\n    console.log(sum)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62555064",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "227564808",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "ECMAScript Module syntax:\nimport { v4 as uuidv4 } from 'uuid';\nuuidv4(); // ⇨ '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'\nCommonJS syntax:\nconst { v4: uuidv4 } = require('uuid');\nuuidv4(); // ⇨ '1b9d6bcd-bbfd-4b2d-9b5d-ab8dfbbd4bed'",
        "MostRecentVersion": "0",
        "Errors": 8,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7142857142857143,
        "Content": "    import { v4 as uuidv4 } from 'uuid';\n    uuidv4(); // ⇨ '9b1deb4d-3b7d-4bad-9bdd-2b0d7b3dcb6d'",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62573530",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "227756073",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    async function af2snf() {\n      return new Promise((resolve,reject)=>{\n       console.log(\"starting connection\");\n       var snowflake = require('snowflake-sdk');\n       // Create a Connection object that we can use later to connect.\n       console.log(\"prep conn\");\n       var connection = snowflake.createConnection( {\n        account: \"myaccountname\",\n        username: \"myusername\",\n        password: \"mypass\",\n        database: \"dbname\",\n        schema: \"schemaname\"\n        });\n       console.log(\"making connection\");\n    \n       connection.connect( function(err, conn) {\n                if (err) {\n                    console.error('Unable to connect: ' + err.message);\n                    return reject(err);\n                } \n                else {\n                    console.log('Successfully connected to Snowflake.');\n                    // Optional: store the connection ID.\n                    var conn_id = await conn.getId();\n                    return resolve(conn_id);\n                 }\n          })\n      });\n    }\n    \n    console.log(\"outside fucntion\");\n    console.log(await af2snf());\n    console.log(\"executed fucntion\");",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9552238805970149,
        "Content": "    async function af2snf() {\n      return new Promise((resolve,reject)=>{\n       console.log(\"starting connection\");\n       var snowflake = require('snowflake-sdk');\n       // Create a Connection object that we can use later to connect.\n       console.log(\"prep conn\");\n       var connection = snowflake.createConnection( {\n        account: \"myaccountname\",\n        username: \"myusername\",\n        password: \"mypass\",\n        database: \"dbname\",\n        schema: \"schemaname\"\n        });\n       console.log(\"making connection\");\n    \n       connection.connect( async function(err, conn) {\n                if (err) {\n                    console.error('Unable to connect: ' + err.message);\n                    return reject(err);\n                } \n                else {\n                    console.log('Successfully connected to Snowflake.');\n                    // Optional: store the connection ID.\n                    var conn_id = await conn.getId();\n                    return resolve(conn_id);\n                 }\n          })\n      });\n    }\n    \n    console.log(\"outside fucntion\");\n    af2snf().then(conn_id=>{\n       console.log(conn_id);\n       console.log(\"executed fucntion\");\n    }).catch(err=>{\n       console.error(err);\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62710250",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "229177778",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    async function call_python (req, res) {\n      var spawn = require(\"child-process-promise\").spawn;\n      return new Promise((reject, resolve) => {\n        try {\n        spawnSync('python', [\"script.py\"], {capture: ['stdout', 'stderr', 'on']})\n        resolve(1)\n        }\n        catch (err) { console.log(err)}\n      }).catch(()=> {})\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8888888888888888,
        "Content": "    async function call_python (req, res) {\n      const spawnSync = require(\"child-process-promise\").spawnSync;\n      return new Promise((reject, resolve) => {\n        try {\n        spawnSync('python', [\"script.py\"], {capture: ['stdout', 'stderr', 'on']})\n        resolve(1)\n        }\n        catch (err) { console.log(err)}\n      }).catch(()=> {})\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62744589",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "229537215",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "var express = require(\"express\");\nvar app = express();\nconst { exec } = require(\"child_process\");\nvar ifcfg = function(data, callback) {\n exec(data, (error, stdout, stderr) => {\n  if (error) {\n   console.log(`error: ${error.message}`);\n   return callback(error);\n  }\n  if (stderr) {\n   console.log(`stderr: ${stderr}`);\n   return callback(stderr);\n  } else {\n   var output = stdout.toString();\n   return callback(output);\n  }\n });\n}\napp.get(\"/ifconfig\", (req, res) => res.write(ifcfg(\"ifconfig\", callback)));\nvar port = process.env.PORT || 8080;\napp.listen(port, function() {\n  console.log(\"Listening on \" + port);\n});",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.47058823529411764,
        "Content": "var express = require(\"express\");\nvar app = express();\nconst { exec } = require(\"child_process\");\nfunction os_func() {\n    this.execCommand = function(cmd, callback) {\n        exec(cmd, (error, stdout, stderr) => {\n            if (error) {\n                console.error(`exec error: ${error}`);\n                return;\n            }\n            callback(stdout);\n        });\n    }\n}\napp.get(\"/\", (req, res) => {\n    console.log(\"InsideGetss\");\n    var os = new os_func();\n    os.execCommand('ifconfig', function (returnvalue) {\n      res.end(returnvalue)\n});\n});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62764782",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "229751843",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let getLights = () => {\n      return fetch(`http://${gateway}/api/${username}/lights`, { // <------------ (return)\n        method: 'GET'\n      }).then((res) => {\n        if (res.ok) {\n          return res.json();\n        } else {\n          throw new Error(res.message);\n        }\n      }).then((json) => {\n        lightsArray = [];\n        for (var i in json) {\n          lightsArray.push(`ID: ${i} Name: ${json[i]['name']}`);\n        }\n        return lightsArray; // <-------------- (return)\n      });\n    }",
        "MostRecentVersion": "0",
        "Errors": 6,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9032258064516129,
        "Content": "const fetch = require('node-fetch');\nconst gateway = \"192.168.0.12\";\nconst username = \"username-A\";\nfunction fetchAPI(url, ...rest) {\n    return fetch(`http://${gateway}/api/${username}${url}`, ...rest);\n}\nfunction getLights() {\n    return fetchAPI(`/lights`)\n    .then(res => res.json())\n    .then(json => json.map((light, i) => `ID: ${i} Name: ${light.name}`));\n}\nfunction getLightDetails(id) {\n    return fetchAPI(`/lights/${id}`)\n    .then(res => res.json());\n}\nfunction getLightState(id) {\n    return fetchAPI(`/lights/${id}`)\n    .then(res => res.json())\n    .then(light => `Name: ${light.name} On: ${light.state.on}`);\n}\nfunction setLightState(id, state) {\n    return fetchAPI(`/lights/${id}/state`, {\n        method: 'PUT',\n        body: JSON.stringify({\"on\": state })\n    }).then(res => res.json());\n}\nmodule.exports = { getLights, getLightDetails, getLightState, setLightState };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62815620",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "230267289",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const crypto = require(\"crypto\");\n    const fs = require(\"fs\");\n    function encrypt(buffer, algorithm, key, iv, outputEncoding) {\n        const cipher = crypto.createCipheriv(algorithm, key, iv);\n        let encrypted = cipher.update(buffer, null, outputEncoding)\n        encrypted += cipher.final(outputEncoding);\n        return encrypted;\n    }\n    function decrypt(buffer, algorithm, key, iv) {\n        const cipher = crypto.createDecipheriv(algorithm, key, iv);\n        let encrypted = cipher.update(buffer)\n        encrypted += cipher.final();\n        return encrypted;\n    }\n    function encryptToJsonFile(buffer, filePath, algorithm, key, iv) {\n        let encryptedData = encrypt(buffer, algorithm, key, iv, \"hex\");\n        let fileData = { encryptedData, iv: iv.toString(\"hex\") };\n        fs.writeFileSync(filePath, JSON.stringify(fileData), \"utf8\");\n        return fileData;\n    }\n    function decryptJsonFile(filePath, algorithm, key) {\n        let fileData = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n        let encryptedData = Buffer.from(fileData.encryptedData, \"hex\");\n        let iv = Buffer.from(fileData.iv, \"hex\");\n        return decrypt(encryptedData, algorithm, key, iv);\n    }\n    const filePath = \"./test.json.enc\";\n    const EncryptionAlgorithm = \"aes-256-cbc\";\n    const key = Buffer.from(\"70ac30ae736068d90467beec0aedd75f3714cfe1e83b030c67911bb649316be0\", \"hex\");\n    const iv = Buffer.from(\"3d4be42df33cc6a030aa54df2e144920\", \"hex\");\n    const textToEncrypt = \"My secrets are here\";\n    const bufferToEncrypt = Buffer.from(textToEncrypt, \"utf8\");\n    console.log(\"Encrypted:\", encryptToJsonFile(bufferToEncrypt, filePath, EncryptionAlgorithm, key, iv));\n    console.log(\"Decrypted:\", decryptJsonFile(filePath, EncryptionAlgorithm, key));",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.847457627118644,
        "Content": "    const crypto = require(\"crypto\");\n    const fs = require(\"fs\");\n    function encrypt(buffer, algorithm, key, iv) {\n        const cipher = crypto.createCipheriv(algorithm, key, iv);\n        return Buffer.concat([cipher.update(buffer, null), cipher.final()]);\n    }\n    function decrypt(buffer, algorithm, key, iv) {\n        const decipher = crypto.createDecipheriv(algorithm, key, iv);\n        return Buffer.concat([decipher.update(buffer), decipher.final()]);\n    }\n    function encryptToJsonFile(buffer, filePath, algorithm, key, iv) {\n        let encryptedData = encrypt(buffer, algorithm, key, iv);\n        let fileData = { encryptedData: encryptedData.toString(\"hex\"), iv: iv.toString(\"hex\") };\n        fs.writeFileSync(filePath, JSON.stringify(fileData), \"utf8\");\n        return fileData;\n    }\n    function decryptJsonFile(filePath, algorithm, key) {\n        let fileData = JSON.parse(fs.readFileSync(filePath, \"utf8\"));\n        let encryptedData = Buffer.from(fileData.encryptedData, \"hex\");\n        let iv = Buffer.from(fileData.iv, \"hex\");\n        return decrypt(encryptedData, algorithm, key, iv);\n    }\n    const filePath = \"./test.json.enc\";\n    const EncryptionAlgorithm = \"aes-256-cbc\";\n    const key = Buffer.from(\"70ac30ae736068d90467beec0aedd75f3714cfe1e83b030c67911bb649316be0\", \"hex\");\n    const iv = Buffer.from(\"3d4be42df33cc6a030aa54df2e144920\", \"hex\");\n    const textToEncrypt = \"My secrets are here\";\n    const bufferToEncrypt = Buffer.from(textToEncrypt, \"utf8\");\n    console.log(\"Encrypted:\", encryptToJsonFile(bufferToEncrypt, filePath, EncryptionAlgorithm, key, iv));\n    console.log(\"Decrypted:\", decryptJsonFile(filePath, EncryptionAlgorithm, key).toString(\"utf8\"));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62857854",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "230711393",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    app.post('/topcities', function(req, res) {\n     console.log(req.body)\n     let bodydata = req.body; //changed let body to let bodydata\n     res.redirect('/download');\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5777777777777777,
        "Content": "    const express = require('express')\n    var session=require('express-session');\n    const {spawn} = require('child_process');\n    const path = require(\"path\");\n    const app = express()\n    const router = express.Router();\n    var bodyParser = require('body-parser');\n    var bodydata;  //making a global variable,\n    app.post('/topcities', function(req, res) {\n      console.log(req.body)\n      bodydata = req.body; //changed let body to let bodydata\n      res.redirect('/download');\n     });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62893249",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "231078737",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "\t\t\tconst util = require('util')\n\t\t\tconst mysql = require('mysql')\n\t\t\tconst pool = mysql.createPool({\n\t\t\t  connectionLimit: 10,\n\t\t\t  host: 'localhost',\n\t\t\t  user: 'root',\n\t\t\t  password: 'password',\n\t\t\t  database: 'my_database'\n\t\t\t})\n\t\t\t// Ping database to check for common exception errors.\n\t\t\tpool.getConnection((err, connection) => {\n\t\t\t  if (err) {\n\t\t\t\tif (err.code === 'PROTOCOL_CONNECTION_LOST') {\n\t\t\t\t  console.error('Database connection was closed.')\n\t\t\t\t}\n\t\t\t\tif (err.code === 'ER_CON_COUNT_ERROR') {\n\t\t\t\t  console.error('Database has too many connections.')\n\t\t\t\t}\n\t\t\t\tif (err.code === 'ECONNREFUSED') {\n\t\t\t\t  console.error('Database connection was refused.')\n\t\t\t\t}\n\t\t\t  }\n\t\t\t  if (connection) connection.release()\n\t\t\t  return\n\t\t\t})\n\t\t\t// Promisify for Node.js async/await.\n\t\t\tpool.query = util.promisify(pool.query)\n\t\t\tmodule.exports = pool\n         const db= require('./database')\n        route.post('/users',async function(){\n         let result = await db.query('SELECT l.id, l.name FROM country l ORDER by l.id');\n         });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "\t\t\tconst util = require('util')\n\t\t\tconst mysql = require('mysql')\n\t\t\tconst pool = mysql.createPool({\n\t\t\t  connectionLimit: 10,\n\t\t\t  host: 'localhost',\n\t\t\t  user: 'root',\n\t\t\t  password: 'password',\n\t\t\t  database: 'my_database'\n\t\t\t})\n\t\t\t// Ping database to check for common exception errors.\n\t\t\tpool.getConnection((err, connection) => {\n\t\t\t  if (err) {\n\t\t\t\tif (err.code === 'PROTOCOL_CONNECTION_LOST') {\n\t\t\t\t  console.error('Database connection was closed.')\n\t\t\t\t}\n\t\t\t\tif (err.code === 'ER_CON_COUNT_ERROR') {\n\t\t\t\t  console.error('Database has too many connections.')\n\t\t\t\t}\n\t\t\t\tif (err.code === 'ECONNREFUSED') {\n\t\t\t\t  console.error('Database connection was refused.')\n\t\t\t\t}\n\t\t\t  }\n\t\t\t  if (connection) connection.release()\n\t\t\t  return\n\t\t\t\t})\n\t\t\t\t// Promisify for Node.js async/await.\n\t\t\t\tpool.query = util.promisify(pool.query)\n\t\t\t\tmodule.exports = pool",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62940388",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "231553011",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const { createCanvas, loadImage } = require('canvas')\nconst canvas = createCanvas(width, height)\nconst context = canvas.getContext('2d')\n \ncontext.fillStyle = '#fff'\ncontext.fillRect(0, 0, width, height)\n \nconst text = 'Hello, World!'\ncontext.font = 'bold 70pt Menlo'\ncontext.textAlign = 'center'\ncontext.fillStyle = '#fff'\n`context.fillText()` to draw the text on the canvas:\ncontext.fillText(text, 600, 170)",
        "MostRecentVersion": "0",
        "Errors": 16,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "const { createCanvas, loadImage } = require('canvas')\nconst canvas = createCanvas(200, 200)\nconst ctx = canvas.getContext('2d')\nctx.rotate(0.1)\nctx.fillText('Awesome!', 50, 100)\n \n// Draw line under text\nvar text = ctx.measureText('Awesome!')\nctx.strokeStyle = 'rgba(0,0,0,0.5)'\nctx.beginPath()\nctx.lineTo(50, 102)\nctx.lineTo(50 + text.width, 102)\nctx.stroke()\n \n// Draw cat with lime helmet\nloadImage('./imgs.jpg').then((image) => {\n  ctx.drawImage(image, 50, 0, 70, 70)\n \n  console.log('<img src=\"' + canvas.toDataURL() + '\" />')\n})",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "62989483",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "232064695",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const x = {\n      a: 'hello World',\n      b: 23,\n      c: ''\n    };\n    let params = new URLSearchParams(x);\n    params.forEach((v, k) => {\n      if (!v)\n        params.delete(k);\n    });\n    console.log(params.toString());",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8627450980392157,
        "Content": "    const x = {\n      a: 'hello World',\n      b: '',\n      c: ''\n    };\n    let params = new URLSearchParams(x);\n    let keysForDel = [];\n    params.forEach((v, k) => {\n      if (v == '')\n        keysForDel.push(k);\n    });\n    keysForDel.forEach(k => {\n      params.delete(k);\n    });\n    console.log(params.toString());",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63123222",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "233434424",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const router = new express.Router();\n    router.post(\"/register\",(req, res, next) => {\n      const { body } = req;\n      const { password, name } = body;\n      let { email } = body;\n      return res.send({\n        success: true,\n        message: \"Signed up\",\n      });\n    });\n    module.exports = router;",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.96,
        "Content": "     const express = require(\"express\");\n     const router = new express.Router();\n     router.post(\"/register\", (req, res, next) => {\n      const { password, name, email } = req.body;\n    console.log('your message!!!')\n      res.send({\n        success: true,\n        message: \"Signed up\",\n      });\n    });\n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63216314",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "234382789",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const storage = multer.diskStorage({\n          destination: './public/uploads/',\n          filename: function (req, file, cb) {\n          cb(null, file.fieldname + '-' + newUser._id + path.extname(file.originalname));\n          }\n    });\n    // Init Upload\n    const upload = multer({\n    \tstorage: storage,\n    \tlimits: {fileSize: 1000000},\n    \tfileFilter: function (req, file, cb) {\n    \t\tcheckFileType(file, cb);\n    \t}\n    }).single('avatar');\n    \n    // Check File Type\n    function checkFileType(file, cb) {\n    \t// Allowed ext\n    \tconst filetypes = /jpeg|jpg|png|gif/;\n    \t// Check ext\n    \tconst extname = filetypes.test(path.extname(file.originalname).toLowerCase());\n    \t// Check mime\n    \tconst mimetype = filetypes.test(file.mimetype);\n    \n    \tif (mimetype && extname) {\n    \t\treturn cb(null, true);\n    \t} else {\n    \t\tcb('Error: Images Only!');\n    \t}\n    }\n    \n    // Register\n    router.post(\"/register\", upload, (req, res) => {\n        //const {name, email, password, password2||avatar} = req.body;\n        const name = req.body.name\n        const email = req.body.email\n        const password = req.body.password;\n        const password2 = req.body.password2;\n    \n        let errors = [];\n        //\n        // if (!name || !email || !password || !password2) {\n        //     errors.push({msg: \"Please enter all fields\"});\n        // }\n        // if (password && password.length < 6) {\n        //     errors.push({msg: \"Password must be at least 6 characters\"});\n        // }\n        // if (password != password2) {\n        //     errors.push({msg: \"Passwords do not match\"});\n        // }\n    \n        if (errors.length > 0) {\n            res.render(\"register\", {\n                errors,\n                name,\n                email,\n                password,\n                password2,\n                title: \"Register\",\n                layout: \"Layout\",\n            });\n        } else {\n            User.findOne({email: email}).then((user) => {\n                if (user) {\n                    errors.push({msg: \"Email already exists\"});\n                    res.render(\"register\", {\n                        errors,\n                        name,\n                        email,\n                        password,\n                        password2,\n                        title: \"Register\",\n                        layout: \"Layout\",\n                    });\n                } else {\n                    const newUser = new User({\n                        name,\n                        email,\n                        password,\n                    });\n                    \n                    console.log(newUser);\n                    newUser.avatar = storage;\n                    console.log(newUser);\n                    bcrypt.genSalt(10, (err, salt) => {\n                        bcrypt.hash(newUser.password, salt, (err, hash) => {\n                            if (err) throw err;\n                            newUser.password = hash;\n                            newUser\n                                .save()\n                                .then((user) => {\n                                    req.flash(\n                                        \"success_msg\",\n                                        \"You are now registered and can log in\"\n                                    );\n                                    res.redirect(\"/users/login\");\n                                })\n                                .catch((err) => console.log(err));\n                        });\n                    });\n                }\n            });\n        }\n    });",
        "MostRecentVersion": "0",
        "Errors": 10,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7586206896551724,
        "Content": "    const express = require(\"express\");\n    const router = express.Router();\n    const fs = require('fs');\n    const bcrypt = require(\"bcryptjs\");\n    const passport = require(\"passport\");\n    const multer = require('multer');\n    const path = require('path');\n    const bodyParser = require('body-parser')\n    const app = express()\n    // parse application/x-www-form-urlencoded\n    app.use(bodyParser.urlencoded({ extended: false }))\n    \n    // parse application/json\n    app.use(bodyParser.json())\n    // Load User model\n    const User = require(\"../models/User\");\n    const { forwardAuthenticated } = require(\"../config/auth\");\n    \n    \n    // Login Page\n    router.get(\"/login\", forwardAuthenticated, (req, res) => {\n        res.render(\"login\", { title: \"Login\", layout: \"layout\" });\n    });\n    \n    // Register Page\n    router.get(\"/register\", forwardAuthenticated, (req, res) => {\n        res.render(\"register\", { title: \"Register\", layout: \"layout\" });\n    });\n    \n    const storage = multer.diskStorage({\n        destination: './public/uploads/'\n    });\n    \n    // Init Upload\n    const upload = multer({\n        storage: storage,\n        limits: { fileSize: 1000000 },\n        fileFilter: function (req, file, cb) {\n            checkFileType(file, cb);\n        }\n    });\n    \n    // Check File Type\n    function checkFileType(file, cb) {\n        // Allowed ext\n        const filetypes = /jpeg|jpg|png|gif/;\n        // Check ext\n        const extname = filetypes.test(path.extname(file.originalname).toLowerCase());\n        // Check mime\n        const mimetype = filetypes.test(file.mimetype);\n    \n        if (mimetype && extname) {\n            return cb(null, true);\n        } else {\n            cb('Error: Images Only!');\n        }\n    }\n    // Register\n    router.post(\"/register\", upload.single('avatar'), (req, res) => {\n        //const {name, email, password, password2||avatar} = req.body;\n        const name = req.body.name\n        const email = req.body.email\n        const password = req.body.password;\n        const password2 = req.body.password2;\n    \n    \n        let errors = [];\n        //\n        // if (!name || !email || !password || !password2) {\n        //     errors.push({msg: \"Please enter all fields\"});\n        // }\n        // if (password && password.length < 6) {\n        //     errors.push({msg: \"Password must be at least 6 characters\"});\n        // }\n        // if (password != password2) {\n        //     errors.push({msg: \"Passwords do not match\"});\n        // }\n    \n        if (errors.length > 0) {\n            res.render(\"register\", {\n                errors,\n                name,\n                email,\n                password,\n                password2,\n                title: \"Register\",\n                layout: \"Layout\",\n            });\n        } else {\n            User.findOne({ email: email }).then((user) => {\n                if (user) {\n                    errors.push({ msg: \"Email already exists\" });\n                    res.render(\"register\", {\n                        errors,\n                        name,\n                        email,\n                        password,\n                        password2,\n                        title: \"Register\",\n                        layout: \"Layout\",\n                    });\n                } else {\n                    const directory = \"/images/\";\n                    const newUser = new User({\n                        name,\n                        email,\n                        password,\n                        avatar: `./public/uploads/${req.file}`\n                    });\n                    const filePath = path.join(__dirname, \"../public/uploads/\");\n                    fs.rename(filePath + req.file.filename, req.file.fieldname + '-' + newUser._id + path.extname(req.file.originalname), (error) => {\n                        if (error) {\n                            return console.log(`Error: ${error}`);\n                        }\n                    });\n                    newUser.avatar = 'public/uploads/' + req.file.fieldname + '-' + newUser._id + path.extname(req.file.originalname);\n                    console.log(newUser);\n                    bcrypt.genSalt(10, (err, salt) => {\n                        bcrypt.hash(newUser.password, salt, (err, hash) => {\n                            if (err) throw err;\n                            newUser.password = hash;\n                            newUser\n                                .save()\n                                .then((user) => {\n                                    req.flash(\n                                        \"success_msg\",\n                                        \"You are now registered and can log in\"\n                                    );\n                                    res.redirect(\"/users/login\");\n                                })\n                                .catch((err) => console.log(err));\n                        });\n                    });\n                }\n            });\n        }\n    });\n    \n    // Login\n    router.post(\"/login\", (req, res, next) => {\n        passport.authenticate(\"local\", {\n            successRedirect: \"/dashboard\",\n            failureRedirect: \"/users/login\",\n            failureFlash: true,\n        })(req, res, next);\n    });\n    \n    // Logout\n    router.get(\"/logout\", (req, res) => {\n        req.logout();\n        req.flash(\"success_msg\", \"You are logged out\");\n        res.redirect(\"/users/login\");\n    });\n    \n    module.exports = router;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63331722",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "235565651",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // with tilde\n    console.log(`I'm going to\n    line break here,\n    here,\n    and maybe here as well`)\n    // without tilde\n    console.log('I'm going to\\nline break here,\\nhere,\\nand maybe here as well')\n    // same results ",
        "MostRecentVersion": "0",
        "Errors": 23,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "// with backtick\nconsole.log(`line 1\nline 2\nline 3`)\n// without backtick\nconsole.log('line 1\\nline 2\\nline 3')\n// same results ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63402359",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "236270770",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "let csvStr = \"\";\n// extend the same code from the answer above\n(async ()=>{\n    try {\n        /// ... \n        for( const file of files ) {\n            // ...\n            // ... \n            if( stat.isFile() ) {\n                console.log( \"'%s' is a file.\", fromPath );\n                // You can modify here to what you want\n                csvStr += fromPath + \", \";\n            } else if( stat.isDirectory() )\n                console.log( \"'%s' is a directory.\", fromPath );\n            // ....\n        }\n        // after looping, we can write the result\n        await fs.writeFile('FILE.csv', csvStr);\n        \n    }\n    catch( e ) {\n       //...\n    }\n})(); ",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.35526315789473684,
        "Content": "const fs = require('fs');\nconst path = require('path');\nlet csvStr = \"\";\nasync function loop(startPath) {\n    // Our starting point\n    try {\n        // Get the files as an array\n        const files = await fs.promises.readdir(startPath);\n        // Loop them all with the new for...of\n        for (const file of files) {\n            // Get the full paths\n            const currentPath = path.join(startPath, file);\n            // Stat the file to see if we have a file or dir\n            const stat = await fs.promises.stat(currentPath);\n            if (stat.isFile()) {\n                console.log(\"'%s' is a file.\", currentPath);\n                // put the file into csv string\n                csvStr += currentPath + \", \"\n            } else if (stat.isDirectory()) {\n                console.log(\"'%s' is a directory.\", currentPath);\n                // enter the dictionary and loop\n                await loop(currentPath);\n            }\n        } // End for...of\n    } catch (e) {\n        // Catch anything bad that happens\n        console.error(\"We've thrown! Whoops!\", e);\n    }\n}\n// Make an async function that gets executed immediately\n(async () => {\n    // start loop from the path where you run node\n    await loop(\"./\");\n    fs.writeFileSync(\"your.csv\", csvStr);\n})();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63407953",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "236328909",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var location = [ {\n      \"latitude\" : 21.112,\n      \"longitude\" : 79.07,\n      \"time\" : \"8:13AM\",\n      \"time1\" : \"8:13AM\"\n    }, \n    {\n      \"latitude\" : 21.111,\n      \"longitude\" : 79.07,\n      \"time\" : \"8:20AM\",\n      \"time1\" : \"8:20AM\"\n    }, \n    {\n      \"latitude\" : 21.111,\n      \"longitude\" : 79.07,\n      \"time\" : \"8:34AM\",\n      \"time1\" : \"8:34AM\"\n    }, \n    {\n      \"latitude\" : 21.111,\n      \"longitude\" : 79.07,\n      \"time\" : \"8:41AM\",\n      \"time1\" : \"8:41AM\"\n    }, \n    {\n      \"latitude\" : 21.109,\n      \"longitude\" : 79.07,\n      \"time\" : \"8:48AM\",\n      \"time1\" : \"8:48AM\"\n    }, \n    {\n      \"latitude\" : 21.108,\n      \"longitude\" : 79.07,\n      \"time\" : \"8:55AM\",\n      \"time1\" : \"8:55AM\"\n    }, \n    {\n      \"latitude\" : 21.108,\n      \"longitude\" : 79.069,\n      \"time\" : \"9:02AM\",\n      \"time1\" : \"9:02AM\"\n    }, \n    {\n      \"latitude\" : 21.107,\n      \"longitude\" : 79.069,\n      \"time\" : \"9:09AM\",\n      \"time1\" : \"9:09AM\"\n    }, \n    {\n      \"latitude\" : 21.106,\n      \"longitude\" : 79.069,\n      \"time\" : \"9:16AM\",\n      \"time1\" : \"9:16AM\"\n    }, \n    {\n      \"latitude\" : 21.105,\n      \"longitude\" : 79.069,\n      \"time\" : \"9:23AM\",\n      \"time1\" : \"9:23AM\"\n    }, \n    {\n      \"latitude\" : 21.104,\n      \"longitude\" : 79.069,\n      \"time\" : \"9:30AM\",\n      \"time1\" : \"9:30AM\"\n    }, \n    {\n      \"latitude\" : 21.105,\n      \"longitude\" : 79.069,\n      \"time\" : \"9:37AM\",\n      \"time1\" : \"9:37AM\"\n    }, \n    {\n      \"latitude\" : 21.105,\n      \"longitude\" : 79.07,\n      \"time\" : \"9:44AM\",\n      \"time1\" : \"9:44AM\"\n    }, \n    {\n      \"latitude\" : 21.105,\n      \"longitude\" : 79.071,\n      \"time\" : \"9:51AM\",\n      \"time1\" : \"9:51AM\"\n    }, \n    {\n      \"latitude\" : 21.106,\n      \"longitude\" : 79.072,\n      \"time\" : \"9:58AM\",\n      \"time1\" : \"9:58AM\"\n    }],\n        counts = Object.values(locations.reduce((r, o) => {\n            const key = ['latitude', 'longitude'].map(k => o[k]).join('|');\n            r[key] = r[key] || { ...o, count: 0 };\n            r[key].count++;\n            return r;\n        }, {}));\n    console.log(counts);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const\n        getKey = o => ['latitude', 'longitude'].map(k => o[k]).join('|'),\n        locations = [{ latitude: 21.112, longitude: 79.07, time: \"8:13AM\", time1: \"8:13AM\" }, { latitude: 21.111, longitude: 79.07, time: \"8:20AM\", time1: \"8:20AM\" }, { latitude: 21.111, longitude: 79.07, time: \"8:34AM\", time1: \"8:34AM\" }, { latitude: 21.111, longitude: 79.07, time: \"8:41AM\", time1: \"8:41AM\" }, { latitude: 21.109, longitude: 79.07, time: \"8:48AM\", time1: \"8:48AM\" }, { latitude: 21.108, longitude: 79.07, time: \"8:55AM\", time1: \"8:55AM\" }, { latitude: 21.108, longitude: 79.069, time: \"9:02AM\", time1: \"9:02AM\" }, { latitude: 21.107, longitude: 79.069, time: \"9:09AM\", time1: \"9:09AM\" }, { latitude: 21.106, longitude: 79.069, time: \"9:16AM\", time1: \"9:16AM\" }, { latitude: 21.105, longitude: 79.069, time: \"9:23AM\", time1: \"9:23AM\" }, { latitude: 21.104, longitude: 79.069, time: \"9:30AM\", time1: \"9:30AM\" }, { latitude: 21.105, longitude: 79.069, time: \"9:37AM\", time1: \"9:37AM\" }, { latitude: 21.105, longitude: 79.07, time: \"9:44AM\", time1: \"9:44AM\" }, { latitude: 21.105, longitude: 79.071, time: \"9:51AM\", time1: \"9:51AM\" }, { latitude: 21.106, longitude: 79.072, time: \"9:58AM\", time1: \"9:58AM\" }],\n        counts = locations.reduce((r, o) => {\n            const key = getKey(o);\n            r[key] = (r[key] || 0) + 1;\n            return r;\n        }, {}),\n        result = locations.map(o => ({ ... o, count: counts[getKey(o)] }));\n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63441891",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "236685834",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    class eventQueue {\n        constructor(emitter, errorHandler) {\n            this.emitter = emitter;\n            this.chain = Promise.resolve();\n            this.err = null;\n            this.emitter.on('error', err => {\n                // only ever call the errorHandler once\n                if (this.err) return;\n                this.err = err;\n                errorHandler(err);\n            });\n        }\n        on(event, handler) {\n            this.emitter.on(event, (...args) => {\n                // wait for previous events to be done before running this one\n                // and put the new end of the chain in this.chain\n                this.chain = this.chain.then(() => {\n                    // skip any queued handlers once we've received an error\n                    if (this.err) return;\n                    // now that the chain has gotten to us, call our event  handler\n                    return handler(...args);\n                }).catch(err => {\n                    if (this.err) return;\n                    this.err = err;\n                    errorHandler(err);\n                    throw err;\n                });\n            });\n        }\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    class eventQueue {\n        constructor(emitter, errorHandler) {\n            this.emitter = emitter;\n            this.errorHandler = errorHandler;\n            this.chain = Promise.resolve();\n            this.err = null;\n            this.emitter.on('error', this.processError.bind(this));\n        }\n        processError(err) {\n            // only ever call the errorHandler once\n            if (this.err) return;\n            this.err = err;\n            this.errorHandler(err);\n        }\n        on(event, handler) {\n            this.emitter.on(event, (...args) => {\n                // wait for previous events to be done before running this one\n                // and put the new end of the chain in this.chain\n                this.chain = this.chain.then(() => {\n                    // skip any queued handlers once we've received an error\n                    if (this.err) return;\n                    // now that the chain has gotten to us, call our event  handler\n                    return handler(...args);\n                }).catch(err => {\n                    this.processError(err);\n                    throw err;\n                });\n            });\n            return this;\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63575059",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "238061535",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    var htmlString = \"<h1><b>test</b></h1>\";\n    var plainString = htmlString.replace(/<[^>]+>/g, '');\n    var decodedStripedHtml = he.decode(plainString);\n    \n    console.log(decodedStripedHtml); // you will have your plain text",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    var htmlString = \"<h1><b>test</b></h1>\";\n    var plainString = htmlString.replace(/<[^>]+>/g, '');\n    \n    console.log(plainString ); // you will have your plain text",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63584585",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "238158316",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Write data\n    stream.write(JSON.stringify(data));",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.13636363636363635,
        "Content": "    var fs = require(\"fs\");\n    \n    var stream = fs.createWriteStream(\"./test.log\", {\n       encoding: \"utf-8\",\n       flags: \"a\",\n       autoClose: true\n    });\n    \n    // Data to log to file\n    var data = {\n       timestamp: new Date().toJSON(),\n       message: \"OK\"\n    };\n    \n    // Check if file is empty\n    var stats = fs.statSync(\"./test.log\");\n    var isEmpty = stats[\"size\"] == 0;\n    \n    // Write data\n    stream.write((isEmpty ? \"\" : \"\\n\") + JSON.stringify(data) );",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63756211",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "239913029",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "js\nfunction recursive() {\n    console.log(\"call started\");\n    return new Promise((resolve, reject) => { setTimeout(() => { console.log(\"call ended\"); resolve(5); recursive(); }, 5000) });\n};\nrecursive();\nOutput:\ncall started\ncall ended\ncall started\ncall ended\ncall started\ncall ended\ncall started\n...\nAbout your example:\njs\nfunction listen() {\n    SendEmbed.awaitReactions().then(collected => {\n        // your current logic\n        // call the function recursively\n        listen();\n    }).catch(() => {\n        // call recursively here as well to continue to listen even after an ERROR\n    });\n}",
        "MostRecentVersion": "0",
        "Errors": 29,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.5098039215686274,
        "Content": "    function recursive() {\n     console.log('Waiting for input');\n     return new Promise((resolve, reject) => {\n      setTimeout(() => {\n       console.log('Input received and processed');\n       resolve(5);\n       recursive();\n      }, 3000);\n     });\n    }\n    recursive();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63790830",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "240262347",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const refuse = [\">\", \";\", \"&\", \",\"]\n    const args = [\">>>>\", \";;;;;;\", \"&&\", \",,\"]\n    refuse.forEach((e, i) => {\n    \targs.forEach((string, index) => {\n      \tif(string.includes(e)) illegal = true;\n        console.log(\"Blacklisted\");\n      });\t\n    });\n    illegal = false;",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8928571428571429,
        "Content": "    const refuse = [\">\", \";\", \"&\", \",\"]\n    const args = [\">>>>\", \";;;;;;\", \"&&\", \",,\"]\n    function checkIllegal(refuse, args) {\n      let illegal = false;\n      refuse.forEach(e => {\n        args.forEach(string => {\n          if (string.includes(e)) illegal = true;\n          console.log(\"Blacklisted\");\n        });\n      });\n      return illegal;\n    }\n    console.log(checkIllegal(refuse, args));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63805634",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "240410178",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const apiAdapter = require('./apiAdapter');\n    \n    const BASE_URL = 'http://localhost:3000';\n    const api = apiAdapter(BASE_URL);\n    \n    module.exports = (router, mysqlConnection) => {\n        router.get('/employees/:id', (req, res) => {\n            mysqlConnection.query('SELECT * FROM Employee WHERE Id = ?', [req.params.Id], (err, rows, fields) => {\n                if (!err) {\n                    res.send(fields);\n                } else {\n                    console.log(err);\n                    res.sendStatus(500);\n                }\n            });\n    \n            api.get('/checkAudtStatus', req.body).then(respond => {\n    \n                    if (respond.data === true) {\n                        api.post('/createAuditRecord', req.body)\n                            .then(respond) {\n                                res.send(res.data)\n                            }\n                    }\n                }\n        });\n        return router;\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8936170212765957,
        "Content": "    const apiAdapter = require('./apiAdapter');\n    \n    const BASE_URL = 'http://localhost:3000';\n    const api = apiAdapter(BASE_URL);\n    \n    module.exports = (router, mysqlConnection) => {\n        router.get('/employees/:id', (req, res) => {\n            mysqlConnection.query('SELECT * FROM Employee WHERE Id = ?', [req.params.Id], (err, rows, fields) => {\n                if (!err) {\n                    res.send(fields);\n                } else {\n                    // send some sort of error status\n                    console.log(err);\n                    res.sendStatus(500);\n                    return;\n                }\n            });\n    \n            api.get('/checkAudtStatus', req.body).then(respond => {\n                if (respond.data === true) {\n                    api.post('/createAuditRecord', req.body).then(res => {\n                        res.send(res.data);\n                    });\n                }\n            });\n        });\n        return router;\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63822891",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "240580512",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    sequelize.sync({ force: false }).then(() => {\n    console.log(\"Drop and re-sync db.\");\n    });",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.18947368421052632,
        "Content": "    'use strict';\n    const Sequelize = require('sequelize');\n    const cls = require('cls-hooked');\n    const namespace = cls.createNamespace('my-very-own-namespace');\n    Sequelize.useCLS(namespace);\n    const config = require(\"../environments/index\");\n    // server connection settings\n    var db_instance = new Sequelize(config.DB.database, config.DB.username, config.DB.password, {\n      host: config.DB.host,\n      dialect: config.DB.dialect,\n      define: {\n        timestamps: false\n      },\n      logging: false\n    });\n    var sequelize = db_instance;\n    // checks the database connectivity\n    sequelize\n      .authenticate()\n      .then(() => {\n        console.log('Connection has been established successfully.');\n      })\n      .catch(err => {\n        console.error('Unable to connect to the database:', err);\n      });\n    const db = {};\n    db.sequelize = sequelize;\n    db.Sequelize = Sequelize;\n    // create the modal instance \n    db.users = require('../model/users.model')(sequelize, Sequelize);\n    db.country = require('../model/country.model')(sequelize, Sequelize);\n    db.state = require('../model/state.model')(sequelize, Sequelize);\n    db.city = require('../model/city.model')(sequelize, Sequelize);\n    db.verify_otp = require('../model/verify_otp.model')(sequelize, Sequelize);\n    db.organizations = require('../model/organizations.model')(sequelize, Sequelize);\n    db.features = require('../model/features.model')(sequelize, Sequelize);\n    db.user_features = require('../model/user_features.model')(sequelize, Sequelize);\n    db.roles = require('../model/roles.model')(sequelize, Sequelize);\n    db.user_roles = require('../model/user_roles.model')(sequelize, Sequelize);\n    db.sequelize.sync({ force: true }).then(() => {\n      console.log(\"Drop and re-sync db.\");\n    });\n    module.exports = db;",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63903844",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "241391709",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let timestamp = '2020-09-15 11:52:22.000';\n    let tz = 'Z';\n    let date = parse(timestamp + tz, 'yyyy-MM-dd HH:mm:ssX')\n    console.log(date.toISOString()); // 2020-09-15T11:52:22.000Z",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const dateFns = require(\"date-fns\");\n    const { zonedTimeToUtc, utcToZonedTime, format } = require('date-fns-tz');\n    \n    let timestamp = '2020-09-15 11:52:22.000';\n    let tz = 'Z';\n    let date = dateFns.parse(timestamp + tz, 'yyyy-MM-dd HH:mm:ss.SSSX', new Date()); \n    // Show timestamp was parsed as UTC\n    console.log(date.toISOString()); // 2020-09-15T11:52:22.000Z\n    \n    // Produce UTC output - need to set timezone first\n    let utcDate = utcToZonedTime(date, 'UTC');\n    // Manually add timezone to formatted string\n    console.log(format(utcDate, 'd MMM yyyy HH:mm \\'UTC\\'', 'UTC')); // 15 Sep 2020 11:52 UTC",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63921498",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "241571005",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const token = req.get('Authorization'); //get header from req by name 'Autherization'\n    if(!token || token===''){\n        req.isAuth = false;\n        return next();\n    }\n    try {\n        let decoded = jwt.verify(token, 'thisissecret');\n        req.duser = decoded.user;\n        res.status(200).send(\"Access granted.\");\n    } catch (error) {\n        return res.status(403).send(\"Token is not valid.\");\n    }\n    req.isAuth = true;\n    return next()",
        "MostRecentVersion": "0",
        "Errors": 7,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7792207792207793,
        "Content": "    const jwt = require(\"jsonwebtoken\");\n    module.exports = (req, res, next) => {\n    const token = req.get(\"Authorization\"); //get header from req by name 'Autherization'\n     if (!token || token === \"\") {\n        req.isAuth = false;\n        return next();\n      }\n      try {\n        let decoded = jwt.verify(token, \"thisissecret\");\n        req.duser = decoded.user;\n        res.status(200).send(\"Access granted.\");\n      } catch (error) {\n        return res.status(403).send(\"Token is not valid.\");\n      }\n      req.isAuth = true;\n      return next();\n    };\n ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63980772",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "242168835",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    fs.readFile('Path here', {encoding: 'utf-8'}, function (err, html) {\n     if (err) {\n       console.log(err);\n     } else {\n       let mailOptions = {\n         from: 'youremail@gmail.com',\n         to: 'myfriend@gmail.com',\n         subject: 'Sending Html in node mailer',\n         html: html\n       };\n       transporter.sendMail(mailOptions, function(error, info) {\n        if (error) {\n         console.log(error);\n        } else {\n         console.log('Email has been sent: ' + info.response);\n        }\n      });\n     }\n    });",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8505747126436781,
        "Content": "    var nodemailer = require('nodemailer');\n    var fs = require('fs');\n    var transporter = nodemailer.createTransport({\n     service: 'gmail',\n     auth: {\n       user: 'youremail@gmail.com',\n       pass: 'yourpassword'\n     }\n    });\n    fs.readFile('Path here', {encoding: 'utf-8'}, function (err, html) {\n     if (err) {\n       console.log(err);\n     } else {\n       let mailOptions = {\n         from: 'youremail@gmail.com',\n         to: 'myfriend@gmail.com',\n         subject: 'Sending Html in node mailer',\n         html: html\n       };\n       transporter.sendMail(mailOptions, function(error, info) {\n        if (error) {\n         console.log(error);\n        } else {\n         console.log('Email has been sent: ' + info.response);\n        }\n      });\n     }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63982440",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "242185229",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "class Customer {\n  constructor() {\n    this.shoppingBasket = [];\n    this.startShoppingPropertyFunction = () => {\n      const prompt = require(\"prompt-sync\")();\n      const itemName = prompt(\"What item is this?\");\n      const itemPrice = prompt(\"How much is it?\");\n      const taxExemption = promt(\"Is this a food, book or medical product?\");\n      console.log(`Your item is ${itemName}`);\n    }\n  }\n  startShoppingMethod() {\n      const prompt = require(\"prompt-sync\")();\n      const itemName = prompt(\"What item is this?\");\n      const itemPrice = prompt(\"How much is it?\");\n      const taxExemption = promt(\"Is this a food, book or medical product?\");\n      console.log(`Your item is ${itemName}`);\n  }\n}\nconst myCustomer = new Customer;\nmyCustomer.startShoppingMethod();\nmyCustomer.startShoppingPropertyFunction();",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7956989247311828,
        "Content": "// We normally require/import things at the top, but not nessesarily.\n// const PromptSync = require(\"prompt-sync\");\nclass Customer {\n  constructor() {\n    this.shoppingBasket = [];\n    this.startShoppingPropertyFunction = () => {\n      // If imported at top, use this instead:\n      // const prompt = new PromptSync();\n      const prompt = require(\"prompt-sync\")();\n      const itemName = prompt(\"What item is this?\");\n      const itemPrice = prompt(\"How much is it?\");\n      const taxExemption = prompt(\"Is this a food, book or medical product?\");\n      console.log(`Your item is ${itemName}`);\n    }\n  }\n  startShoppingMethod() {\n    // If imported at top, use this instead:\n    // const prompt = new PromptSync();\n    const prompt = require(\"prompt-sync\")();\n    const itemName = prompt(\"What item is this?\");\n    const itemPrice = prompt(\"How much is it?\");\n    const taxExemption = prompt(\"Is this a food, book or medical product?\");\n    console.log(`Your item is ${itemName}`);\n  }\n}\nconst myCustomer = new Customer();\nmyCustomer.startShoppingMethod();\nmyCustomer.startShoppingPropertyFunction();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "63994858",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "242309390",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let rows = [\n            {\n                \"id\": 1,\n                \"username\": \"Fido\",\n                \"name\": \"Alex Cristianssss\",\n                \"avatar\": \"aaa.jpg\",\n                \"email\": \"rudra@mail.com\",\n                \"role\": \"admin\",\n                \"status\": \"active\",\n                \"is_verified\": \"true\",\n                \"registered\": \"0000-00-00 00:00:00\",\n                \"last_login\": \"0000-00-00 00:00:00\",\n                \"progress\": \"44%\",\n                \"inf_id\": 1,\n                \"dob\": \"25 September 2020\",\n                \"city\": \"\",\n                \"mobile\": \"3333\",\n                \"website\": \"http://daaaaaa.ro\",\n                \"lang_known\": \"Romana\",\n                \"gender\": \"male\",\n                \"twitter\": \"https://twitter.com/aaaaa\",\n                \"facebook\": \"https://twitter.com/adoptionism744\",\n                \"instagram\": \"https://twitter.com/adoptionism744\",\n                \"github\": \"https://twitter.com/adoptionism744k\",\n                \"codepen\": \"https://twitter.com/adoptionism744\",\n                \"slack\": \"@adoptionism744\"\n            }\n        ];\n        \n    let result = rows.map(el => {\n        el.contact_options = {\n          email: el.email || null,\n          message: el.message || null,\n          phone: el.phone || null\n        };\n        delete (\n          el.email, el.message, el.phone\n        );\n        return el;\n    });\n    console.log(result);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9929078014184397,
        "Content": "    let rows = [\n            {\n                \"id\": 1,\n                \"username\": \"Fido\",\n                \"name\": \"Alex Cristianssss\",\n                \"avatar\": \"aaa.jpg\",\n                \"email\": \"rudra@mail.com\",\n                \"role\": \"admin\",\n                \"status\": \"active\",\n                \"is_verified\": \"true\",\n                \"registered\": \"0000-00-00 00:00:00\",\n                \"last_login\": \"0000-00-00 00:00:00\",\n                \"progress\": \"44%\",\n                \"inf_id\": 1,\n                \"dob\": \"25 September 2020\",\n                \"city\": \"\",\n                \"mobile\": \"3333\",\n                \"website\": \"http://daaaaaa.ro\",\n                \"lang_known\": \"Romana\",\n                \"gender\": \"male\",\n                \"twitter\": \"https://twitter.com/aaaaa\",\n                \"facebook\": \"https://twitter.com/adoptionism744\",\n                \"instagram\": \"https://twitter.com/adoptionism744\",\n                \"github\": \"https://twitter.com/adoptionism744k\",\n                \"codepen\": \"https://twitter.com/adoptionism744\",\n                \"slack\": \"@adoptionism744\"\n            }\n        ];\n        \n        let result = rows.map(el => {\n          el.contact_options = {\n          email: el.email || null,\n          message: el.message || null,\n          phone: el.phone || null\n        };\n        delete el.email, el.message, el.phone;\n        return el;\n    });\n    console.log(result);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64010456",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "242464084",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "{'flower': 0.5, 'book': 0.3, 'mobile': 0.2}\nNext, following are the steps you might take:\n* considering probabilities are given as fractional numbers, you need to normalize them to make those integers (e.g. when `0.1, 0.01, 0.001` are given, you may multiply each probability by 10³, to get `100, 10, 1`)\n* after that you need to loop through items and insert that corresponding number of times into random positions of common array\n* pick random item out of resulting array\nTo see above concept in action and make sure it even works, check out the following live demo, paying attention to `distribution` object holding the frequency the item is seen per 1k outcomes:",
        "MostRecentVersion": "0",
        "Errors": 178,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.6111111111111112,
        "Content": "    const items = {'flower': 0.5, 'book': 0.2, 'mobile': 0.2, '1mUSD': 0.1},\n          // main function\n          getPseudoRandom = items => {\n            let totalWeight = 0,\n                ranges = [],\n                rnd = Math.random()\n            for(const itemName in items){      \n              ranges.push({\n                itemName,\n                max: totalWeight += items[itemName]\n              })\n            }           \n            return ranges\n                    .find(({max}) => max > rnd*totalWeight)\n                    .itemName\n          },\n          \n          // test of random outcomes distribution\n          outcomes = Array(1000)\n            .fill()\n            .map(_ => getPseudoRandom(items)),\n          distribution = outcomes.reduce((acc, item, _, s) => \n            (acc[item] = (acc[item]||0)+100/s.length, acc), {})\n    console.log(distribution)",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64069687",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "243063452",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // Validation Class\n    module.exports.sanitizeName = (name) => {\n      if(name === '' || name === null || name === undefined) {\n        throw new Error('Name is required and cannot be null or undefined)\n      } else {\n        let cleanedName = name.toLowerCase();\n        return cleanedName;\n      }\n    }",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9824561403508771,
        "Content": "    // Validation Class\n    module.exports.sanitizeName = (name) => {\n      if(name === '' || name === null || name === undefined) {\n        throw new Error('Name is required and cannot be null or undefined')\n      } else {\n        let cleanedName = name.toLowerCase();\n        return cleanedName;\n      }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64075817",
    "RootLocalId": "4",
    "RootPostBlockVersionId": "243125524",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let myHalvedNumber = halveNumber(myNumber);\n    aSecondFunction(myHalvedNumber);",
        "MostRecentVersion": "0",
        "Errors": 3,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.19672131147540983,
        "Content": "    //These two approaches are identical and both valid:\n    //1) Assign to a variable for further use - typically better for variable re-use:\n    let myHalvedNumber = halveNumber(10);\n        aSecondFunction(myHalvedNumber);\n    //2) Use the result directly in a second call - typically shorter and arguably easier to maintain/read\n        aSecondFunction(halveNumber(10));\n    function halveNumber(myNumber){\n        return myNumber/2;\n    }\n    function aSecondFunction (myNumber){\n        console.log(\"the number is: \" + myNumber)\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64102585",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "243393621",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "output: {\n    publicPath: '/',\n}",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "output: {\n    publicPath: '/'\n}",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64239840",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "244772082",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const app = express();\n    app.use(express.static(\"./\"));\n    app.use(fileUpload());\n    app.post('/upload', (req, res) => {\n    try {\n        let sampleFile = req.files.File;\n        console.log(\"Sample file:\", sampleFile);\n        parsePDF(sampleFile.data);\n        res.sendStatus(201);\n    } catch (err) {\n        res.send(err.message);\n    }\n    });\n    function parsePDF(data) {\n        const pdfParser = new PDFParser();\n        pdfParser.on(\"pdfParser_dataError\", errData => console.error(\"parsePDF error:\", errData.parserError) );\n        pdfParser.on(\"pdfParser_dataReady\", pdfData => {\n            console.log(\"parsePDF: PDF data:\", JSON.stringify(pdfData, null, 2));\n        });\n        pdfParser.parseBuffer(data);\n    }\n    const PORT = process.env.PORT || 5000;\n    app.listen(PORT, () => console.log(`server started on port ${PORT}`));",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.746031746031746,
        "Content": "    const express = require('express');\n    const fileUpload = require('express-fileupload');\n    const PDFParser = require(\"pdf2json\");\n    const app = express();\n    app.use(express.static(\"./\"));\n    app.use(fileUpload());\n    app.post('/upload', async (req, res) => {\n        try {\n            let sampleFile = req.files.File;\n            console.log(\"Sample file:\", sampleFile);\n            let text = await getPDFText(sampleFile.data);\n            console.log(\"PDF Text:\", text);\n            res.sendStatus(201);\n        } catch (err) {\n            res.send(err.message);\n        }\n    });\n    function getPDFText(data) {\n        return new Promise((resolve, reject) => {\n            const pdfParser = new PDFParser(null, 1);\n            pdfParser.on(\"pdfParser_dataError\", reject);\n            pdfParser.on(\"pdfParser_dataReady\", pdfData => {\n                resolve(pdfParser.getRawTextContent());\n            });\n            pdfParser.parseBuffer(data);\n        });\n    }\n    const PORT = process.env.PORT || 5000;\n    app.listen(PORT, () => console.log(`server started on port ${PORT}`));",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64396735",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "246330602",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function convertToSmilies(MessageString) {\n            var replaceall = require(\"replaceall\");\n            var count = 0\n            MessageString = MessageString.replaceAll(\"&gt;:D&lt;\", function(){\n                 counter++;     \n                 return \"\";\n            });\n            MessageString = MessageString.replaceAll(\":C\", function(){\n                 counter++;     \n                 return \"☹️\";\n            });\n            MessageString = MessageString.replaceAll(\"O:-)\", function(){\n                 counter++;     \n                 return \"\";\n            });\n            MessageString = MessageString.replaceAll(\"}:-)\", function(){\n                 counter++;     \n                 return \"\";\n            });\n            return MessageString;\n    };",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.7222222222222222,
        "Content": "    function convertToSmilies(MessageString) {\n    \n        var counter = 0\n        MessageString = MessageString.replace(/&gt;:D&lt;/gm, function(){\n             counter++;     \n             return \"\";\n        });\n    \n        MessageString = MessageString.replace(/C/gm, function(){\n             counter++;     \n             return \"☹️\"\n        });\n    \n        MessageString = MessageString.replace(/O:-\\)/gm, function(){\n             counter++;     \n             return \"\";\n        });\n    \n        MessageString = MessageString.replace(/}:-\\)/gm, function(){\n             counter++;     \n             return \"\";\n        });\n        return MessageString;\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64442562",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "246782136",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    // getDealershipById.js\n    module.exports = async function(id) {\n         return await db.getCollection('foo').find({ id }).toArray();\n    }",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.24390243902439024,
        "Content": "    module.exports = function(id) {\n        return new Promise((resolve, reject) => {\n            const pool = require('../loaders/pool.js')();\n            pool.query(\n                \"SELECT * FROM dealerships WHERE id = '\" + id + \"';\",\n                (err, res) => {\n                    if (err) {\n                        console.error(err.stack);\n                        reject(err);\n                    }\n                    else {\n                        resolve(res.rows[0]);\n                    }\n                }\n            );\n        });\n    };",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64445235",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "246808372",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    function readEmails(){\n        const fs = require('fs');\n        clients_list = fs.readFileSync('clients.txt', 'utf8').split('\\n');\n        let filtered = clients_list.filter(function (el) {\n            return el != null && el != '';\n        });\n        return filtered\n    }\n    function dump_array(arr, file){\n        let fs = require('fs');\n        let file = fs.createWriteStream(file);\n        file.on('error', function(err) { /* error handling */ });\n        arr.forEach(function(v) { file.write(v + '\\n'); });\n        file.end();\n    }\n    let while_var = 2;\n    let all_clients = readEmails();\n    let selected_clients = [];\n    while (while_var--) {\n        if (all_clients.length > 0){\n            const selected_client = all_clients.shift();\n    \t\tselected_clients.push(selected_client);\n    \t\t// send email to `selected_client`\n            console.log(selected_clients);\n        }else{\n            break;\n        }\n    }\n    dump_array(all_clients, 'clients.txt');",
        "MostRecentVersion": "0",
        "Errors": 4,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.46774193548387094,
        "Content": "    const fs = require('fs');\n    \n    function readEmails(){\n    \tconst clients_list = fs.readFileSync('clients.txt', 'utf8').split('\\n');\n    \tconst filtered = clients_list\n            // clear false, 0 and undefined too\n    \t\t.filter(el => !!el) \n            // remove extra spaces and \\r symbols\n    \t\t.map(el => el.trim()); \n    \treturn filtered;\n    }\n    function dump_array(arr, file){\n        // Here you need sync method. \n    \tfs.writeFileSync(file, arr.join('\\n')); \n        // And here was 'already declared' error in orginal code\n    }\n    \n    let while_var = 0;\n    while (while_var++ < 2){\n        let all_clients = readEmails();\n        let selected_clients = [];\n        if (all_clients.length > 0){\n            selected_clients = all_clients.splice(0,2);\n            dump_array(all_clients, 'clients.txt');\n            console.log(selected_clients);\n        }else{\n            console.log('No more clients')\n        }\n    }",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64498004",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "247317969",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "      const fse = require('fs-extra');\n        let srcDir = `path/to/file ;\n        let destDir = `pat/to/destination/diractory`;\n       fse.copySync(srcDir, destDir, function (err) {\n       // to copy folder\n            if (err) {\n                console.error(err);\n            } else {\n                console.log(\"success!\");\n            }\n        });\n        ",
        "MostRecentVersion": "0",
        "Errors": 5,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const fse = require('fs-extra');\n    const srcDir = `path/to/file`;\n    const destDir = `path/to/destination/directory`;\n    // To copy a folder or file\n    fse.copySync(srcDir, destDir, function (err) {\n      if (err) {\n        console.error(err);\n      } else {\n        console.log(\"success!\");\n      }\n    });",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64644860",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "248745102",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    let utcTimeOffset = '+0630';\n    var d = new Date(\n      '20200908232201'.replace(\n        /^(\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)$/,\n        '$2-$3-$1 $4:$5:$6'\n      ) + utcTimeOffset\n    );\n    var utcDate = new Date(\n      Date.UTC(\n        d.getUTCFullYear(),\n        d.getUTCMonth(),\n        d.getUTCDate(),\n        d.getUTCHours(),\n        d.getUTCMinutes(),\n        d.getUTCSeconds()\n      )\n    );\n    var MyDateString =\n      ('0' + utcDate.getUTCDate()).slice(-2) +\n      '-' +\n      ('0' + (utcDate.getUTCMonth() + 1)).slice(-2) +\n      '-' +\n      utcDate.getUTCFullYear() +\n      ' ' +\n      ('0' + utcDate.getUTCHours()).slice(-2) +\n      '-' +\n      ('0' + utcDate.getUTCMinutes()).slice(-2) +\n      '-' +\n      ('0' + utcDate.getUTCSeconds()).slice(-2);\n    console.log(MyDateString);\n     let utcTimeOffset = '+0630';\n      var d = new Date(\n      '20200908232201'.replace(\n        /^(\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)$/,\n        '$2-$3-$1 $4:$5:$6'\n      ) + utcTimeOffset\n    );",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    let utcTimeOffset = '+0630';\n    var d = new Date(\n      '20200908232201'.replace(\n        /^(\\d{4})(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)(\\d\\d)$/,\n        '$2-$3-$1 $4:$5:$6'\n      ) + utcTimeOffset\n    );\n    var utcDate = new Date(\n      Date.UTC(\n        d.getUTCFullYear(),\n        d.getUTCMonth(),\n        d.getUTCDate(),\n        d.getUTCHours(),\n        d.getUTCMinutes(),\n        d.getUTCSeconds()\n      )\n    );\n    var MyDateString =\n      ('0' + utcDate.getUTCDate()).slice(-2) +\n      '-' +\n      ('0' + (utcDate.getUTCMonth() + 1)).slice(-2) +\n      '-' +\n      utcDate.getUTCFullYear() +\n      ' ' +\n      ('0' + utcDate.getUTCHours()).slice(-2) +\n      '-' +\n      ('0' + utcDate.getUTCMinutes()).slice(-2) +\n      '-' +\n      ('0' + utcDate.getUTCSeconds()).slice(-2);\n    console.log(MyDateString);\n     ",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64720533",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "249366124",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "js\nfunction sleep(ms) {\n    return new Promise((res, rej) => {\n        setTimeout(() => {\n            res();\n        }, ms);\n    });\n}\nasync function main() {\n    const arr = [1, 2, 3];\n    for (const a of arr) {\n        console.log(a);\n        await sleep(1000);\n    }\n}\nmain();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9818181818181818,
        "Content": "    function sleep(ms) {\n        return new Promise((res, rej) => {\n            setTimeout(() => {\n                res();\n            }, ms);\n        });\n    }\n    async function main() {\n        const arr = [1, 2, 3];\n        for (const a of arr) {\n            console.log(a);\n            await sleep(1000);\n        }\n    }\n    main();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64824484",
    "RootLocalId": "6",
    "RootPostBlockVersionId": "250216965",
    "Versions": [
      {
        "PredCount": "1",
        "Content": "    var regex_string = String.raw('establish(?:ment|es|ed)?\\b')",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const regexString = String.raw`establish(?:ment|es|ed)?\\b`",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64860542",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "250524425",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp();\nconst Firestore = admin.firestore;\nconst db = Firestore();\nexports.onProductUpdate = functions.firestore.document('Product/{productId}').onUpdate(async(snap, context) => {\n    const deletePost = snap.before.data().sample;\n    const bucket = admin.storage().bucket();\n    await bucket.file(deletePost).delete())\n}",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.8333333333333334,
        "Content": "const functions = require('firebase-functions');\nconst admin = require('firebase-admin');\nadmin.initializeApp();\nconst Firestore = admin.firestore;\nconst db = Firestore();\nexports.onProductUpdate = functions.firestore.document('Product/{productId}').onUpdate(async(snap, context) => {\n    const deletePost = snap.before.data().sample;\n    const bucket = admin.storage().bucket();\n    await bucket.file(deletePost).delete();\n    return null;   // See https://firebase.google.com/docs/functions/terminate-functions\n \n});",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64939913",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251204212",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "const img_base64 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=='\nconst server = require('http').createServer((req,res)=>{\n  console.log('got req', req.url)\n  // Extract image data\n  const m = /^data:(.+?);base64,(.+)$/.exec(img_base64)\n  if (!m) throw new Error(`Not a base64 image [${file.substr(0,15)}...]`)\n  const [ _, content_type, file_base64 ] = m\n  const file = Buffer.from(file_base64,'base64')\n  res.writeHead(200, {\n    'Content-Type': content_type,\n    'Content-Length': file.length\n  });\n  res.end(file);\n})\nserver.listen(3132, ()=> console.log('hi', server.address()))",
        "MostRecentVersion": "0",
        "Errors": 2,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.975,
        "Content": "const img_base64 = 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHElEQVQI12P4//8/w38GIAXDIBKE0DHxgljNBAAO9TXL0Y4OHwAAAABJRU5ErkJggg=='\nconst server = require('http').createServer((req,res)=>{\n  console.log('got req', req.url)\n  // Extract image data\n  const m = /^data:(.+?);base64,(.+)$/.exec(img_base64)\n  if (!m) throw new Error(`Not a base64 image [${img_base64}]`)\n  const [ _, content_type, file_base64 ] = m\n  const file = Buffer.from(file_base64,'base64')\n  res.writeHead(200, {\n    'Content-Type': content_type,\n    'Content-Length': file.length\n  });\n  res.end(file);\n})\nserver.listen(3132, ()=> console.log('hi', server.address()))",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64940498",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "251209490",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "js\n(async () => {\n    async function fetchComNames() {\n        return new Promise(function(resolve, reject) {\n            setTimeout(function() {\n                // I don't have access to you API, I resolve data after 1 second to simulate Ajax call here\n                resolve({\n                    data: [{\n                        name: \"1\"\n                    }, {\n                        name: \"2\"\n                    }, {\n                        name: \"3\"\n                    }, {\n                        name: \"4\"\n                    }]\n                });\n            }, 1000);\n        }).then(res => {\n            return res.data.map(each => each.name)\n        });\n    }\n    const arr = await fetchComNames();\n    console.log(arr[0]);\n})();",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9622641509433962,
        "Content": "(async () => {\n    const arr = [];\n    // Marking this function as async function so that \n    // we can use await to wait until result returning \n    // before further executing code below\n    async function fetchComNames() {\n        // I don't have access to you API\n        // I resolve data after 1 second to simulate Ajax call here\n        return new Promise(function(resolve, reject) {\n            setTimeout(function() {\n                resolve({\n                    data: [{\n                        name: \"1\"\n                    }, {\n                        name: \"2\"\n                    }, {\n                        name: \"3\"\n                    }, {\n                        name: \"4\"\n                    }]\n                });\n            }, 1000);\n        }).then(res => {\n            return res.data.map(each => each.name)\n        });\n    }\n    // You are calling Ajax call via Axios, which is a Promise. \n    // It is executed asyncrhoniously. \n    // If you need to use result from this call, \n    // you need to wait until result returning from async call. \n    // You can achieve it with await.\n    \n    // Update existing array\n    arr.push(...(await fetchComNames()));\n    // After await, arr should contain result you expected.\n    console.log(arr[0]);\n    // There reason why your version is not working \n    // is because you are accessing the first cell of arr \n    // wihich is still empty as the Axios is still running \n    // and you are not waiting until it returns result.\n})();",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "64951443",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "251302239",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    allDishes = [{\n        DishId: 40,\n        DishName: \"Mango\",\n        TimeSpan: 98\n      },\n      {\n        DishId: 41,\n        DishName: \"Banana\",\n        TimeSpan: 99\n      },\n      {\n        DishId: 42,\n        DishName: \"Orange\",\n        TimeSpan: 100\n      }\n    ];\n    var dishesArray = [];\n    for (i = 0; i < allDishes.length; i++) {\n      const dish = {} // NEW\n      dish.DishId = allDishes[i].DishId;\n      dish.DishName = allDishes[i].DishName;\n      dishesArray.push(dish);\n    }\n    console.log(dishesArray);",
        "MostRecentVersion": "0",
        "Errors": 9,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "1",
        "PredSimilarity": 1,
        "Content": "    const allDishes = [{ // changed\n        DishId: 40,\n        DishName: \"Mango\",\n        TimeSpan: 98\n      },\n      {\n        DishId: 41,\n        DishName: \"Banana\",\n        TimeSpan: 99\n      },\n      {\n        DishId: 42,\n        DishName: \"Orange\",\n        TimeSpan: 100\n      }\n    ];\n    const dishesArray = []; // changed\n    for (let i = 0; i < allDishes.length; i++) { // changed\n      const dish = {} // NEW\n      dish.DishId = allDishes[i].DishId;\n      dish.DishName = allDishes[i].DishName;\n      dishesArray.push(dish);\n    }\n    console.log(dishesArray);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "65091182",
    "RootLocalId": "2",
    "RootPostBlockVersionId": "252490799",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    data = {\n        \"patient_set_id\": \"5a9dbfca-74d6-471a-af27-31beb4b53bb2\",\n        \"calculation_time\": \"2020-12-01 11:57:34\",\n        \"label\": \"{5/27/20, Apr. 2020, Aug 2019, Dec 2019}\",\n        \"critical_count\": \"{2, 4, 5, 4}\",\n        \"median_risk\": \"{1.05, 1.25, 1.07, 1.13}\"\n    };\n    labels = data.label.split(',');\n    critical_counts = data.critical_count.split(',');\n    median_risks = data.median_risk.split(',');\n    internals = labels.reduce((internals, l, i)=>{\n    \tconst clean = (s) => s.replace('{','').replace('}','').trim();\n    \tinternals.push({\n    \t\tlabel: clean(l),\n            cat4_cnt: {count: clean(critical_counts[1])},\n            median: clean(median_risks[i])\n    \t});\n    \treturn internals;\n    },[])\n    console.log(internals);",
        "MostRecentVersion": "0",
        "Errors": 12,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 1,
        "Content": "    const data = {\n        \"patient_set_id\": \"5a9dbfca-74d6-471a-af27-31beb4b53bb2\",\n        \"calculation_time\": \"2020-12-01 11:57:34\",\n        \"label\": \"{5/27/20, Apr. 2020, Aug 2019, Dec 2019}\",\n        \"critical_count\": \"{2, 4, 5, 4}\",\n        \"median_risk\": \"{1.05, 1.25, 1.07, 1.13}\"\n    };\n    const labels = data.label.split(',');\n    const critical_counts = data.critical_count.split(',');\n    const median_risks = data.median_risk.split(',');\n    const internals = labels.reduce((internals, l, i)=>{\n    \tconst clean = (s) => s.replace('{','').replace('}','').trim();\n    \tinternals.push({\n    \t\tlabel: clean(l),\n            cat4_cnt: {count: clean(critical_counts[1])},\n            median: clean(median_risks[i])\n    \t});\n    \treturn internals;\n    },[])\n    console.log(internals);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  },
  {
    "PostId": "65104656",
    "RootLocalId": "1",
    "RootPostBlockVersionId": "252589475",
    "Versions": [
      {
        "PredCount": "0",
        "Content": "    const fs = require(\"fs\");\n    \n    var myKey = fs.readFileSync(\"mykey.pem\").replace(\"-----BEGIN RSA PRIVATE KEY-----\", \"\").replace(\"-----END RSA PRIVATE KEY-----\", \"\").trim();\n    \n    console.log(\"My key is: \", myKey);",
        "MostRecentVersion": "0",
        "Errors": 1,
        "HasCode": true
      },
      {
        "PredCount": "1",
        "PredEqual": "0",
        "PredSimilarity": 0.9142857142857143,
        "Content": "    const fs = require(\"fs\");\n    \n    var myKey = fs.readFileSync(\"mykey.pem\", \"utf8\").replace(\"-----BEGIN RSA PRIVATE KEY-----\", \"\").replace(\"-----END RSA PRIVATE KEY-----\", \"\").trim();\n    \n    console.log(\"My key is: \", myKey);",
        "MostRecentVersion": "1",
        "Errors": 0,
        "HasCode": true
      }
    ]
  }
]